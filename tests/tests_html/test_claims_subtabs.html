<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>åŠŸèƒ½ä¸ƒå­æ ‡ç­¾é¡µæµ‹è¯•</title>
    <style>
        body {
            font-family: 'Microsoft YaHei', sans-serif;
            padding: 20px;
            background: #f5f5f5;
        }
        
        .sub-tab-container {
            display: flex;
            gap: 10px;
            margin-bottom: 20px;
            border-bottom: 2px solid #ddd;
            padding-bottom: 10px;
        }
        
        .sub-tab-button {
            padding: 10px 20px;
            border: none;
            background: #e0e0e0;
            cursor: pointer;
            border-radius: 5px 5px 0 0;
            transition: all 0.3s;
        }
        
        .sub-tab-button.active {
            background: #4a6cf7;
            color: white;
        }
        
        .claims-sub-tab {
            display: none;
            padding: 20px;
            background: white;
            border-radius: 8px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
        }
        
        .claims-sub-tab.active {
            display: block;
        }
        
        .test-content {
            padding: 20px;
            background: #f9f9f9;
            border-radius: 5px;
            margin-top: 10px;
        }
        
        .claim-item {
            padding: 15px;
            margin-bottom: 15px;
            border-radius: 8px;
            border-left: 4px solid #ddd;
        }
        
        .claim-item.independent {
            background: linear-gradient(90deg, rgba(74, 108, 247, 0.1), rgba(74, 108, 247, 0.05));
            border-left-color: #4a6cf7;
        }
        
        .claim-item.dependent {
            background: rgba(128, 128, 128, 0.05);
            border-left-color: #999;
            color: #666;
        }
        
        .claim-badge {
            display: inline-block;
            padding: 4px 12px;
            border-radius: 20px;
            font-size: 0.85em;
            font-weight: 500;
            margin-left: 10px;
        }
        
        .claim-badge.independent {
            background: #4a6cf7;
            color: white;
        }
        
        .claim-badge.dependent {
            background: #999;
            color: white;
        }
        
        textarea {
            width: 100%;
            padding: 15px;
            border: 1px solid #ddd;
            border-radius: 8px;
            font-family: 'Microsoft YaHei', sans-serif;
            font-size: 14px;
            line-height: 1.6;
        }
        
        button {
            padding: 10px 20px;
            border: none;
            background: #4a6cf7;
            color: white;
            border-radius: 5px;
            cursor: pointer;
            margin: 5px;
        }
        
        button:hover {
            background: #3a5ce7;
        }
        
        .debug-info {
            background: #fff3cd;
            padding: 15px;
            border-radius: 5px;
            margin-top: 20px;
            font-family: monospace;
            font-size: 12px;
        }
    </style>
</head>
<body>
    <h1>åŠŸèƒ½ä¸ƒå­æ ‡ç­¾é¡µæµ‹è¯•</h1>
    
    <div class="sub-tab-container">
        <button class="sub-tab-button active" onclick="switchClaimsSubTab('excel')">Excelæ‰¹é‡åˆ†æ</button>
        <button class="sub-tab-button" onclick="switchClaimsSubTab('text')">æ–‡æœ¬è¾“å…¥åˆ†æ</button>
    </div>
    
    <!-- Excelæ‰¹é‡åˆ†æé¡µé¢ -->
    <div id="claims-excel-tab" class="claims-sub-tab active">
        <h2>Excelæ‰¹é‡åˆ†æ</h2>
        <div class="test-content">
            <p>è¿™æ˜¯Excelæ‰¹é‡åˆ†æé¡µé¢çš„å†…å®¹</p>
            <p>âœ… å¦‚æœä½ èƒ½çœ‹åˆ°è¿™æ®µæ–‡å­—ï¼Œè¯´æ˜Excelæ ‡ç­¾é¡µæ­£å¸¸æ˜¾ç¤º</p>
        </div>
    </div>
    
    <!-- æ–‡æœ¬è¾“å…¥åˆ†æé¡µé¢ -->
    <div id="claims-text-tab" class="claims-sub-tab">
        <h2>æ–‡æœ¬è¾“å…¥æƒåˆ©è¦æ±‚åˆ†æ</h2>
        <div class="test-content">
            <p>âœ… å¦‚æœä½ èƒ½çœ‹åˆ°è¿™æ®µæ–‡å­—ï¼Œè¯´æ˜æ–‡æœ¬è¾“å…¥æ ‡ç­¾é¡µæ­£å¸¸æ˜¾ç¤º</p>
            
            <h3>è¾“å…¥æƒåˆ©è¦æ±‚æ–‡æœ¬:</h3>
            <textarea id="claims_text_input" rows="10" placeholder="ç¤ºä¾‹ï¼š
1. ä¸€ç§æ™ºèƒ½æ‰‹æœºï¼Œå…¶ç‰¹å¾åœ¨äºï¼ŒåŒ…æ‹¬ï¼š
   å¤„ç†å™¨ï¼›
   å­˜å‚¨å™¨ï¼›
   æ˜¾ç¤ºå±ã€‚

2. æ ¹æ®æƒåˆ©è¦æ±‚1æ‰€è¿°çš„æ™ºèƒ½æ‰‹æœºï¼Œå…¶ç‰¹å¾åœ¨äºï¼Œæ‰€è¿°å¤„ç†å™¨ä¸ºå…«æ ¸å¤„ç†å™¨ã€‚"></textarea>
            
            <div style="margin-top: 15px;">
                <button onclick="testAnalyze()">ğŸ” æµ‹è¯•åˆ†æ</button>
                <button onclick="clearInput()">ğŸ—‘ï¸ æ¸…ç©º</button>
            </div>
            
            <div id="test_results" style="display:none; margin-top: 20px;">
                <h3>æµ‹è¯•ç»“æœ:</h3>
                <div class="claim-item independent">
                    <strong>æƒåˆ©è¦æ±‚1</strong>
                    <span class="claim-badge independent">ç‹¬ç«‹æƒåˆ©è¦æ±‚</span>
                    <p>ä¸€ç§æ™ºèƒ½æ‰‹æœºï¼Œå…¶ç‰¹å¾åœ¨äºï¼ŒåŒ…æ‹¬ï¼šå¤„ç†å™¨ï¼›å­˜å‚¨å™¨ï¼›æ˜¾ç¤ºå±ã€‚</p>
                </div>
                <div class="claim-item dependent">
                    <strong>æƒåˆ©è¦æ±‚2</strong>
                    <span class="claim-badge dependent">ä»å±æƒåˆ©è¦æ±‚</span>
                    <p>æ ¹æ®æƒåˆ©è¦æ±‚1æ‰€è¿°çš„æ™ºèƒ½æ‰‹æœºï¼Œå…¶ç‰¹å¾åœ¨äºï¼Œæ‰€è¿°å¤„ç†å™¨ä¸ºå…«æ ¸å¤„ç†å™¨ã€‚</p>
                    <p style="margin-top: 10px; padding-top: 10px; border-top: 1px solid #ddd;">
                        <strong>å¼•ç”¨:</strong> æƒåˆ©è¦æ±‚ 1
                    </p>
                </div>
            </div>
        </div>
    </div>
    
    <div class="debug-info" id="debug_info">
        <strong>è°ƒè¯•ä¿¡æ¯:</strong><br>
        ç‚¹å‡»æ ‡ç­¾é¡µæŒ‰é’®æŸ¥çœ‹åˆ‡æ¢æ—¥å¿—...
    </div>
    
    <script>
        function switchClaimsSubTab(tabName) {
            const debugInfo = document.getElementById('debug_info');
            let log = `<strong>è°ƒè¯•ä¿¡æ¯:</strong><br>`;
            log += `åˆ‡æ¢åˆ°æ ‡ç­¾é¡µ: ${tabName}<br>`;
            
            // éšè—æ‰€æœ‰å­æ ‡ç­¾é¡µ
            const allSubTabs = document.querySelectorAll('.claims-sub-tab');
            log += `æ‰¾åˆ° ${allSubTabs.length} ä¸ªå­æ ‡ç­¾é¡µ<br>`;
            allSubTabs.forEach(tab => {
                tab.classList.remove('active');
                tab.style.display = 'none';
                log += `éšè—: ${tab.id}<br>`;
            });
            
            // ç§»é™¤æ‰€æœ‰æŒ‰é’®çš„activeç±»
            document.querySelectorAll('.sub-tab-button').forEach(btn => {
                btn.classList.remove('active');
            });
            
            // æ˜¾ç¤ºé€‰ä¸­çš„æ ‡ç­¾é¡µ
            const targetTabId = `claims-${tabName}-tab`;
            const targetTab = document.getElementById(targetTabId);
            log += `æŸ¥æ‰¾æ ‡ç­¾é¡µ: ${targetTabId}<br>`;
            
            if (targetTab) {
                targetTab.classList.add('active');
                targetTab.style.display = 'block';
                log += `âœ… æˆåŠŸæ˜¾ç¤º: ${targetTabId}<br>`;
            } else {
                log += `âŒ æœªæ‰¾åˆ°æ ‡ç­¾é¡µ: ${targetTabId}<br>`;
            }
            
            // æ¿€æ´»å¯¹åº”çš„æŒ‰é’®
            event.target.classList.add('active');
            log += `âœ… æŒ‰é’®å·²æ¿€æ´»<br>`;
            
            debugInfo.innerHTML = log;
        }
        
        function testAnalyze() {
            document.getElementById('test_results').style.display = 'block';
            alert('æµ‹è¯•åˆ†æåŠŸèƒ½æ­£å¸¸ï¼\n\nç‹¬ç«‹æƒåˆ©è¦æ±‚æ˜¾ç¤ºä¸ºè“è‰²\nä»å±æƒåˆ©è¦æ±‚æ˜¾ç¤ºä¸ºç°è‰²');
        }
        
        function clearInput() {
            document.getElementById('claims_text_input').value = '';
            document.getElementById('test_results').style.display = 'none';
        }
        
        // é¡µé¢åŠ è½½å®Œæˆåçš„åˆå§‹åŒ–
        window.addEventListener('DOMContentLoaded', () => {
            console.log('é¡µé¢åŠ è½½å®Œæˆ');
            console.log('Excelæ ‡ç­¾é¡µ:', document.getElementById('claims-excel-tab'));
            console.log('æ–‡æœ¬æ ‡ç­¾é¡µ:', document.getElementById('claims-text-tab'));
        });
    </script>
</body>
</html>
