# 用户协议功能说明

## 功能概述

在登录页面集成了用户协议勾选功能，用户必须同意《用户协议》、《隐私政策》和《免责声明》才能登录使用系统。

## 主要特点

### 1. 强制勾选机制
- 用户必须勾选"我已阅读并同意..."才能登录
- 未勾选时会弹出提示："请先阅读并同意用户协议、隐私政策和免责声明"

### 2. 三个协议文档
- **用户协议** (`/frontend/user-agreement.html`) - 详细的服务条款和用户责任
- **隐私政策** (`/frontend/privacy.html`) - 数据收集和隐私保护说明
- **免责声明** (`/frontend/disclaimer.html`) - 服务免责和责任限制

### 3. 核心承诺
```
我们不存储您上传的专利数据
- 所有数据仅在分析过程中临时使用
- 处理完成后立即删除
- 不会保存到硬盘或数据库
```

## 快速测试

### 方法一：使用测试脚本
```bash
测试用户协议功能.bat
```

### 方法二：手动测试
1. 启动应用：`python run_app.py`
2. 访问：http://localhost:5000/login
3. 验证：
   - 不勾选协议，点击登录 → 应该弹出提示
   - 勾选协议，输入正确账号密码 → 应该能正常登录
   - 点击协议链接 → 应该在新标签页打开协议文档

## 部署到生产环境

### 阿里云部署
```bash
# 方法一：使用更新脚本
bash 阿里云拉取移动端更新.bat

# 方法二：使用部署脚本
bash scripts/update_aliyun.sh
```

### Render部署
```bash
# 推送到GitHub后自动部署
git add .
git commit -m "添加用户协议勾选功能"
git push
```

## 文件清单

### 新增文件
- `frontend/user-agreement.html` - 用户协议文档
- `用户协议集成完成说明.md` - 详细说明文档
- `用户协议功能说明.md` - 本文档
- `测试用户协议功能.bat` - 测试脚本

### 修改文件
- `backend/routes/auth.py` - 登录页面添加协议勾选

### 已存在文件
- `frontend/privacy.html` - 隐私政策
- `frontend/disclaimer.html` - 免责声明

## 用户协议要点

### 服务范围
- 八大核心功能：即时对话、小批量异步、大批量处理、本地专利库管理、权利要求对比、批量专利解读、权利要求处理、专利附图标记
- 仅作为数据分析工具，不提供法律咨询或专利代理服务

### 用户责任
- 确保上传数据来源合法
- 妥善保管账号密码
- 不得从事违法违规活动

### 数据处理
- 不存储用户上传的专利数据
- 仅收集必要的账号信息和使用记录
- 使用第三方服务（智谱AI、Google Patents）

### 免责声明
- 分析结果仅供参考，不保证准确性
- 技术故障、第三方服务问题不承担责任
- 用户应自行判断结果可靠性

## 常见问题

### Q: 用户必须勾选协议吗？
A: 是的，这是强制要求。未勾选无法登录。

### Q: 协议可以修改吗？
A: 可以。修改后建议更新"最后更新日期"，并通知用户。

### Q: 如何记录用户同意协议？
A: 当前版本通过登录行为隐式记录。如需显式记录，可在数据库中添加字段。

### Q: 移动端显示正常吗？
A: 是的，协议勾选区域和协议文档都已针对移动端优化。

## 联系方式

如有问题，请联系：freecasafred@outlook.com

---

**更新日期：** 2026年1月26日
