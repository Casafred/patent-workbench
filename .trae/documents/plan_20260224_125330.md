## 功能八调整计划

### 需求1：全部原文区域添加直接翻译按钮
**修改文件：**
- `pdf-ocr-reader.html`：在全部原文区域的内容标签页中添加"翻译"按钮
- `pdf-ocr-viewer.js`：添加 `translateFullText()` 方法，实现点击后原文直接变成翻译内容

**实现方式：**
- 在 `.content-tabs` 中添加翻译按钮（与"提问"按钮并列）
- 翻译后原文区域内容替换为译文，同时保留"恢复原文"功能

---

### 需求2：多页面拼接功能模式
**修改文件：**
- `pdf-ocr-reader.html`：添加"多页拼接"入口按钮
- `pdf-ocr-viewer.js`：添加多页拼接面板和相关方法
- `pdf-ocr-reader.css`：添加多页拼接面板样式

**实现方式：**
- 在工具栏右侧添加"多页拼接"按钮
- 点击后弹出面板，显示所有已解析页面列表（可多选）
- 提供"拼接查看"、"拼接翻译"、"拼接提问"三个操作
- 支持从缓存中获取已解析页面的内容

---

### 需求3：修复未解析页面显示其他页面区块的BUG
**修改文件：**
- `pdf-ocr-viewer.js`：修复 `renderBlocks()` 方法

**实现方式：**
- 在 `renderBlocks()` 中增加检查：如果当前页没有OCR结果，隐藏区块层并清空内容
- 同时隐藏悬浮面板中的区块详情
- 确保 `goToPage()` 切换页面时正确清理状态

---

### 需求4：区块多选模式添加全选/取消全选按钮
**修改文件：**
- `pdf-ocr-reader.html`：在工具栏多选模式区域添加按钮
- `pdf-ocr-viewer.js`：添加 `selectAllBlocks()` 和 `deselectAllBlocks()` 方法
- `pdf-ocr-reader.css`：添加按钮样式

**实现方式：**
- 在"多选模式"按钮旁边添加"全选"和"取消"按钮
- 仅在多选模式开启时显示这两个按钮
- 全选：选中当前页所有区块
- 取消：清除所有选中

---

### 文件修改清单
1. `frontend/components/tabs/pdf-ocr-reader.html` - UI结构调整
2. `js/modules/pdf-ocr/pdf-ocr-viewer.js` - 核心逻辑实现
3. `frontend/css/components/pdf-ocr-reader.css` - 样式补充