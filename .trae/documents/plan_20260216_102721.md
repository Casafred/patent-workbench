
# 功能九修复计划

## 问题概述
1. **左侧功能区域无法整体上下滚动** - 导致OCR结果列表过长时导出区域不可见
2. **右侧识别文本区域变为悬浮可拖动弹窗** - 不挤占查看器空间
3. **查看器区块渲染和交互** - 点击区块按钮后应能渲染样式，点击区块应弹出内容
4. **按钮样式和功能问题** - 绿色背景绿色字体看不清，翻译和AI提问按钮无效

## 修复步骤

### 1. 修复左侧滚动问题
- 修改 `pdf-ocr-reader.css` 中 `.pdf-ocr-sidebar` 的样式，确保整个侧边栏可以滚动
- 调整各个面板的 flex 布局，使识别结果列表可以正常伸缩

### 2. 右侧区域改为悬浮弹窗
- 修改 `pdf-ocr-reader.html`，移除原右侧边栏结构
- 添加新的悬浮窗HTML结构
- 在 `pdf-ocr-reader.css` 中添加悬浮窗样式（可拖动、可关闭）
- 修改 `pdf-ocr-viewer.js`，添加打开/关闭悬浮窗的功能
- 添加拖动功能

### 3. 修复查看器区块交互
- 检查 `pdf-ocr-viewer.js` 中 `renderBlocks()` 方法，确保区块正确渲染
- 确保点击区块时弹出该区域的识别内容
- 添加区块点击事件处理

### 4. 修复按钮样式和功能
- 修改CSS中按钮颜色，确保对比度足够
- 检查翻译和AI提问按钮的事件绑定
- 修复事件处理逻辑

## 修改文件
- `frontend/components/tabs/pdf-ocr-reader.html`
- `frontend/css/components/pdf-ocr-reader.css`
- `js/modules/pdf-ocr/pdf-ocr-viewer.js`
