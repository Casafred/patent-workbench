## 实施计划

### 1. 修改翻译加载状态（移除遮罩层）
**文件**: `js/main.js`

- 将全屏遮罩加载层改为按钮状态提示
- 翻译时按钮显示"翻译中..."状态
- 用户可继续操作其他区域

### 2. 添加翻译结果缓存功能
**文件**: `js/modules/patent-batch/patent-cache.js`

新增方法：
- `saveTranslation(patentNumber, textType, model, translations)` - 保存翻译缓存
- `getTranslation(patentNumber, textType, model)` - 获取翻译缓存
- 缓存键格式: `patent_translation_{patentNumber}_{textType}_{model}`

**文件**: `js/main.js`

- 翻译前检查缓存，有缓存则直接显示
- 翻译完成后保存到缓存

### 3. 新标签页嵌入快捷翻译按钮
**文件**: `js/patentDetailNewTab.js`

修改权利要求区域（约第906-962行）：
- 在标题栏添加翻译按钮（与复制按钮并列）
- 样式与现有按钮保持一致

修改说明书区域（约第1200-1221行）：
- 在标题栏添加翻译按钮
- 样式与现有按钮保持一致

新增功能：
- 添加 `showTranslateDialogNewTab()` 函数 - 显示模型选择弹窗
- 添加 `startTranslationNewTab()` 函数 - 执行翻译
- 添加 `showTranslationResultNewTab()` 函数 - 显示翻译结果（非模态弹窗）
- 翻译缓存存储在 `window.opener.PatentCache` 中

### 4. 关键设计要点
- 翻译弹窗使用 `position: fixed` 但不阻止页面交互（移除 `pointer-events: none` 以外的遮罩）
- 弹窗可拖动或有关闭按钮，用户可随时关闭
- 缓存与专利数据绑定，下次打开详情页自动加载