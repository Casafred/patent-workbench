## 问题分析

### 问题1：后端只提取一张附图
**原因**：`simple_scraper.py` 第580-581行有 `if not crawl_full_drawings: break`，当 `crawl_full_drawings=False` 时只提取一张

**修复**：移除这个限制，始终提取所有附图

### 问题2：前端条带显示"暂无附图"
**原因**：`main.js` 第972-973行使用 `data.images`，但后端返回的是 `data.drawings`

**修复**：改为使用 `data.drawings`

### 问题3：附图显示位置和查看器
**需求**：
- 附图区域放在最前面
- 只显示第一张附图
- 点击打开图片查看器，支持左右浏览所有附图

**修复**：
1. 调整 `patent-detail-html.js` 中附图区域的位置（移到权利要求之前）
2. 只显示第一张附图缩略图
3. 构建图片查看器组件，支持左右切换

---

## 修复计划

### 1. 后端修复 (simple_scraper.py)
移除 `if not crawl_full_drawings: break` 限制，始终提取所有附图

### 2. 前端条带修复 (main.js)
将 `data.images` 改为 `data.drawings`

### 3. 附图显示重构 (patent-detail-html.js)
- 将附图区域移到权利要求之前
- 只显示第一张附图
- 添加图片查看器功能

### 4. 新标签页同步修复 (patentDetailNewTab.js)
- 同步修改附图显示逻辑
- 添加图片查看器功能

### 5. 添加图片查看器组件
创建一个全局的图片查看器，支持：
- 显示大图
- 左右切换
- 键盘导航
- 点击关闭