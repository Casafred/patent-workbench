## 实现计划

### 功能一：同族权利要求对比分析按钮

**修改文件：**
1. `js/patentDetailNewTab.js` - 新标签页同族区域添加按钮
2. `js/main/patent-detail-html.js` - 弹窗同族区域添加按钮

**实现内容：**
- 在同族专利区域标题栏添加"同族权利要求对比分析"按钮
- 点击后调用 `jumpToFamilyClaimsComparison(patentNumber, familyApplications)` 函数
- 该函数会：
  1. 切换到功能四标签页
  2. 切换到同族专利对比子标签页
  3. 自动填入专利号并获取同族列表
  4. 自动选择所有同族专利并开始对比

---

### 功能二：一键对照式翻译功能

**前端修改：**
1. `js/patentDetailNewTab.js` - 新标签页权利要求/说明书区域添加翻译按钮
2. `js/main/patent-detail-html.js` - 弹窗权利要求/说明书区域添加翻译按钮
3. 新增翻译弹窗样式和逻辑

**后端修改：**
1. `backend/routes/patent.py` - 添加 `/patent/translate` API端点

**实现内容：**
- 在权利要求和说明书区域标题栏添加"对照翻译"按钮
- 点击后弹出模型选择对话框
- 选择模型后调用翻译API
- 显示左右对照式弹窗（左侧原文，右侧译文，逐段对照）

---

### 技术要点

1. **跳转逻辑**：利用现有的 `switchTab()` 和 `switchClaimsComparisonSubTab()` 函数
2. **翻译API**：复用现有的 `TranslationService` 类
3. **对照显示**：按段落分割原文，逐段翻译并对照显示
4. **模型选择**：复用 `window.AVAILABLE_MODELS` 模型列表