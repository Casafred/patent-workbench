# 同族权利要求对比分析功能实现方案

## 一、功能概述
在功能四（权利要求智能比对）中新增一个子标签页"同族权利要求对比分析"，融合功能四的多权利要求对比功能和功能五的专利同族信息爬取功能。

## 二、用户操作流程
1. **输入专利号**：用户输入一个专利号
2. **获取同族列表**：系统从Google Patents获取该专利的所有同族专利
3. **勾选对比专利**：用户勾选需要对比的同族专利（支持多选）
4. **权利要求对比**：系统比对这些同族专利彼此的权利要求，生成对比报告

## 三、技术实现方案

### 3.1 前端实现
**新增文件：**
1. `frontend/components/tabs/family-claims-comparison.html` - 同族权利要求对比HTML模板
2. `js/familyClaimsComparison.js` - 核心逻辑模块
3. `frontend/css/pages/family-claims-comparison.css` - 专用样式

**修改文件：**
1. `frontend/index.html` - 添加新标签页引用
2. `js/state.js` - 添加familyClaimsComparison状态对象
3. `js/modules/navigation/tab-navigation.js` - 添加子标签页切换逻辑
4. `js/claimsComparison.js` - 集成新功能模块

### 3.2 后端实现
**新增API接口：**
- `GET /api/patent/family/:patentNumber` - 获取专利的同族列表
- `POST /api/patent/family/compare` - 对比多个同族专利的权利要求

**修改文件：**
1. `backend/routes/patent.py` - 添加新路由

### 3.3 功能特性
- 支持从Google Patents自动获取同族专利列表
- 支持用户勾选多个同族专利进行对比
- 复用功能四的对比分析逻辑和可视化展示
- 支持自动语言检测和翻译
- 提供卡片视图、并排对比、矩阵视图三种展示模式

## 四、实施步骤
1. 创建前端HTML模板和CSS样式
2. 实现前端JavaScript逻辑模块
3. 添加后端API接口
4. 集成到现有导航系统
5. 测试完整功能流程