# 快速测试指南 v5

## ⚠️ 测试前必做

**清除浏览器缓存**: 按 `Ctrl+Shift+R` (Windows) 或 `Cmd+Shift+R` (Mac)

---

## 🎯 3分钟快速测试

### 1️⃣ Help悬浮球 (30秒)
1. 打开应用
2. 看右下角 → ✅ 应该有❓图标
3. 拖动它 → ✅ 应该流畅移动
4. 刷新页面 → ✅ 应该保持位置

### 2️⃣ 模型选择器 (1分钟)
快速检查5个功能的模型选择器：

| 功能 | 选择器ID | 位置 |
|------|---------|------|
| 功能一 | `chat_model_select` | 即时对话 |
| 功能二 | `async_template_model_select` | 小批量异步 |
| 功能三 | `api-model` | 大批量处理 |
| 功能五 | `comparison_model_select` | 权利要求对比 |
| 功能六 | `patent_batch_model_selector` | 批量专利解读 |

✅ 每个都应该有多个模型选项

### 3️⃣ 模板选择器 (1分钟) ⭐ 重点
1. 切换到"大批量处理"标签
2. 点击"1. 生成请求文件"
3. 找到"预置模板"下拉框
4. ✅ 应该看到6个选项：
   - 选择预置模板或新建
   - 专利文本翻译 [预设]
   - 技术方案解读 [预设]
   - 技术文本翻译 [预设]
   - 检索词拓展 [预设]
   - 技术文本总结 [预设]
5. 选择一个模板
6. ✅ 系统提示词和用户提示词应该自动填充

---

## 🔍 控制台检查 (30秒)

按 `F12` 打开开发者工具，查看Console：

### 应该看到的日志
```
✅ Help button position restored: ...
✅ Help button draggable functionality initialized
✅ 模型配置已从 config/models.json 加载: ...
✅ 所有模型选择器已更新
⏳ 延迟100ms后更新模板选择器...
✅ 找到 large_batch_template_selector 元素
✅ 模板选择器已初始化，共 6 个选项
```

### 不应该看到的错误
```
❌ xxx 元素不存在
❌ 已达到最大重试次数
```

---

## ✅ 通过标准

- [ ] Help悬浮球可见
- [ ] Help悬浮球可拖动
- [ ] 5个模型选择器都有选项
- [ ] 模板选择器有6个选项
- [ ] 选择模板后内容自动填充
- [ ] 控制台无错误

---

## ❌ 如果测试失败

### 步骤1: 确认缓存已清除
再次按 `Ctrl+Shift+R`

### 步骤2: 检查控制台
1. 按 `F12`
2. 进入Console标签
3. 截图所有错误信息

### 步骤3: 手动修复
在Console中运行：

```javascript
// 修复模板选择器
if (typeof updateTemplateSelector === 'function') {
    updateTemplateSelector();
}

// 修复模型选择器
if (typeof updateAllModelSelectors === 'function') {
    updateAllModelSelectors();
}

// 清除Help悬浮球位置
localStorage.removeItem('helpButtonPosition');
```

### 步骤4: 报告问题
提供以下信息：
1. 浏览器类型和版本
2. 控制台错误截图
3. 失败的具体步骤

---

## 📞 需要帮助？

查看详细测试指南: [修复完成_v5_测试指南.md](.kiro/specs/html-js-refactoring/修复完成_v5_测试指南.md)
