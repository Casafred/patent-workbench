# 功能八诊断工具 - 快速开始 🚀

## 一键启动（最简单）

双击运行：
```
启动诊断工具.bat
```

就这么简单！脚本会自动：
1. 启动应用
2. 打开浏览器
3. 加载诊断工具

## 手动启动

### 1. 启动应用
```bash
python run_app.py
```

### 2. 打开浏览器
访问：
```
http://localhost:5000/test_drawing_marker_debug.html
```

## ✨ 特别说明

### 无需登录！
诊断工具已配置为**本地访问时自动绕过认证**，你可以直接使用，无需登录。

### 安全性
- ✅ 仅本地IP（127.0.0.1/localhost）可以绕过认证
- ✅ 远程访问仍需要登录
- ✅ 生产环境不受影响

## 使用步骤

### 步骤1: 上传图片
点击"选择图片文件"或直接拖拽图片到页面

### 步骤2: 输入说明书
在文本框中输入说明书内容，例如：
```
1电动工具、2外壳、2L左侧外壳、2R右侧外壳、3后盖
```

### 步骤3: 测试解析
点击"测试说明书解析"按钮，查看是否能正确提取附图标记

### 步骤4: 完整测试
点击"开始完整测试"按钮，系统会：
1. 解析说明书
2. 对图片进行OCR识别
3. 匹配识别结果
4. 显示详细的诊断信息

## 诊断结果说明

### ✅ 绿色 = 成功
- 说明书解析成功
- OCR识别到数字
- 匹配成功

### ❌ 红色 = 失败
- 说明书格式错误
- OCR未识别到数字
- 这里就是问题所在！

### ⚠️ 黄色 = 警告
- 识别到数字但未匹配
- 需要检查编号是否一致

### 💡 蓝色 = 提示
- 使用建议
- 优化方向

## 常见问题

### Q: 为什么识别率是0%？

查看诊断结果：

1. **如果"提取到0个附图标记"**
   - 问题：说明书格式错误
   - 解决：使用支持的格式（顿号、省略号、点号）

2. **如果"OCR识别到0个数字"**
   - 问题：图片质量太差或Tesseract未安装
   - 解决：使用高清图片，安装Tesseract

3. **如果"识别到数字但匹配率0%"**
   - 问题：图片上的数字与说明书编号不一致
   - 解决：检查编号是否匹配

### Q: 需要安装什么？

**必需：**
- Python 3.x
- Flask及相关依赖（requirements.txt）

**可选（用于OCR）：**
- Tesseract OCR（如果要测试OCR功能）
- 下载：https://github.com/UB-Mannheim/tesseract/wiki

### Q: 可以在生产环境使用吗？

诊断工具主要用于本地开发和调试。生产环境建议：
1. 移除诊断工具路由
2. 或添加额外的认证保护

## 下一步

如果诊断后仍有问题：
1. 查看后端控制台的详细日志
2. 检查 `ocr_debug_output/` 目录（如果使用命令行工具）
3. 参考 `功能八诊断工具使用说明.md` 获取更多帮助

---

**快速链接：**
- 诊断工具：http://localhost:5000/test_drawing_marker_debug.html
- 详细文档：功能八诊断工具使用说明.md
- 命令行工具：test_drawing_marker_ocr.py
