<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>åŠŸèƒ½å…«v6.0æµ‹è¯• - ä¸»ç•Œé¢å’Œå¼¹çª—åŠŸèƒ½å®Œå…¨ä¸€è‡´</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            max-width: 1400px;
            margin: 0 auto;
            padding: 20px;
            background-color: #f5f5f5;
        }
        
        .header {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 30px;
            border-radius: 10px;
            margin-bottom: 30px;
        }
        
        .header h1 {
            margin: 0 0 10px 0;
        }
        
        .version-badge {
            display: inline-block;
            background-color: rgba(255, 255, 255, 0.2);
            padding: 5px 15px;
            border-radius: 20px;
            font-size: 14px;
        }
        
        .features {
            background-color: white;
            padding: 20px;
            border-radius: 10px;
            margin-bottom: 20px;
        }
        
        .features h2 {
            color: #667eea;
            margin-top: 0;
        }
        
        .feature-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 15px;
            margin-top: 15px;
        }
        
        .feature-item {
            background-color: #f8f9fa;
            padding: 15px;
            border-radius: 8px;
            border-left: 4px solid #667eea;
        }
        
        .feature-item h3 {
            margin: 0 0 10px 0;
            color: #333;
            font-size: 16px;
        }
        
        .feature-item ul {
            margin: 0;
            padding-left: 20px;
        }
        
        .feature-item li {
            margin: 5px 0;
            color: #666;
        }
        
        .test-container {
            background-color: white;
            padding: 20px;
            border-radius: 10px;
            margin-bottom: 20px;
        }
        
        .controls {
            display: flex;
            gap: 10px;
            margin-bottom: 20px;
            flex-wrap: wrap;
        }
        
        .btn {
            padding: 10px 20px;
            border: none;
            border-radius: 5px;
            cursor: pointer;
            font-size: 14px;
            font-weight: bold;
            transition: all 0.3s;
        }
        
        .btn-primary {
            background-color: #667eea;
            color: white;
        }
        
        .btn-success {
            background-color: #4CAF50;
            color: white;
        }
        
        .btn-warning {
            background-color: #FF9800;
            color: white;
        }
        
        .btn-info {
            background-color: #2196F3;
            color: white;
        }
        
        .btn-purple {
            background-color: #9C27B0;
            color: white;
        }
        
        .btn:hover {
            opacity: 0.8;
            transform: translateY(-2px);
        }
        
        .canvas-container {
            border: 2px solid #ddd;
            border-radius: 8px;
            overflow: hidden;
            background-color: #f9f9f9;
            position: relative;
        }
        
        #test_canvas {
            display: block;
            max-width: 100%;
            height: auto;
        }
        
        .info-box {
            background-color: #e3f2fd;
            border-left: 4px solid #2196F3;
            padding: 15px;
            margin: 20px 0;
            border-radius: 4px;
        }
        
        .info-box h3 {
            margin: 0 0 10px 0;
            color: #1976D2;
        }
        
        .keyboard-shortcuts {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 10px;
            margin-top: 10px;
        }
        
        .shortcut {
            background-color: white;
            padding: 10px;
            border-radius: 4px;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        
        .shortcut-key {
            background-color: #333;
            color: white;
            padding: 3px 8px;
            border-radius: 3px;
            font-family: monospace;
            font-size: 12px;
        }
    </style>
</head>
<body>
    <div class="header">
        <h1>ğŸ¨ åŠŸèƒ½å…« v6.0 å®Œæ•´æµ‹è¯•</h1>
        <span class="version-badge">ä¸»ç•Œé¢å’Œå¼¹çª—åŠŸèƒ½å®Œå…¨ä¸€è‡´</span>
        <p style="margin: 10px 0 0 0; opacity: 0.9;">æ»šè½®ç¼©æ”¾ + é¼ æ ‡æ‹–æ‹½ + å®Œæ•´äº¤äº’</p>
    </div>

    <div class="features">
        <h2>âœ¨ v6.0 æ ¸å¿ƒç‰¹æ€§</h2>
        <div class="feature-grid">
            <div class="feature-item">
                <h3>ğŸ–±ï¸ ä¸»ç•Œé¢äº¤äº’</h3>
                <ul>
                    <li>æ»šè½®ç¼©æ”¾ï¼ˆ10%-1000%ï¼‰</li>
                    <li>é¼ æ ‡æ‹–æ‹½ç§»åŠ¨è§†å›¾</li>
                    <li>æ‹–æ‹½æ ‡æ³¨ä½ç½®</li>
                    <li>åŒå‡»ç¼–è¾‘æ ‡æ³¨</li>
                    <li>å³é”®åˆ é™¤æ ‡æ³¨</li>
                    <li>ç‚¹å‡»é€‰ä¸­æ ‡æ³¨</li>
                </ul>
            </div>
            
            <div class="feature-item">
                <h3>ğŸ” å¼¹çª—äº¤äº’ï¼ˆå®Œå…¨ä¸€è‡´ï¼‰</h3>
                <ul>
                    <li>æ»šè½®ç¼©æ”¾ï¼ˆ10%-1000%ï¼‰</li>
                    <li>é¼ æ ‡æ‹–æ‹½ç§»åŠ¨è§†å›¾</li>
                    <li>æ‹–æ‹½æ ‡æ³¨ä½ç½®</li>
                    <li>åŒå‡»ç¼–è¾‘æ ‡æ³¨</li>
                    <li>å³é”®åˆ é™¤æ ‡æ³¨</li>
                    <li>ç‚¹å‡»é€‰ä¸­æ ‡æ³¨</li>
                </ul>
            </div>
            
            <div class="feature-item">
                <h3>ğŸ“ å­—ä½“æ§åˆ¶</h3>
                <ul>
                    <li>é€‰ä¸­+ / é€‰ä¸­-ï¼ˆé€‰ä¸­æ ‡æ³¨ï¼‰</li>
                    <li>å…¨éƒ¨+ / å…¨éƒ¨-ï¼ˆæ‰€æœ‰æ ‡æ³¨ï¼‰</li>
                    <li>å­—å·èŒƒå›´ï¼š12-48px</li>
                    <li>å¿«æ·æŒ‰é’®è§¦å‘</li>
                </ul>
            </div>
            
            <div class="feature-item">
                <h3>ğŸ¯ é€‰æ‹©åŠŸèƒ½</h3>
                <ul>
                    <li>å•å‡»é€‰ä¸­æ ‡æ³¨</li>
                    <li>Ctrl+ç‚¹å‡»å¤šé€‰</li>
                    <li>å…¨é€‰æŒ‰é’®</li>
                    <li>å–æ¶ˆé€‰æ‹©æŒ‰é’®</li>
                    <li>é€‰ä¸­æ ‡æ³¨é«˜äº®æ˜¾ç¤º</li>
                </ul>
            </div>
        </div>
    </div>

    <div class="info-box">
        <h3>âŒ¨ï¸ å¿«æ·é”®è¯´æ˜</h3>
        <div class="keyboard-shortcuts">
            <div class="shortcut">
                <span>æ»šè½®ç¼©æ”¾</span>
                <span class="shortcut-key">é¼ æ ‡æ»šè½®</span>
            </div>
            <div class="shortcut">
                <span>æ‹–æ‹½è§†å›¾</span>
                <span class="shortcut-key">é¼ æ ‡æ‹–åŠ¨ç©ºç™½å¤„</span>
            </div>
            <div class="shortcut">
                <span>æ‹–æ‹½æ ‡æ³¨</span>
                <span class="shortcut-key">é¼ æ ‡æ‹–åŠ¨æ ‡æ³¨</span>
            </div>
            <div class="shortcut">
                <span>ç¼–è¾‘æ ‡æ³¨</span>
                <span class="shortcut-key">åŒå‡»æ ‡æ³¨</span>
            </div>
            <div class="shortcut">
                <span>åˆ é™¤æ ‡æ³¨</span>
                <span class="shortcut-key">å³é”®æ ‡æ³¨</span>
            </div>
            <div class="shortcut">
                <span>é€‰ä¸­æ ‡æ³¨</span>
                <span class="shortcut-key">å•å‡»æ ‡æ³¨</span>
            </div>
            <div class="shortcut">
                <span>å¤šé€‰æ ‡æ³¨</span>
                <span class="shortcut-key">Ctrl + ç‚¹å‡»</span>
            </div>
            <div class="shortcut">
                <span>å–æ¶ˆé€‰æ‹©</span>
                <span class="shortcut-key">ç‚¹å‡»ç©ºç™½å¤„</span>
            </div>
        </div>
    </div>

    <div class="test-container">
        <h2>ğŸ§ª æµ‹è¯•åŒºåŸŸ</h2>
        
        <div class="controls">
            <button class="btn btn-primary" onclick="marker.openModal()">ğŸ” æ‰“å¼€å¼¹çª—ï¼ˆå¤§çª—å£æŸ¥çœ‹ï¼‰</button>
            <button class="btn btn-success" onclick="marker.increaseFontSize(true)">é€‰ä¸­å­—ä½“+</button>
            <button class="btn btn-warning" onclick="marker.decreaseFontSize(true)">é€‰ä¸­å­—ä½“-</button>
            <button class="btn btn-info" onclick="marker.increaseFontSize(false)">å…¨éƒ¨å­—ä½“+</button>
            <button class="btn btn-purple" onclick="marker.decreaseFontSize(false)">å…¨éƒ¨å­—ä½“-</button>
            <button class="btn btn-primary" onclick="marker.selectAll()">å…¨é€‰</button>
            <button class="btn btn-warning" onclick="marker.deselectAll()">å–æ¶ˆé€‰æ‹©</button>
        </div>
        
        <div class="canvas-container">
            <canvas id="test_canvas"></canvas>
        </div>
    </div>

    <div class="info-box" style="background-color: #fff3e0; border-left-color: #FF9800;">
        <h3>ğŸ“‹ æµ‹è¯•æ­¥éª¤</h3>
        <ol style="margin: 10px 0 0 20px; color: #666;">
            <li><strong>ä¸»ç•Œé¢æµ‹è¯•</strong>ï¼š
                <ul>
                    <li>æ»šåŠ¨é¼ æ ‡æ»šè½®ï¼Œè§‚å¯Ÿç¼©æ”¾æ•ˆæœ</li>
                    <li>æ‹–åŠ¨ç©ºç™½å¤„ï¼Œç§»åŠ¨è§†å›¾</li>
                    <li>æ‹–åŠ¨æ ‡æ³¨æ–‡å­—ï¼Œæ”¹å˜ä½ç½®</li>
                    <li>åŒå‡»æ ‡æ³¨ï¼Œç¼–è¾‘åç§°</li>
                    <li>å³é”®æ ‡æ³¨ï¼Œåˆ é™¤</li>
                    <li>å•å‡»æ ‡æ³¨ï¼Œè§‚å¯Ÿé€‰ä¸­æ•ˆæœï¼ˆç»¿è‰²é«˜äº®ï¼‰</li>
                    <li>Ctrl+ç‚¹å‡»å¤šä¸ªæ ‡æ³¨ï¼Œå¤šé€‰</li>
                </ul>
            </li>
            <li><strong>å­—ä½“æ§åˆ¶æµ‹è¯•</strong>ï¼š
                <ul>
                    <li>é€‰ä¸­ä¸€ä¸ªæˆ–å¤šä¸ªæ ‡æ³¨</li>
                    <li>ç‚¹å‡»"é€‰ä¸­å­—ä½“+"ï¼Œè§‚å¯Ÿé€‰ä¸­æ ‡æ³¨å­—ä½“å˜å¤§</li>
                    <li>ç‚¹å‡»"å…¨éƒ¨å­—ä½“+"ï¼Œè§‚å¯Ÿæ‰€æœ‰æ ‡æ³¨å­—ä½“å˜å¤§</li>
                </ul>
            </li>
            <li><strong>å¼¹çª—æµ‹è¯•</strong>ï¼š
                <ul>
                    <li>ç‚¹å‡»"æ‰“å¼€å¼¹çª—"æŒ‰é’®</li>
                    <li>åœ¨å¼¹çª—ä¸­é‡å¤ä¸»ç•Œé¢çš„æ‰€æœ‰æ“ä½œ</li>
                    <li>ç¡®è®¤åŠŸèƒ½å®Œå…¨ä¸€è‡´</li>
                    <li>å…³é—­å¼¹çª—ï¼Œç¡®è®¤ä¸»ç•Œé¢å·²åŒæ­¥</li>
                </ul>
            </li>
        </ol>
    </div>

    <script src="js/drawingMarkerInteractive.js"></script>
    <script>
        // æ¨¡æ‹ŸOCRè¯†åˆ«ç»“æœ
        const mockDetectedNumbers = [
            { x: 150, y: 100, number: '1', name: 'å¤–å£³', confidence: 0.95 },
            { x: 300, y: 150, number: '2', name: 'æ˜¾ç¤ºå±', confidence: 0.92 },
            { x: 200, y: 250, number: '3', name: 'æŒ‰é”®', confidence: 0.88 },
            { x: 400, y: 200, number: '4', name: 'ç”µæ± ', confidence: 0.90 },
            { x: 250, y: 350, number: '5', name: 'æ¥å£', confidence: 0.87 }
        ];

        const mockReferenceMap = {
            '1': 'å¤–å£³',
            '2': 'æ˜¾ç¤ºå±',
            '3': 'æŒ‰é”®',
            '4': 'ç”µæ± ',
            '5': 'æ¥å£'
        };

        // åˆ›å»ºæµ‹è¯•å›¾ç‰‡
        const canvas = document.createElement('canvas');
        canvas.width = 600;
        canvas.height = 400;
        const ctx = canvas.getContext('2d');
        
        // ç»˜åˆ¶èƒŒæ™¯
        ctx.fillStyle = '#f0f0f0';
        ctx.fillRect(0, 0, 600, 400);
        
        // ç»˜åˆ¶ä¸€äº›å½¢çŠ¶æ¨¡æ‹Ÿä¸“åˆ©é™„å›¾
        ctx.fillStyle = '#333';
        ctx.fillRect(100, 50, 400, 300);
        
        ctx.fillStyle = '#666';
        ctx.fillRect(120, 70, 150, 200);
        ctx.fillRect(290, 70, 190, 200);
        
        ctx.fillStyle = '#999';
        ctx.fillRect(130, 280, 340, 50);
        
        // ç»˜åˆ¶æ ‡è®°ç‚¹
        ctx.fillStyle = '#FF0000';
        mockDetectedNumbers.forEach(detected => {
            ctx.beginPath();
            ctx.arc(detected.x, detected.y, 5, 0, Math.PI * 2);
            ctx.fill();
            
            ctx.font = 'bold 16px Arial';
            ctx.fillText(detected.number, detected.x - 5, detected.y - 10);
        });
        
        const testImageUrl = canvas.toDataURL();
        
        // åˆå§‹åŒ–æ ‡æ³¨ç³»ç»Ÿ
        const marker = new InteractiveDrawingMarker(
            'test_canvas',
            testImageUrl,
            mockDetectedNumbers,
            mockReferenceMap,
            {
                enableModal: true,
                fontSize: 18
            }
        );
        
        console.log('åŠŸèƒ½å…«v6.0æµ‹è¯•é¡µé¢åŠ è½½å®Œæˆ');
        console.log('ä¸»ç•Œé¢å’Œå¼¹çª—åŠŸèƒ½å®Œå…¨ä¸€è‡´');
    </script>
</body>
</html>
