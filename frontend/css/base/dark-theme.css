/* Dark Theme Styles - 暗夜模式样式覆盖 */
/* 使用 [data-theme="dark"] 选择器确保不影响正常模式 */

/* ========================================
   1. 基础样式覆盖
   ======================================== */

[data-theme="dark"] body {
    background: linear-gradient(135deg, #0f172a 0%, #1e293b 100%);
}

[data-theme="dark"] .container {
    background-color: rgba(30, 41, 59, 0.95);
    border-color: var(--border-color);
}

[data-theme="dark"] #vanta-bg,
[data-theme="dark"] #loading-vanta-bg {
    background: linear-gradient(135deg, #0f172a 0%, #1e293b 50%, #1e293b 100%);
}

/* ========================================
   2. 表单元素覆盖
   ======================================== */

[data-theme="dark"] select,
[data-theme="dark"] input,
[data-theme="dark"] textarea {
    background-color: #1e293b;
    border-color: var(--border-color);
    color: var(--text-color);
}

[data-theme="dark"] select:focus,
[data-theme="dark"] input:focus,
[data-theme="dark"] textarea:focus {
    border-color: var(--primary-color);
    box-shadow: 0 0 0 3px var(--primary-color-glow);
}

[data-theme="dark"] input::placeholder,
[data-theme="dark"] textarea::placeholder {
    color: #64748b;
}

/* ========================================
   3. 按钮覆盖
   ======================================== */

[data-theme="dark"] .api-config-toggle {
    background-color: #1e293b !important;
    border-color: var(--primary-color) !important;
}

[data-theme="dark"] .api-config-toggle svg {
    stroke: var(--primary-color);
}

[data-theme="dark"] .icon-button:hover {
    background: var(--primary-color-hover-bg);
    color: var(--primary-color);
}

[data-theme="dark"] .close-modal:hover {
    background-color: var(--primary-color-hover-bg);
    color: var(--primary-color);
}

[data-theme="dark"] .help-button {
    border-color: var(--primary-color);
    color: var(--text-color-secondary);
}

[data-theme="dark"] .help-button:hover {
    background-color: var(--primary-color-hover-bg);
    border-color: var(--primary-color);
    color: var(--primary-color);
}

/* ========================================
   4. 标签页覆盖
   ======================================== */

[data-theme="dark"] .tab-button,
[data-theme="dark"] .sub-tab-button {
    background-color: rgba(74, 222, 128, 0.1);
    border-color: rgba(74, 222, 128, 0.2);
    color: #94a3b8;
}

[data-theme="dark"] .tab-button:hover,
[data-theme="dark"] .sub-tab-button:hover {
    background-color: rgba(74, 222, 128, 0.15);
    border-color: rgba(74, 222, 128, 0.3);
    color: #e2e8f0;
}

[data-theme="dark"] .tab-button.active,
[data-theme="dark"] .sub-tab-button.active {
    background: linear-gradient(135deg, var(--primary-color-dark), var(--primary-color));
    color: white;
    border-color: var(--primary-color);
}

/* ========================================
   5. 模态框覆盖
   ======================================== */

[data-theme="dark"] .modal {
    background-color: rgba(0, 0, 0, 0.7);
}

[data-theme="dark"] .modal-content {
    background-color: var(--surface-color);
    border-color: var(--border-color);
}

[data-theme="dark"] .modal-header {
    border-bottom-color: var(--border-color);
}

[data-theme="dark"] .modal-header h3 {
    color: var(--primary-color);
}

[data-theme="dark"] .modal-footer {
    border-top-color: var(--border-color);
}

[data-theme="dark"] #patent_detail_modal .modal-content {
    background-color: var(--surface-color);
    border-color: var(--border-color);
}

[data-theme="dark"] #patent_detail_modal .modal-header {
    background-color: var(--surface-color);
    border-bottom-color: var(--border-color);
}

[data-theme="dark"] .file-manager-content {
    background-color: var(--surface-color);
    border-color: var(--border-color);
}

[data-theme="dark"] .file-manager-body {
    background-color: var(--surface-color);
}

/* ========================================
   6. 聊天页面覆盖
   ======================================== */

[data-theme="dark"] #chat_history_panel {
    background: var(--bg-color);
    border-color: var(--border-color);
}

[data-theme="dark"] #chat_history_header {
    border-bottom-color: var(--border-color);
}

[data-theme="dark"] #chat_container {
    border-color: var(--border-color);
}

[data-theme="dark"] #chat_title_bar {
    background-color: var(--surface-color);
    border-bottom-color: var(--border-color);
}

[data-theme="dark"] #chat_current_title {
    color: var(--text-color);
}

[data-theme="dark"] #chat_current_title[contenteditable="true"] {
    background-color: #1e293b;
    border-color: var(--primary-color);
}

[data-theme="dark"] #chat_management_bar {
    background-color: var(--primary-color-hover-bg);
    border-bottom-color: var(--border-color);
}

[data-theme="dark"] #chat_window {
    background-color: var(--chat-bg);
}

[data-theme="dark"] .assistant-message .message-content {
    background-color: var(--chat-assistant-bubble);
    box-shadow: 0 2px 4px rgba(0, 0, 0, 0.2);
}

[data-theme="dark"] .message-footer {
    border-top-color: rgba(255, 255, 255, 0.1);
}

[data-theme="dark"] .message-content code {
    background: rgba(255, 255, 255, 0.1);
}

[data-theme="dark"] .message-content pre {
    background-color: #1e293b;
    color: #e2e8f0;
}

[data-theme="dark"] .message-content blockquote {
    border-left-color: var(--primary-color);
    color: var(--text-color-secondary);
}

[data-theme="dark"] #chat_input_area {
    background-color: var(--surface-color);
    border-top-color: var(--border-color);
}

[data-theme="dark"] #persona_editor {
    background-color: var(--surface-color);
    border-color: var(--border-color);
}

[data-theme="dark"] #persona_name_input,
[data-theme="dark"] #persona_system_input,
[data-theme="dark"] #persona_template_input {
    background-color: #1e293b;
    border-color: var(--border-color);
    color: var(--text-color);
}

[data-theme="dark"] .chat-history-item {
    border-bottom-color: var(--border-color);
}

[data-theme="dark"] .chat-history-item:hover {
    background-color: var(--primary-color-hover-bg);
}

[data-theme="dark"] .chat-history-item.active {
    background-color: var(--primary-color);
    color: white;
    border-color: var(--primary-color-dark);
}

[data-theme="dark"] .history-item-title {
    color: var(--text-color);
}

[data-theme="dark"] .history-item-title[contenteditable="true"] {
    background-color: #1e293b;
    outline-color: var(--primary-color);
}

[data-theme="dark"] .history-item-details {
    color: var(--text-color-secondary);
}

/* ========================================
   7. PDF OCR 阅读器覆盖
   ======================================== */

[data-theme="dark"] .pdf-ocr-container {
    background: #0f172a;
}

[data-theme="dark"] .pdf-ocr-sidebar {
    scrollbar-color: #475569 #1e293b;
}

[data-theme="dark"] .pdf-ocr-sidebar::-webkit-scrollbar-track {
    background: #1e293b;
}

[data-theme="dark"] .pdf-ocr-sidebar::-webkit-scrollbar-thumb {
    background: #475569;
}

[data-theme="dark"] .pdf-ocr-main {
    background: var(--surface-color);
}

[data-theme="dark"] .ocr-panel {
    background: var(--surface-color);
}

[data-theme="dark"] .panel-title {
    color: var(--text-color);
}

[data-theme="dark"] .upload-zone {
    border-color: #475569;
}

[data-theme="dark"] .upload-zone:hover {
    border-color: var(--primary-color);
    background: #1e293b;
}

[data-theme="dark"] .upload-placeholder p {
    color: #94a3b8;
}

[data-theme="dark"] .upload-placeholder .hint {
    color: #64748b;
}

[data-theme="dark"] .file-info {
    background: #1e293b;
}

[data-theme="dark"] .form-select,
[data-theme="dark"] .form-input {
    background: #1e293b;
    border-color: #475569;
    color: var(--text-color);
}

[data-theme="dark"] .form-select:focus,
[data-theme="dark"] .form-input:focus {
    border-color: var(--primary-color);
    box-shadow: 0 0 0 3px var(--primary-color-glow);
}

[data-theme="dark"] .viewer-toolbar {
    background: #1e293b;
    border-bottom-color: #334155;
}

[data-theme="dark"] .viewer-wrap {
    background: #0f172a;
}

[data-theme="dark"] .viewer-footer {
    background: #1e293b;
    border-top-color: #334155;
    color: #94a3b8;
}

[data-theme="dark"] .footer-right b {
    color: var(--text-color);
}

[data-theme="dark"] .content-tabs {
    border-bottom-color: #334155;
}

[data-theme="dark"] .tab-btn {
    color: #94a3b8;
}

[data-theme="dark"] .tab-btn:hover {
    background: #1e293b;
}

[data-theme="dark"] .tab-btn.active {
    background: var(--primary-color);
    color: white;
}

[data-theme="dark"] .text-content {
    color: var(--text-color);
}

[data-theme="dark"] .detail-text {
    background: #1e293b;
}

[data-theme="dark"] .detail-code {
    background: #0f172a;
    color: #e2e8f0;
}

[data-theme="dark"] .ocr-content-item {
    border-color: #334155;
}

[data-theme="dark"] .ocr-content-item:hover {
    border-color: var(--primary-color);
    background: #1e293b;
}

[data-theme="dark"] .ocr-content-item.selected {
    border-color: var(--primary-color);
    background: rgba(74, 222, 128, 0.1);
}

[data-theme="dark"] .content-item-body {
    color: var(--text-color);
}

[data-theme="dark"] .content-item-actions {
    border-top-color: #334155;
}

[data-theme="dark"] .cache-status.cached {
    background: rgba(74, 222, 128, 0.15);
    color: #4ade80;
}

[data-theme="dark"] .cache-status.no-cache {
    background: rgba(251, 191, 36, 0.15);
    color: #fbbf24;
}

[data-theme="dark"] .cache-status.partial {
    background: rgba(59, 130, 246, 0.15);
    color: #60a5fa;
}

[data-theme="dark"] .cache-status.disabled {
    background: #1e293b;
    color: #64748b;
}

[data-theme="dark"] .btn-small {
    background: #1e293b;
    border-color: #334155;
    color: #94a3b8;
}

[data-theme="dark"] .btn-small:hover {
    background: #334155;
}

[data-theme="dark"] .btn-icon {
    background: #1e293b;
    border-color: #334155;
    color: #94a3b8;
}

[data-theme="dark"] .btn-icon:hover {
    background: #334155;
    border-color: #475569;
}

[data-theme="dark"] .btn-toggle {
    background: #1e293b;
    border-color: #334155;
    color: #94a3b8;
}

[data-theme="dark"] .btn-toggle:hover {
    background: #334155;
}

[data-theme="dark"] .progress-bar {
    background: #334155;
}

[data-theme="dark"] .empty-state {
    color: #64748b;
}

[data-theme="dark"] .empty-state svg {
    color: #475569;
}

[data-theme="dark"] .empty-state p {
    color: #94a3b8;
}

/* 悬浮面板 */
[data-theme="dark"] .floating-text-panel {
    background: var(--surface-color);
}

[data-theme="dark"] .floating-text-panel .current-block-section .block-content {
    background: rgba(74, 222, 128, 0.1);
    border-color: rgba(74, 222, 128, 0.3);
}

[data-theme="dark"] .floating-text-panel .full-text-section {
    border-color: #334155;
}

[data-theme="dark"] .floating-text-panel .full-text-section .section-header {
    background: #1e293b;
}

[data-theme="dark"] .floating-text-panel .full-text-section .section-header:hover {
    background: #334155;
}

[data-theme="dark"] .floating-text-panel .content-tabs {
    background: #1e293b;
    border-bottom-color: #334155;
}

[data-theme="dark"] .floating-text-panel .markdown-body table th,
[data-theme="dark"] .floating-text-panel .markdown-body table td {
    border-color: #334155;
}

[data-theme="dark"] .floating-text-panel .markdown-body table th {
    background: #334155;
}

[data-theme="dark"] .floating-text-panel .markdown-body table tr:nth-child(even) {
    background: rgba(255, 255, 255, 0.02);
}

[data-theme="dark"] .floating-text-panel .markdown-body code {
    background: #1e293b;
}

[data-theme="dark"] .floating-text-panel .details-title {
    color: var(--text-color);
}

/* 悬浮工具栏 */
[data-theme="dark"] .floating-toolbar {
    background: var(--surface-color);
}

[data-theme="dark"] .toolbar-btn {
    color: #94a3b8;
}

[data-theme="dark"] .toolbar-btn:hover {
    background: #334155;
}

/* 弹窗 */
[data-theme="dark"] .multi-page-concat-popup {
    background: var(--surface-color);
}

[data-theme="dark"] .multi-page-concat-popup .popup-body {
    background: var(--surface-color);
}

[data-theme="dark"] .multi-page-concat-popup .section-label {
    color: var(--text-color);
}

[data-theme="dark"] .multi-page-concat-popup .concat-page-list {
    border-color: #334155;
    background: #1e293b;
}

[data-theme="dark"] .multi-page-concat-popup .concat-page-item:hover {
    background: #334155;
}

[data-theme="dark"] .multi-page-concat-popup .concat-page-item.selected {
    background: rgba(139, 92, 246, 0.2);
}

[data-theme="dark"] .multi-page-concat-popup .page-label {
    color: var(--text-color);
}

[data-theme="dark"] .multi-page-concat-popup .page-info {
    color: #64748b;
}

[data-theme="dark"] .multi-page-concat-popup .concat-preview-content {
    border-color: #334155;
    background: #1e293b;
    color: var(--text-color);
}

[data-theme="dark"] .multi-page-concat-popup .popup-footer {
    border-top-color: #334155;
    background: #1e293b;
}

[data-theme="dark"] .multi-page-concat-popup .btn-action:disabled {
    background: #334155;
    color: #64748b;
}

[data-theme="dark"] .translated-content {
    background: rgba(74, 222, 128, 0.1);
    border-color: rgba(74, 222, 128, 0.3);
}

/* ========================================
   8. 表格覆盖
   ======================================== */

[data-theme="dark"] .file-manager-table th {
    color: var(--text-color-secondary);
}

[data-theme="dark"] .file-manager-table tr:hover {
    background-color: var(--primary-color-hover-bg);
}

[data-theme="dark"] #async_results_table th,
[data-theme="dark"] #async_results_table td {
    border-color: var(--border-color);
}

[data-theme="dark"] #claims_results_table th {
    background: var(--surface-color);
    color: var(--text-color-secondary);
}

[data-theme="dark"] #claims_results_table tr:hover {
    background-color: var(--primary-color-hover-bg);
}

[data-theme="dark"] .message-content table {
    border-color: var(--border-color);
}

[data-theme="dark"] .message-content th {
    background-color: var(--primary-color-hover-bg);
}

[data-theme="dark"] .message-content tr:nth-child(even) {
    background-color: rgba(255, 255, 255, 0.02);
}

/* ========================================
   9. 列表覆盖
   ======================================== */

[data-theme="dark"] .scrollable-list {
    border-color: var(--border-color);
}

[data-theme="dark"] .list-item {
    border-bottom-color: var(--border-color);
}

[data-theme="dark"] .search-result-item {
    background: var(--surface-color);
    border-color: var(--border-color);
}

[data-theme="dark"] .search-result-item:hover {
    background: var(--primary-color-hover-bg);
    border-color: var(--primary-color);
}

[data-theme="dark"] .search-result-row {
    color: var(--text-color-secondary);
}

/* ========================================
   10. 信息框覆盖
   ======================================== */

[data-theme="dark"] .info.success {
    background-color: rgba(74, 222, 128, 0.1);
}

[data-theme="dark"] .info.error {
    background-color: rgba(248, 113, 113, 0.1);
}

[data-theme="dark"] .info.warning {
    background-color: rgba(251, 191, 36, 0.1);
}

/* ========================================
   11. 下拉菜单覆盖
   ======================================== */

[data-theme="dark"] .export-dropdown-content {
    background-color: var(--surface-color);
    border-color: var(--border-color);
}

[data-theme="dark"] .export-dropdown-content a {
    color: var(--text-color);
    border-bottom-color: var(--border-color);
}

[data-theme="dark"] .export-dropdown-content a:hover {
    background-color: var(--primary-color-hover-bg);
    color: var(--primary-color);
}

[data-theme="dark"] .api-config-container {
    background-color: var(--surface-color);
    border-color: var(--border-color);
}

/* ========================================
   12. 权利要求覆盖
   ======================================== */

[data-theme="dark"] .claim-item {
    border-color: #334155;
    background: var(--surface-color);
}

[data-theme="dark"] .claim-item:hover {
    box-shadow: 0 2px 8px rgba(0, 0, 0, 0.3);
}

[data-theme="dark"] .claim-item.claim-independent {
    border-color: #22c55e;
    background: rgba(74, 222, 128, 0.1);
}

[data-theme="dark"] .claim-item.claim-independent:hover {
    border-color: #4ade80;
    box-shadow: 0 2px 8px rgba(74, 222, 128, 0.2);
}

[data-theme="dark"] .claim-item.claim-dependent {
    border-color: #3b82f6;
    background: rgba(59, 130, 246, 0.1);
}

[data-theme="dark"] .claim-item.claim-dependent:hover {
    border-color: #60a5fa;
    box-shadow: 0 2px 8px rgba(59, 130, 246, 0.2);
}

[data-theme="dark"] .claim-references {
    border-top-color: var(--border-color);
    color: var(--text-color-secondary);
}

[data-theme="dark"] .claims-tooltip {
    background-color: #334155;
    color: #e2e8f0;
}

/* ========================================
   13. 进度步骤覆盖
   ======================================== */

[data-theme="dark"] .step-number {
    background-color: #334155;
    border-color: #475569;
    color: #94a3b8;
}

[data-theme="dark"] .step-item.completed .step-number,
[data-theme="dark"] .step-item.active .step-number {
    background: linear-gradient(135deg, var(--primary-color-dark), var(--primary-color));
    border-color: var(--primary-color);
}

[data-theme="dark"] .step-title {
    color: #64748b;
}

[data-theme="dark"] .step-item.completed .step-title,
[data-theme="dark"] .step-item.active .step-title {
    color: var(--primary-color);
}

[data-theme="dark"] .step-item::before {
    background-color: #334155;
}

[data-theme="dark"] .step-item.completed::before,
[data-theme="dark"] .step-item.active::before {
    background: linear-gradient(90deg, var(--primary-color-dark), var(--primary-color));
}

/* ========================================
   14. 加载页面覆盖
   ======================================== */

[data-theme="dark"] .loading-overlay {
    background: linear-gradient(135deg, #0f172a 0%, #1e293b 100%);
}

[data-theme="dark"] .tech-welcome-title {
    color: #4ade80;
    text-shadow: 0 2px 10px rgba(74, 222, 128, 0.3);
}

[data-theme="dark"] .tech-welcome-subtitle {
    color: #64748b;
}

[data-theme="dark"] .tech-loading-bar {
    background: rgba(74, 222, 128, 0.15);
}

[data-theme="dark"] .loading-text {
    color: #94a3b8;
}

[data-theme="dark"] .loading-progress {
    color: #64748b;
}

[data-theme="dark"] .loading-spinner {
    border-color: rgba(74, 222, 128, 0.15);
    border-top-color: #4ade80;
}

[data-theme="dark"] .loading-spinner-ring {
    border-top-color: #22c55e;
    border-right-color: #22c55e;
}

[data-theme="dark"] .loading-spinner-ring.ring-2 {
    border-bottom-color: rgba(74, 222, 128, 0.3);
    border-left-color: rgba(74, 222, 128, 0.3);
}

/* ========================================
   15. 悬浮二维码覆盖
   ======================================== */

[data-theme="dark"] .floating-qr-panel {
    background: var(--surface-color);
}

[data-theme="dark"] .floating-qr-title {
    color: var(--primary-color);
}

[data-theme="dark"] .floating-qr-desc {
    color: #94a3b8;
}

[data-theme="dark"] .floating-qr-tip {
    color: #64748b;
    border-top-color: #334155;
}

[data-theme="dark"] .floating-qr-content img {
    border-color: #334155;
}

/* ========================================
   16. 帮助标签覆盖
   ======================================== */

[data-theme="dark"] .help-tab {
    background: linear-gradient(135deg, var(--primary-color) 0%, var(--primary-color-dark) 100%);
}

[data-theme="dark"] .help-tab-icon {
    background: linear-gradient(135deg, var(--primary-color) 0%, var(--primary-color-dark) 100%);
    border-left-color: rgba(255, 255, 255, 0.3);
}

/* ========================================
   17. 过渡动画
   ======================================== */

[data-theme="dark"] * {
    transition: background-color 0.3s ease, border-color 0.3s ease, color 0.3s ease;
}

/* 禁用某些元素的过渡 */
[data-theme="dark"] input,
[data-theme="dark"] textarea,
[data-theme="dark"] select,
[data-theme="dark"] button {
    transition: none;
}

[data-theme="dark"] input:focus,
[data-theme="dark"] textarea:focus,
[data-theme="dark"] select:focus {
    transition: border-color 0.2s ease, box-shadow 0.2s ease;
}

/* ========================================
   19. 滚动条覆盖
   ======================================== */

[data-theme="dark"] ::-webkit-scrollbar {
    width: 8px;
    height: 8px;
}

[data-theme="dark"] ::-webkit-scrollbar-track {
    background: #1e293b;
    border-radius: 4px;
}

[data-theme="dark"] ::-webkit-scrollbar-thumb {
    background: #475569;
    border-radius: 4px;
}

[data-theme="dark"] ::-webkit-scrollbar-thumb:hover {
    background: #64748b;
}

/* ========================================
   20. 搜索来源覆盖
   ======================================== */

[data-theme="dark"] .search-sources {
    background: linear-gradient(135deg, #1e293b 0%, #0f172a 100%);
    border-left-color: var(--primary-color);
}

[data-theme="dark"] .sources-header {
    color: #e2e8f0;
}

[data-theme="dark"] .source-item {
    background: #1e293b;
    box-shadow: 0 1px 3px rgba(0, 0, 0, 0.3);
}

[data-theme="dark"] .source-item:hover {
    box-shadow: 0 2px 8px rgba(0, 0, 0, 0.5);
}

[data-theme="dark"] .source-link {
    color: #e2e8f0;
}

[data-theme="dark"] .source-link:hover {
    color: var(--primary-color);
}

[data-theme="dark"] .source-media {
    background: #1e3a5f;
    color: #64b5f6;
}

[data-theme="dark"] .source-date {
    background: #4a1e5f;
    color: #ce93d8;
}

/* ========================================
   21. 文件状态区域覆盖
   ======================================== */

[data-theme="dark"] #chat_file_status_area {
    background-color: rgba(59, 130, 246, 0.1);
    border-color: rgba(59, 130, 246, 0.3);
}

[data-theme="dark"] #chat_file_status_area .file-info {
    color: var(--text-color);
}

[data-theme="dark"] #chat_file_status_area .file-remove-btn:hover {
    color: var(--error-color);
}

/* ========================================
   22. 预览输出覆盖
   ======================================== */

[data-theme="dark"] .preview-output {
    background-color: var(--bg-color);
    border-color: var(--border-color);
}

[data-theme="dark"] .prompt-section {
    border-color: var(--border-color);
}

[data-theme="dark"] .prompt-section-title {
    color: var(--primary-color);
}

/* ========================================
   23. Details元素覆盖
   ======================================== */

[data-theme="dark"] details {
    border-color: var(--border-color);
}

[data-theme="dark"] summary {
    color: var(--text-color);
}

/* ========================================
   24. 配置区域覆盖
   ======================================== */

[data-theme="dark"] .config-item label {
    color: var(--text-color-secondary);
}

[data-theme="dark"] .config-section h4 {
    color: var(--text-color-secondary);
    border-left-color: var(--primary-color);
}

[data-theme="dark"] .api-key-wrapper {
    border-color: var(--border-color);
}

/* ========================================
   25. 帮助提示覆盖
   ======================================== */

[data-theme="dark"] .help-icon svg {
    fill: var(--primary-color);
}

[data-theme="dark"] .tooltip-text {
    background-color: #334155;
}

[data-theme="dark"] .tooltip-text::after {
    border-color: #334155 transparent transparent transparent;
}

/* ========================================
   26. 功能七专利附图智能标记页覆盖
   ======================================== */

[data-theme="dark"] #drawing_marker-tab .main-content > div > div:first-child {
    background: linear-gradient(135deg, #064e3b 0%, #065f46 100%) !important;
}

[data-theme="dark"] #drawing_marker-tab .main-content > div > div:nth-child(2) > div:first-child {
    background-color: #1e293b !important;
}

[data-theme="dark"] #drawing_marker-tab .main-content > div > div:nth-child(2) > div:first-child h4 {
    color: #e2e8f0 !important;
}

[data-theme="dark"] #drawing_paste_area {
    background-color: #0f172a !important;
    border-color: var(--primary-color) !important;
}

[data-theme="dark"] #drawing_paste_area p {
    color: var(--primary-color) !important;
}

[data-theme="dark"] #ocr_mode_select {
    background-color: #0f172a !important;
    border-color: #475569 !important;
    color: var(--text-color) !important;
}

[data-theme="dark"] #paddle_token_input {
    background-color: #0f172a !important;
    border-color: #475569 !important;
    color: var(--text-color) !important;
}

[data-theme="dark"] #specification_input {
    background-color: #0f172a !important;
    border-color: #475569 !important;
    color: var(--text-color) !important;
}

[data-theme="dark"] #processing_status {
    color: var(--primary-color) !important;
}

[data-theme="dark"] #drawing_marker-tab .main-content > div > div:nth-child(2) > div:last-child {
    background-color: var(--surface-color) !important;
    border-color: #334155 !important;
}

[data-theme="dark"] #processing_result > div,
[data-theme="dark"] #annotated_drawings_container > div {
    background-color: #0f172a !important;
    border-color: #334155 !important;
    color: #94a3b8 !important;
}

/* ========================================
   27. 智能剪贴板覆盖
   ======================================== */

[data-theme="dark"] .sc-floating-ball {
    background: linear-gradient(135deg, #1e293b 0%, #334155 100%) !important;
    border-color: var(--primary-color) !important;
    box-shadow: 0 4px 12px rgba(0, 0, 0, 0.4) !important;
}

[data-theme="dark"] .sc-floating-ball:hover {
    background: linear-gradient(135deg, #334155 0%, #475569 100%) !important;
}

[data-theme="dark"] .sc-panel {
    background: var(--surface-color) !important;
    border-color: #334155 !important;
    box-shadow: 0 8px 32px rgba(0, 0, 0, 0.5) !important;
}

[data-theme="dark"] .sc-panel-header {
    background: linear-gradient(135deg, #064e3b 0%, #065f46 100%) !important;
    border-bottom-color: #334155 !important;
}

[data-theme="dark"] .sc-panel-title {
    color: #e2e8f0 !important;
}

[data-theme="dark"] .sc-panel-close {
    color: #94a3b8 !important;
}

[data-theme="dark"] .sc-panel-close:hover {
    color: #f87171 !important;
}

[data-theme="dark"] .sc-panel-body {
    background: var(--surface-color) !important;
}

[data-theme="dark"] .sc-empty {
    color: #64748b !important;
    background: #0f172a !important;
}

[data-theme="dark"] .sc-section-title {
    color: #94a3b8 !important;
}

[data-theme="dark"] .sc-history-header {
    border-top-color: #334155 !important;
    color: #e2e8f0 !important;
}

[data-theme="dark"] .sc-clear-btn {
    color: #f87171 !important;
}

[data-theme="dark"] .sc-history-item {
    background: #0f172a !important;
    border-color: #334155 !important;
}

[data-theme="dark"] .sc-history-item:hover {
    border-color: var(--primary-color) !important;
}

[data-theme="dark"] .sc-item-text {
    color: var(--text-color) !important;
}

[data-theme="dark"] .sc-item-meta {
    color: #64748b !important;
}

[data-theme="dark"] .sc-input-item {
    background: #0f172a !important;
    border-color: #334155 !important;
}

[data-theme="dark"] .sc-input-item:hover {
    border-color: var(--primary-color) !important;
    background: #1e293b !important;
}

[data-theme="dark"] .sc-copy-notification {
    background: var(--primary-color) !important;
    color: white !important;
}

[data-theme="dark"] .sc-notification {
    background: var(--surface-color) !important;
    border-color: #334155 !important;
    color: var(--text-color) !important;
}

/* ========================================
   28. 功能五批量检索解读页面覆盖
   ======================================== */

[data-theme="dark"] .patent-batch-config-grid {
    background: transparent !important;
}

[data-theme="dark"] .patent-input-section,
[data-theme="dark"] .patent-config-section {
    background: var(--surface-color) !important;
    border-color: #334155 !important;
}

[data-theme="dark"] .patent-input-wrapper textarea {
    background-color: #0f172a !important;
    border-color: #475569 !important;
    color: var(--text-color) !important;
}

[data-theme="dark"] .copy-btn-overlay {
    background: rgba(74, 222, 128, 0.2) !important;
    color: var(--primary-color) !important;
}

[data-theme="dark"] .full-crawl-checkbox,
[data-theme="dark"] .config-item-compact[style*="background-color: #f5f5f5"] {
    background-color: #0f172a !important;
    border-color: #334155 !important;
}

[data-theme="dark"] .auto-analyze-toggle {
    background: rgba(59, 130, 246, 0.15) !important;
}

[data-theme="dark"] .field-selector-container {
    background: var(--surface-color) !important;
    border-color: #334155 !important;
}

[data-theme="dark"] .field-selector-header {
    background: #1e293b !important;
    border-bottom-color: #334155 !important;
}

[data-theme="dark"] .field-selector-title {
    color: var(--text-color) !important;
}

[data-theme="dark"] .field-selector-btn {
    background: #334155 !important;
    color: #94a3b8 !important;
    border-color: #475569 !important;
}

[data-theme="dark"] .field-selector-btn:hover {
    background: #475569 !important;
    color: #e2e8f0 !important;
}

[data-theme="dark"] .field-grid {
    background: #0f172a !important;
}

[data-theme="dark"] .field-item {
    background: #1e293b !important;
    border-color: #334155 !important;
}

[data-theme="dark"] .field-item:hover {
    border-color: var(--primary-color) !important;
}

[data-theme="dark"] .field-item label {
    color: var(--text-color) !important;
}

[data-theme="dark"] .field-item input[type="checkbox"] {
    accent-color: var(--primary-color) !important;
}

[data-theme="dark"] .template-select {
    background-color: #0f172a !important;
    border-color: #475569 !important;
    color: var(--text-color) !important;
}

/* ========================================
   29. 用户管理栏目覆盖
   ======================================== */

[data-theme="dark"] .udu-overlay {
    background-color: rgba(0, 0, 0, 0.7) !important;
}

[data-theme="dark"] .udu-panel {
    background: var(--surface-color) !important;
    border-color: #334155 !important;
    box-shadow: 0 20px 60px rgba(0, 0, 0, 0.5) !important;
}

[data-theme="dark"] .udu-header {
    background: linear-gradient(135deg, #064e3b 0%, #065f46 100%) !important;
    border-bottom-color: #334155 !important;
}

[data-theme="dark"] .udu-header h2 {
    color: #e2e8f0 !important;
}

[data-theme="dark"] .udu-close {
    color: #94a3b8 !important;
}

[data-theme="dark"] .udu-close:hover {
    color: #f87171 !important;
}

[data-theme="dark"] .udu-body {
    background: var(--surface-color) !important;
}

[data-theme="dark"] .udu-section h3 {
    color: var(--text-color) !important;
    border-bottom-color: #334155 !important;
}

[data-theme="dark"] .udu-stats-grid {
    background: #0f172a !important;
}

[data-theme="dark"] .udu-stat-card {
    background: #1e293b !important;
    border-color: #334155 !important;
}

[data-theme="dark"] .udu-stat-card:hover {
    border-color: var(--primary-color) !important;
}

[data-theme="dark"] .udu-stat-label {
    color: #94a3b8 !important;
}

[data-theme="dark"] .udu-stat-value {
    color: var(--primary-color) !important;
}

[data-theme="dark"] .udu-category-item {
    background: #1e293b !important;
    border-color: #334155 !important;
}

[data-theme="dark"] .udu-category-item:hover {
    border-color: var(--primary-color) !important;
}

[data-theme="dark"] .udu-category-name {
    color: var(--text-color) !important;
}

[data-theme="dark"] .udu-category-size {
    color: #64748b !important;
}

[data-theme="dark"] .udu-actions {
    border-top-color: #334155 !important;
}

[data-theme="dark"] .udu-action-btn {
    background: #1e293b !important;
    border-color: #334155 !important;
    color: var(--text-color) !important;
}

[data-theme="dark"] .udu-action-btn:hover {
    background: #334155 !important;
    border-color: var(--primary-color) !important;
}

[data-theme="dark"] .udu-action-btn.export {
    border-color: var(--primary-color) !important;
}

[data-theme="dark"] .udu-action-btn.import {
    border-color: #3b82f6 !important;
}

[data-theme="dark"] .udu-action-btn.danger {
    border-color: #ef4444 !important;
}

[data-theme="dark"] .udu-loading {
    color: #64748b !important;
}

[data-theme="dark"] .user-btn {
    background: rgba(74, 222, 128, 0.1) !important;
    border-color: var(--primary-color) !important;
    color: var(--primary-color) !important;
}

[data-theme="dark"] .user-btn:hover {
    background: rgba(74, 222, 128, 0.2) !important;
}

/* ========================================
   30. 切换按钮暗黑模式覆盖
   ======================================== */

[data-theme="dark"] #theme_toggle_btn.theme-toggle-btn {
    background-color: #1e293b !important;
}

[data-theme="dark"] #api_config_toggle_btn.api-config-toggle {
    background-color: #1e293b !important;
}

/* ========================================
   31. 功能标签页大按钮暗黑样式
   ======================================== */

[data-theme="dark"] .tab-button {
    background: linear-gradient(135deg, rgba(74, 222, 128, 0.1) 0%, rgba(34, 197, 94, 0.15) 100%) !important;
    border-color: rgba(74, 222, 128, 0.3) !important;
    color: #94a3b8 !important;
}

[data-theme="dark"] .tab-button:hover {
    background: linear-gradient(135deg, rgba(74, 222, 128, 0.2) 0%, rgba(34, 197, 94, 0.25) 100%) !important;
    border-color: rgba(74, 222, 128, 0.5) !important;
    color: #e2e8f0 !important;
    box-shadow: 0 4px 12px rgba(74, 222, 128, 0.15) !important;
}

[data-theme="dark"] .tab-button.active {
    background: linear-gradient(135deg, #065f46 0%, #047857 100%) !important;
    border-color: var(--primary-color) !important;
    color: white !important;
    box-shadow: 0 4px 16px rgba(74, 222, 128, 0.3) !important;
}

/* ========================================
   32. Banner和步骤标题暗黑样式
   ======================================== */

[data-theme="dark"] .step-header {
    background: linear-gradient(135deg, #064e3b 0%, #065f46 100%) !important;
    color: #e2e8f0 !important;
}

[data-theme="dark"] .step {
    background: var(--surface-color) !important;
    border-color: #334155 !important;
}

[data-theme="dark"] .step p.info {
    background: rgba(74, 222, 128, 0.1) !important;
    border-color: rgba(74, 222, 128, 0.2) !important;
    color: #94a3b8 !important;
}

[data-theme="dark"] .step p.info.error {
    background: rgba(248, 113, 113, 0.1) !important;
    border-color: rgba(248, 113, 113, 0.2) !important;
    color: #fca5a5 !important;
}

/* ========================================
   33. 多图查看器覆盖
   ======================================== */

[data-theme="dark"] .multi-image-viewer,
[data-theme="dark"] #multi_image_viewer {
    background: #0f172a !important;
    border-color: #334155 !important;
}

[data-theme="dark"] .viewer-container {
    background: #0f172a !important;
}

[data-theme="dark"] .image-list-panel {
    background: #1e293b !important;
    border-color: #334155 !important;
}

[data-theme="dark"] .image-item {
    background: #0f172a !important;
    border-color: #334155 !important;
}

[data-theme="dark"] .image-item:hover,
[data-theme="dark"] .image-item.active {
    border-color: var(--primary-color) !important;
}

[data-theme="dark"] .viewer-controls {
    background: #1e293b !important;
    border-color: #334155 !important;
}

[data-theme="dark"] .viewer-main {
    background: #0f172a !important;
}

/* ========================================
   34. 通用勾选框暗黑样式
   ======================================== */

[data-theme="dark"] input[type="checkbox"] {
    accent-color: var(--primary-color) !important;
    background-color: #1e293b !important;
    border-color: #475569 !important;
}

[data-theme="dark"] input[type="checkbox"]:checked {
    background-color: var(--primary-color) !important;
    border-color: var(--primary-color) !important;
}

/* ========================================
   35. 访客限制提示覆盖
   ======================================== */

[data-theme="dark"] .guest-limit-notice {
    background: linear-gradient(135deg, #422006 0%, #78350f 100%) !important;
    border-color: #d97706 !important;
    color: #fcd34d !important;
}

/* ========================================
   36. 小按钮暗黑模式覆盖
   ======================================== */

[data-theme="dark"] .small-button {
    background: linear-gradient(135deg, #065f46 0%, #047857 100%) !important;
    box-shadow: 0 2px 6px rgba(74, 222, 128, 0.2) !important;
}

[data-theme="dark"] .small-button:hover {
    background: linear-gradient(135deg, #047857 0%, #059669 100%) !important;
    box-shadow: 0 4px 12px rgba(74, 222, 128, 0.3) !important;
}

[data-theme="dark"] .small-button:disabled {
    background: linear-gradient(135deg, #1e293b 0%, #334155 100%) !important;
    color: #64748b !important;
    box-shadow: none !important;
}

[data-theme="dark"] .small-button.delete-button {
    background: linear-gradient(135deg, #991b1b 0%, #dc2626 100%) !important;
}

[data-theme="dark"] .small-button.delete-button:hover {
    background: linear-gradient(135deg, #b91c1c 0%, #ef4444 100%) !important;
}

/* ========================================
   37. 操作按钮暗黑模式覆盖
   ======================================== */

[data-theme="dark"] .action-button {
    background: linear-gradient(135deg, #065f46 0%, #047857 100%) !important;
    box-shadow: 0 4px 12px rgba(74, 222, 128, 0.2) !important;
}

[data-theme="dark"] .action-button:hover {
    background: linear-gradient(135deg, #047857 0%, #059669 100%) !important;
    box-shadow: 0 7px 20px rgba(74, 222, 128, 0.3) !important;
}

[data-theme="dark"] .action-button:disabled {
    background: linear-gradient(135deg, #1e293b 0%, #334155 100%) !important;
    color: #64748b !important;
}

/* ========================================
   38. 主按钮暗黑模式覆盖
   ======================================== */

[data-theme="dark"] button:not(.color-button):not(.icon-button):not(.new-chat-btn):not(.small-button):not(.delete-button):not(.file-remove-btn):not(.help-button):not(.api-config-toggle):not(.edit-title-btn):not(.close-modal):not(.export-toggle-btn):not(.action-button):not(.chat-actions button):not(.popup-close):not(.popup-btn):not(.send-btn):not(.control-btn):not(.viewer-close-btn):not(.theme-toggle-btn) {
    background: linear-gradient(135deg, #065f46 0%, #047857 100%) !important;
    box-shadow: 0 4px 12px rgba(74, 222, 128, 0.2) !important;
}

[data-theme="dark"] button:not(.color-button):not(.icon-button):not(.new-chat-btn):not(.small-button):not(.delete-button):not(.file-remove-btn):not(.help-button):not(.api-config-toggle):not(.edit-title-btn):not(.close-modal):not(.export-toggle-btn):not(.action-button):not(.chat-actions button):not(.popup-close):not(.popup-btn):not(.send-btn):not(.control-btn):not(.viewer-close-btn):not(.theme-toggle-btn):hover {
    background: linear-gradient(135deg, #047857 0%, #059669 100%) !important;
    box-shadow: 0 7px 20px rgba(74, 222, 128, 0.3) !important;
}

[data-theme="dark"] button:not(.color-button):not(.icon-button):not(.new-chat-btn):not(.small-button):not(.delete-button):not(.file-remove-btn):not(.help-button):not(.api-config-toggle):not(.edit-title-btn):not(.close-modal):not(.export-toggle-btn):not(.action-button):not(.chat-actions button):not(.popup-close):not(.popup-btn):not(.send-btn):not(.control-btn):not(.viewer-close-btn):not(.theme-toggle-btn):disabled {
    background: linear-gradient(135deg, #1e293b 0%, #334155 100%) !important;
    color: #64748b !important;
}

/* ========================================
   39. 发送按钮暗黑模式覆盖
   ======================================== */

[data-theme="dark"] .send-btn {
    background: linear-gradient(135deg, #065f46 0%, #047857 100%) !important;
}

[data-theme="dark"] .send-btn:hover {
    background: linear-gradient(135deg, #047857 0%, #059669 100%) !important;
}

/* ========================================
   40. 导出按钮暗黑模式覆盖
   ======================================== */

[data-theme="dark"] .export-toggle-btn {
    background: linear-gradient(135deg, #065f46 0%, #047857 100%) !important;
    box-shadow: 0 4px 12px rgba(74, 222, 128, 0.2) !important;
}

[data-theme="dark"] .export-toggle-btn:hover {
    background: linear-gradient(135deg, #047857 0%, #059669 100%) !important;
    box-shadow: 0 7px 20px rgba(74, 222, 128, 0.3) !important;
}

/* ========================================
   41. 保存按钮暗黑模式覆盖
   ======================================== */

[data-theme="dark"] #chat_save_title_btn,
[data-theme="dark"] #chat_save_persona_btn {
    background: linear-gradient(135deg, #065f46 0%, #047857 100%) !important;
    box-shadow: 0 4px 12px rgba(74, 222, 128, 0.2) !important;
}

[data-theme="dark"] #chat_save_title_btn:hover,
[data-theme="dark"] #chat_save_persona_btn:hover {
    background: linear-gradient(135deg, #047857 0%, #059669 100%) !important;
    box-shadow: 0 7px 20px rgba(74, 222, 128, 0.3) !important;
}

/* ========================================
   42. 帮助标签暗黑模式覆盖
   ======================================== */

[data-theme="dark"] .help-tab {
    background: linear-gradient(135deg, #065f46 0%, #047857 100%) !important;
}

[data-theme="dark"] .help-tab-icon {
    background: linear-gradient(135deg, #065f46 0%, #047857 100%) !important;
}

/* ========================================
   43. 专利配置按钮暗黑模式覆盖
   ======================================== */

[data-theme="dark"] .patent-action-btn {
    background: linear-gradient(135deg, #065f46 0%, #047857 100%) !important;
}

[data-theme="dark"] .patent-action-btn:hover {
    background: linear-gradient(135deg, #047857 0%, #059669 100%) !important;
}

/* ========================================
   44. 功能七专利附图页面按钮覆盖
   ======================================== */

[data-theme="dark"] #start_processing_btn {
    background: linear-gradient(135deg, #065f46 0%, #047857 100%) !important;
}

[data-theme="dark"] #start_processing_btn:hover {
    background: linear-gradient(135deg, #047857 0%, #059669 100%) !important;
}

[data-theme="dark"] #clear_all_btn {
    background: linear-gradient(135deg, #991b1b 0%, #dc2626 100%) !important;
}

[data-theme="dark"] #clear_all_btn:hover {
    background: linear-gradient(135deg, #b91c1c 0%, #ef4444 100%) !important;
}

/* ========================================
   45. 功能五批量检索页面按钮覆盖
   ======================================== */

[data-theme="dark"] #search_patents_btn {
    background: linear-gradient(135deg, #065f46 0%, #047857 100%) !important;
}

[data-theme="dark"] #search_patents_btn:hover {
    background: linear-gradient(135deg, #047857 0%, #059669 100%) !important;
}

[data-theme="dark"] #manage_template_btn,
[data-theme="dark"] #toggle_field_selector_btn,
[data-theme="dark"] #save_field_selection_btn,
[data-theme="dark"] #add_field_btn,
[data-theme="dark"] #patent_save_template_btn,
[data-theme="dark"] #patent_new_template_btn,
[data-theme="dark"] #patent_export_template_btn,
[data-theme="dark"] #patent_import_template_btn,
[data-theme="dark"] #cancel_edit_btn,
[data-theme="dark"] #view_cache_stats_btn,
[data-theme="dark"] #view_history_btn {
    background: linear-gradient(135deg, #065f46 0%, #047857 100%) !important;
}

[data-theme="dark"] #manage_template_btn:hover,
[data-theme="dark"] #toggle_field_selector_btn:hover,
[data-theme="dark"] #save_field_selection_btn:hover,
[data-theme="dark"] #add_field_btn:hover,
[data-theme="dark"] #patent_save_template_btn:hover,
[data-theme="dark"] #patent_new_template_btn:hover,
[data-theme="dark"] #patent_export_template_btn:hover,
[data-theme="dark"] #patent_import_template_btn:hover,
[data-theme="dark"] #cancel_edit_btn:hover,
[data-theme="dark"] #view_cache_stats_btn:hover,
[data-theme="dark"] #view_history_btn:hover {
    background: linear-gradient(135deg, #047857 0%, #059669 100%) !important;
}

[data-theme="dark"] #clear_patent_input_btn,
[data-theme="dark"] #patent_delete_template_btn,
[data-theme="dark"] #clear_cache_btn,
[data-theme="dark"] #clear_history_btn {
    background: linear-gradient(135deg, #991b1b 0%, #dc2626 100%) !important;
}

[data-theme="dark"] #clear_patent_input_btn:hover,
[data-theme="dark"] #patent_delete_template_btn:hover,
[data-theme="dark"] #clear_cache_btn:hover,
[data-theme="dark"] #clear_history_btn:hover {
    background: linear-gradient(135deg, #b91c1c 0%, #ef4444 100%) !important;
}

/* ========================================
   46. 同族权利要求对比页面按钮覆盖
   ======================================== */

[data-theme="dark"] #select_all_family_btn,
[data-theme="dark"] #deselect_all_family_btn,
[data-theme="dark"] #family_toggle_language_btn,
[data-theme="dark"] #family_export_comparison_btn {
    background: linear-gradient(135deg, #065f46 0%, #047857 100%) !important;
}

[data-theme="dark"] #select_all_family_btn:hover,
[data-theme="dark"] #deselect_all_family_btn:hover,
[data-theme="dark"] #family_toggle_language_btn:hover,
[data-theme="dark"] #family_export_comparison_btn:hover {
    background: linear-gradient(135deg, #047857 0%, #059669 100%) !important;
}

[data-theme="dark"] #clear_family_list_btn {
    background: linear-gradient(135deg, #991b1b 0%, #dc2626 100%) !important;
}

/* ========================================
   47. 权利要求对比页面按钮覆盖
   ======================================== */

[data-theme="dark"] #toggle_language_btn,
[data-theme="dark"] #export_comparison_btn {
    background: linear-gradient(135deg, #065f46 0%, #047857 100%) !important;
}

[data-theme="dark"] #toggle_language_btn:hover,
[data-theme="dark"] #export_comparison_btn:hover {
    background: linear-gradient(135deg, #047857 0%, #059669 100%) !important;
}

/* ========================================
   48. 统一批量处理页面按钮覆盖
   ======================================== */

[data-theme="dark"] #unified_load_excel_btn,
[data-theme="dark"] #unified_add_input_btn,
[data-theme="dark"] #unified_inputs_select_all_btn,
[data-theme="dark"] #unified_add_output_field_btn,
[data-theme="dark"] #unified_add_template_btn,
[data-theme="dark"] #unified_async_recover_btn,
[data-theme="dark"] #unified_async_export_btn {
    background: linear-gradient(135deg, #065f46 0%, #047857 100%) !important;
}

[data-theme="dark"] #unified_load_excel_btn:hover,
[data-theme="dark"] #unified_add_input_btn:hover,
[data-theme="dark"] #unified_inputs_select_all_btn:hover,
[data-theme="dark"] #unified_add_output_field_btn:hover,
[data-theme="dark"] #unified_add_template_btn:hover,
[data-theme="dark"] #unified_async_recover_btn:hover,
[data-theme="dark"] #unified_async_export_btn:hover {
    background: linear-gradient(135deg, #047857 0%, #059669 100%) !important;
}

[data-theme="dark"] #unified_inputs_delete_selected_btn {
    background: linear-gradient(135deg, #991b1b 0%, #dc2626 100%) !important;
}

[data-theme="dark"] #unified_batch_step1_upload,
[data-theme="dark"] #unified_batch_step2_create {
    background: linear-gradient(135deg, #065f46 0%, #047857 100%) !important;
}

/* ========================================
   49. 权利要求处理器页面按钮覆盖
   ======================================== */

[data-theme="dark"] #claims_text_example_btn {
    background: linear-gradient(135deg, #065f46 0%, #047857 100%) !important;
}

[data-theme="dark"] #claims_text_example_btn:hover {
    background: linear-gradient(135deg, #047857 0%, #059669 100%) !important;
}

/* ========================================
   50. 专利详情弹窗按钮覆盖
   ======================================== */

[data-theme="dark"] #patent_chat_send_btn {
    background: linear-gradient(135deg, #065f46 0%, #047857 100%) !important;
}

[data-theme="dark"] #patent_chat_send_btn:hover {
    background: linear-gradient(135deg, #047857 0%, #059669 100%) !important;
}

/* ========================================
   51. API Key保存按钮覆盖
   ======================================== */

[data-theme="dark"] #api_key_save_btn {
    background: linear-gradient(135deg, #065f46 0%, #047857 100%) !important;
}

[data-theme="dark"] #api_key_save_btn:hover {
    background: linear-gradient(135deg, #047857 0%, #059669 100%) !important;
}

/* ========================================
   52. 聊天历史列表项暗黑模式覆盖
   ======================================== */

[data-theme="dark"] .chat-history-item {
    background: transparent !important;
    border-bottom-color: #334155 !important;
}

[data-theme="dark"] .chat-history-item:hover {
    background: rgba(74, 222, 128, 0.1) !important;
    border-left-color: var(--primary-color) !important;
}

[data-theme="dark"] .chat-history-item.active {
    background: linear-gradient(135deg, #065f46 0%, #047857 100%) !important;
    border-left-color: var(--primary-color) !important;
}

[data-theme="dark"] .history-item-title {
    color: var(--text-color) !important;
}

[data-theme="dark"] .history-item-details {
    color: #64748b !important;
}

/* ========================================
   53. AI处理面板暗黑模式覆盖
   ======================================== */

[data-theme="dark"] .ai-processing-panel {
    background: #1e293b !important;
    border-color: #334155 !important;
}

[data-theme="dark"] .ai-mode-options {
    border-top-color: #334155 !important;
}

[data-theme="dark"] .toggle-text {
    color: var(--text-color) !important;
}

[data-theme="dark"] .toggle-hint {
    color: #64748b !important;
}

[data-theme="dark"] .model-selector-container label {
    color: var(--text-color) !important;
}

[data-theme="dark"] .model-selector {
    background-color: #0f172a !important;
    border-color: #475569 !important;
    color: var(--text-color) !important;
}

[data-theme="dark"] .model-selector:hover {
    border-color: var(--primary-color) !important;
}

[data-theme="dark"] .model-selector:focus {
    border-color: var(--primary-color) !important;
    box-shadow: 0 0 0 3px var(--primary-color-glow) !important;
}

[data-theme="dark"] .toggle-slider {
    background-color: #475569 !important;
}

[data-theme="dark"] .toggle-label input[type="checkbox"]:checked + .toggle-slider {
    background-color: var(--primary-color) !important;
}

/* ========================================
   54. 提示词编辑器暗黑模式覆盖
   ======================================== */

[data-theme="dark"] .prompt-editor {
    background: transparent !important;
}

[data-theme="dark"] .prompt-editor-header {
    border-bottom-color: #334155 !important;
}

[data-theme="dark"] .prompt-editor-header label {
    color: var(--text-color) !important;
}

[data-theme="dark"] .prompt-editor-hint {
    background: rgba(74, 222, 128, 0.1) !important;
    border-color: rgba(74, 222, 128, 0.2) !important;
    color: #94a3b8 !important;
}

[data-theme="dark"] .prompt-editor-message {
    background: #1e293b !important;
    border-color: #334155 !important;
}

[data-theme="dark"] .prompt-editor-message.success {
    background: rgba(74, 222, 128, 0.1) !important;
    border-color: var(--primary-color) !important;
    color: #4ade80 !important;
}

[data-theme="dark"] .prompt-editor-message.error {
    background: rgba(248, 113, 113, 0.1) !important;
    border-color: #f87171 !important;
    color: #fca5a5 !important;
}

[data-theme="dark"] .prompt-editor-message.info {
    background: rgba(59, 130, 246, 0.1) !important;
    border-color: #60a5fa !important;
    color: #93c5fd !important;
}

/* ========================================
   55. 多图查看器弹窗暗黑模式覆盖
   ======================================== */

[data-theme="dark"] .multi-image-viewer-v8 {
    background-color: rgba(0, 0, 0, 0.95) !important;
}

[data-theme="dark"] .multi-image-viewer-v8 .image-container,
[data-theme="dark"] .multi-image-viewer-v8 .sidebar {
    background: #1e293b !important;
    border-color: #334155 !important;
}

[data-theme="dark"] .multi-image-viewer-v8 .sidebar {
    background: #0f172a !important;
}

[data-theme="dark"] .multi-image-viewer-v8 .sidebar-header {
    background: linear-gradient(135deg, #064e3b 0%, #065f46 100%) !important;
    border-bottom-color: #334155 !important;
}

[data-theme="dark"] .multi-image-viewer-v8 .sidebar-title {
    color: #e2e8f0 !important;
}

[data-theme="dark"] .multi-image-viewer-v8 .annotation-list {
    background: transparent !important;
}

[data-theme="dark"] .multi-image-viewer-v8 .annotation-item {
    background: #1e293b !important;
    border-color: #334155 !important;
    color: var(--text-color) !important;
}

[data-theme="dark"] .multi-image-viewer-v8 .annotation-item:hover {
    background: #334155 !important;
    border-color: var(--primary-color) !important;
}

[data-theme="dark"] .multi-image-viewer-v8 .annotation-item.selected {
    background: rgba(74, 222, 128, 0.15) !important;
    border-color: var(--primary-color) !important;
}

[data-theme="dark"] .multi-image-viewer-v8 .annotation-number {
    background: var(--primary-color) !important;
    color: white !important;
}

[data-theme="dark"] .multi-image-viewer-v8 .annotation-name {
    color: var(--text-color) !important;
}

[data-theme="dark"] .multi-image-viewer-v8 .annotation-confidence {
    color: #64748b !important;
}

[data-theme="dark"] .multi-image-viewer-v8 .image-counter {
    color: #94a3b8 !important;
}

[data-theme="dark"] .multi-image-viewer-v8 .toolbar-btn {
    background: #1e293b !important;
    border-color: #334155 !important;
    color: #94a3b8 !important;
}

[data-theme="dark"] .multi-image-viewer-v8 .toolbar-btn:hover {
    background: #334155 !important;
    border-color: var(--primary-color) !important;
    color: var(--primary-color) !important;
}

/* ========================================
   56. 功能五批量解读模版面板暗黑模式覆盖
   ======================================== */

[data-theme="dark"] .template-manager-panel,
[data-theme="dark"] #template_manager_panel {
    background: var(--surface-color) !important;
    border-color: #334155 !important;
}

[data-theme="dark"] .template-manager-header {
    background: linear-gradient(135deg, #064e3b 0%, #065f46 100%) !important;
    border-bottom-color: #334155 !important;
}

[data-theme="dark"] .template-manager-title {
    color: #e2e8f0 !important;
}

[data-theme="dark"] .template-list {
    background: transparent !important;
}

[data-theme="dark"] .template-item {
    background: #1e293b !important;
    border-color: #334155 !important;
}

[data-theme="dark"] .template-item:hover {
    border-color: var(--primary-color) !important;
    background: rgba(74, 222, 128, 0.1) !important;
}

[data-theme="dark"] .template-item.active {
    background: rgba(74, 222, 128, 0.15) !important;
    border-color: var(--primary-color) !important;
}

[data-theme="dark"] .template-name {
    color: var(--text-color) !important;
}

[data-theme="dark"] .template-desc {
    color: #64748b !important;
}

[data-theme="dark"] .template-editor-area {
    background: #0f172a !important;
    border-color: #475569 !important;
    color: var(--text-color) !important;
}

[data-theme="dark"] #template_select {
    background-color: #0f172a !important;
    border-color: #475569 !important;
    color: var(--text-color) !important;
}

[data-theme="dark"] #template_select:focus {
    border-color: var(--primary-color) !important;
    box-shadow: 0 0 0 3px var(--primary-color-glow) !important;
}

/* ========================================
   57. 功能七匹配识别结果块暗黑模式覆盖
   ======================================== */

[data-theme="dark"] .match-result-block,
[data-theme="dark"] .recognition-result-block {
    background: #1e293b !important;
    border-color: #334155 !important;
}

[data-theme="dark"] .match-result-header,
[data-theme="dark"] .recognition-result-header {
    background: linear-gradient(135deg, #064e3b 0%, #065f46 100%) !important;
    border-bottom-color: #334155 !important;
    color: #e2e8f0 !important;
}

[data-theme="dark"] .match-result-body,
[data-theme="dark"] .recognition-result-body {
    background: transparent !important;
    color: var(--text-color) !important;
}

[data-theme="dark"] .match-result-item {
    background: #0f172a !important;
    border-color: #334155 !important;
}

[data-theme="dark"] .match-result-item:hover {
    border-color: var(--primary-color) !important;
    background: rgba(74, 222, 128, 0.1) !important;
}

[data-theme="dark"] .match-result-item.selected {
    background: rgba(74, 222, 128, 0.15) !important;
    border-color: var(--primary-color) !important;
}

[data-theme="dark"] .match-result-label {
    color: var(--text-color) !important;
}

[data-theme="dark"] .match-result-value {
    color: #94a3b8 !important;
}

[data-theme="dark"] .match-result-confidence {
    background: rgba(74, 222, 128, 0.2) !important;
    color: #4ade80 !important;
}

/* ========================================
   58. 历史面板暗黑模式覆盖
   ======================================== */

[data-theme="dark"] .history-panel {
    background: #1e293b !important;
    border-color: #334155 !important;
}

[data-theme="dark"] .history-panel-header {
    border-bottom-color: #334155 !important;
}

[data-theme="dark"] .history-panel-title {
    color: var(--text-color) !important;
}

[data-theme="dark"] .history-item {
    background: #0f172a !important;
    border-color: #334155 !important;
}

[data-theme="dark"] .history-item:hover {
    border-color: var(--primary-color) !important;
    background: rgba(74, 222, 128, 0.1) !important;
}

/* ========================================
   59. 缓存统计面板暗黑模式覆盖
   ======================================== */

[data-theme="dark"] .cache-stats-panel {
    background: var(--surface-color) !important;
    border-color: #334155 !important;
}

[data-theme="dark"] .cache-stats-header {
    background: linear-gradient(135deg, #064e3b 0%, #065f46 100%) !important;
    border-bottom-color: #334155 !important;
}

[data-theme="dark"] .cache-stats-title {
    color: #e2e8f0 !important;
}

[data-theme="dark"] .cache-stats-grid {
    background: #0f172a !important;
}

[data-theme="dark"] .cache-stat-card {
    background: #1e293b !important;
    border-color: #334155 !important;
}

[data-theme="dark"] .cache-stat-label {
    color: #94a3b8 !important;
}

[data-theme="dark"] .cache-stat-value {
    color: var(--primary-color) !important;
}

/* ========================================
   60. 通用下拉选择框暗黑模式覆盖
   ======================================== */

[data-theme="dark"] select {
    background-color: #0f172a !important;
    border-color: #475569 !important;
    color: var(--text-color) !important;
}

[data-theme="dark"] select:hover {
    border-color: var(--primary-color) !important;
}

[data-theme="dark"] select:focus {
    border-color: var(--primary-color) !important;
    box-shadow: 0 0 0 3px var(--primary-color-glow) !important;
}

[data-theme="dark"] select option {
    background-color: #1e293b !important;
    color: var(--text-color) !important;
}

/* ========================================
   61. 功能五批量解读结果区域暗黑模式覆盖
   ======================================== */

[data-theme="dark"] .analysis-content {
    background: transparent !important;
}

[data-theme="dark"] .analysis-content table {
    border-color: #334155 !important;
}

[data-theme="dark"] .analysis-content table th {
    background-color: #1e293b !important;
    color: var(--text-color) !important;
    border-color: #334155 !important;
}

[data-theme="dark"] .analysis-content table td {
    border-color: #334155 !important;
    color: var(--text-color) !important;
}

[data-theme="dark"] .analysis-content table tr:nth-child(even) {
    background-color: rgba(255, 255, 255, 0.02) !important;
}

[data-theme="dark"] .analysis-status {
    background: rgba(74, 222, 128, 0.15) !important;
    color: #4ade80 !important;
}

[data-theme="dark"] .ai-disclaimer {
    background: rgba(59, 130, 246, 0.1) !important;
    border-color: rgba(59, 130, 246, 0.3) !important;
}

[data-theme="dark"] .ai-disclaimer-icon {
    background: rgba(59, 130, 246, 0.2) !important;
    color: #60a5fa !important;
}

[data-theme="dark"] .ai-disclaimer-text {
    color: #94a3b8 !important;
}

[data-theme="dark"] .analysis-result-content {
    background: transparent !important;
}

[data-theme="dark"] .analysis-result-container {
    background: var(--surface-color) !important;
    border-color: #334155 !important;
}

/* ========================================
   62. 功能五专利条带暗黑模式覆盖
   ======================================== */

[data-theme="dark"] .patent-strip {
    background: var(--surface-color) !important;
    border-color: #334155 !important;
}

[data-theme="dark"] .patent-strip:hover {
    border-color: var(--primary-color) !important;
    background: rgba(74, 222, 128, 0.05) !important;
}

[data-theme="dark"] .patent-strip-header {
    background: #1e293b !important;
    border-bottom-color: #334155 !important;
}

[data-theme="dark"] .patent-strip-title {
    color: var(--text-color) !important;
}

[data-theme="dark"] .patent-strip-number {
    color: var(--primary-color) !important;
}

[data-theme="dark"] .patent-strip-status {
    background: rgba(74, 222, 128, 0.15) !important;
    color: #4ade80 !important;
}

[data-theme="dark"] .patent-strip-status.pending {
    background: rgba(251, 191, 36, 0.15) !important;
    color: #fbbf24 !important;
}

[data-theme="dark"] .patent-strip-status.error {
    background: rgba(248, 113, 113, 0.15) !important;
    color: #f87171 !important;
}

[data-theme="dark"] .patent-strip-body {
    background: transparent !important;
}

[data-theme="dark"] .patent-strip-field {
    color: #94a3b8 !important;
}

[data-theme="dark"] .patent-strip-value {
    color: var(--text-color) !important;
}

[data-theme="dark"] .patent-strip-image {
    background: #1e293b !important;
    border: 1px solid #334155 !important;
}

[data-theme="dark"] .patent-strip-image .no-image {
    color: #64748b !important;
}

[data-theme="dark"] .patent-strip-meta {
    color: #94a3b8 !important;
}

[data-theme="dark"] .patent-strip-meta span {
    color: #94a3b8 !important;
}

[data-theme="dark"] .patent-strip-error {
    color: #f87171 !important;
}

[data-theme="dark"] .patent-tab-results-container {
    background: transparent !important;
}

[data-theme="dark"] .patent-strip-actions .small-button {
    background: rgba(74, 222, 128, 0.15) !important;
    color: #4ade80 !important;
    border-color: rgba(74, 222, 128, 0.3) !important;
}

[data-theme="dark"] .patent-strip-actions .small-button:hover {
    background: rgba(74, 222, 128, 0.25) !important;
}

/* ========================================
   63. 解读结果容器暗黑模式覆盖
   ======================================== */

[data-theme="dark"] #analysis_results_container {
    background: var(--surface-color) !important;
    border-color: #334155 !important;
}

[data-theme="dark"] #analysis_results_list {
    background: transparent !important;
}

[data-theme="dark"] .analysis-progress-bar {
    background: #334155 !important;
}

[data-theme="dark"] .analysis-progress-fill {
    background: linear-gradient(90deg, var(--primary-color-dark), var(--primary-color)) !important;
}

[data-theme="dark"] #analysis_progress_text {
    color: var(--text-color) !important;
}

/* ========================================
   64. 解读结果内联样式覆盖（针对JS动态生成的样式）
   ======================================== */

[data-theme="dark"] .analysis-content div[style*="background-color: #f5f5f5"],
[data-theme="dark"] .analysis-content div[style*="background-color:#f5f5f5"] {
    background-color: #0f172a !important;
    color: var(--text-color) !important;
    border-color: #334155 !important;
}

[data-theme="dark"] .analysis-content div[style*="background-color: #fff3cd"],
[data-theme="dark"] .analysis-content div[style*="background-color:#fff3cd"] {
    background-color: rgba(251, 191, 36, 0.15) !important;
    border-color: rgba(251, 191, 36, 0.3) !important;
    color: #fbbf24 !important;
}

[data-theme="dark"] .analysis-content div[style*="background-color: #f8d7da"],
[data-theme="dark"] .analysis-content div[style*="background-color:#f8d7da"] {
    background-color: rgba(248, 113, 113, 0.15) !important;
    border-color: rgba(248, 113, 113, 0.3) !important;
    color: #f87171 !important;
}

[data-theme="dark"] .analysis-content div[style*="background-color: #d4edda"],
[data-theme="dark"] .analysis-content div[style*="background-color:#d4edda"] {
    background-color: rgba(74, 222, 128, 0.15) !important;
    border-color: rgba(74, 222, 128, 0.3) !important;
    color: #4ade80 !important;
}

/* ========================================
   65. 专利详情弹窗解读区域暗黑模式覆盖
   ======================================== */

[data-theme="dark"] #patent_detail_modal .analysis-section {
    background: #1e293b !important;
    border-color: #334155 !important;
}

[data-theme="dark"] #patent_detail_modal .analysis-header {
    background: linear-gradient(135deg, #064e3b 0%, #065f46 100%) !important;
    border-bottom-color: #334155 !important;
}

[data-theme="dark"] #patent_detail_modal .analysis-title {
    color: #e2e8f0 !important;
}

[data-theme="dark"] #patent_detail_modal .analysis-body {
    background: transparent !important;
}

[data-theme="dark"] #patent_detail_modal .analysis-result-content table {
    border-color: #334155 !important;
}

[data-theme="dark"] #patent_detail_modal .analysis-result-content table th {
    background-color: #1e293b !important;
    color: var(--text-color) !important;
    border-color: #334155 !important;
}

[data-theme="dark"] #patent_detail_modal .analysis-result-content table td {
    border-color: #334155 !important;
    color: var(--text-color) !important;
}

/* ========================================
   66. 解读结果错误提示暗黑模式覆盖
   ======================================== */

[data-theme="dark"] .analysis-error {
    background: rgba(248, 113, 113, 0.1) !important;
    border-color: rgba(248, 113, 113, 0.3) !important;
    color: #fca5a5 !important;
}

/* ========================================
   67. 解读结果警告提示暗黑模式覆盖
   ======================================== */

[data-theme="dark"] .analysis-warning {
    background: rgba(251, 191, 36, 0.1) !important;
    border-color: rgba(251, 191, 36, 0.3) !important;
    color: #fcd34d !important;
}

/* ========================================
   68. 解读结果表格暗黑模式覆盖
   ======================================== */

[data-theme="dark"] .analysis-table {
    border-color: #334155 !important;
}

[data-theme="dark"] .analysis-table-header {
    background-color: #1e293b !important;
    color: var(--text-color) !important;
    border-color: #334155 !important;
}

[data-theme="dark"] .analysis-table-field {
    border-color: #334155 !important;
    color: var(--text-color) !important;
}

[data-theme="dark"] .analysis-table-value {
    border-color: #334155 !important;
    color: var(--text-color) !important;
}

/* ========================================
   69. 解读状态徽章暗黑模式覆盖
   ======================================== */

[data-theme="dark"] .analysis-status.completed {
    background: rgba(74, 222, 128, 0.15) !important;
    color: #4ade80 !important;
}

[data-theme="dark"] .analysis-status.cached {
    background: rgba(251, 191, 36, 0.15) !important;
    color: #fbbf24 !important;
}

[data-theme="dark"] .analysis-status.error {
    background: rgba(248, 113, 113, 0.15) !important;
    color: #f87171 !important;
}

[data-theme="dark"] .analysis-status.pending {
    background: rgba(59, 130, 246, 0.15) !important;
    color: #60a5fa !important;
}

/* ========================================
   70. 解读警告框暗黑模式覆盖
   ======================================== */

[data-theme="dark"] .analysis-warning-box {
    background-color: rgba(251, 191, 36, 0.15) !important;
    border-color: rgba(251, 191, 36, 0.3) !important;
    color: #fbbf24 !important;
}

/* ========================================
   71. 解读原始内容暗黑模式覆盖
   ======================================== */

[data-theme="dark"] .analysis-raw-content {
    background-color: #0f172a !important;
    color: var(--text-color) !important;
    border: 1px solid #334155 !important;
}

/* ========================================
   72. 解读错误框暗黑模式覆盖
   ======================================== */

[data-theme="dark"] .analysis-error-box {
    background-color: rgba(248, 113, 113, 0.15) !important;
    border-color: rgba(248, 113, 113, 0.3) !important;
    color: #f87171 !important;
}

/* ========================================
   73. 解读区域容器暗黑模式覆盖
   ======================================== */

[data-theme="dark"] .analysis-section-container {
    background-color: rgba(59, 130, 246, 0.1) !important;
    border: 1px solid rgba(59, 130, 246, 0.2) !important;
}

[data-theme="dark"] .analysis-section-title {
    color: var(--primary-color) !important;
}

/* ========================================
   74. 专利详情弹窗区域暗黑模式覆盖
   ======================================== */

[data-theme="dark"] .detail-section {
    background-color: var(--surface-color) !important;
    border: 1px solid #334155 !important;
}

[data-theme="dark"] .detail-section-title {
    color: var(--primary-color) !important;
}

/* 附图区域 */
[data-theme="dark"] .detail-section-drawings {
    background-color: rgba(236, 72, 153, 0.1) !important;
    border-color: rgba(236, 72, 153, 0.2) !important;
}

[data-theme="dark"] .detail-drawing-preview {
    background: #1e293b !important;
    border: 1px solid #334155 !important;
}

[data-theme="dark"] .detail-drawing-caption {
    color: #94a3b8 !important;
}

[data-theme="dark"] .detail-drawing-thumbnail {
    background: #1e293b !important;
    border: 1px solid #334155 !important;
}

[data-theme="dark"] .detail-drawing-thumbnail:hover {
    box-shadow: 0 4px 12px rgba(0,0,0,0.4) !important;
}

[data-theme="dark"] .detail-drawing-thumbnail-caption {
    color: #94a3b8 !important;
}

[data-theme="dark"] .detail-drawing-more {
    background: linear-gradient(135deg, rgba(30, 58, 95, 0.8) 0%, rgba(30, 58, 95, 1) 100%) !important;
    border-color: #3b82f6 !important;
}

[data-theme="dark"] .detail-drawing-more:hover {
    background: linear-gradient(135deg, rgba(59, 130, 246, 0.3) 0%, rgba(59, 130, 246, 0.5) 100%) !important;
}

[data-theme="dark"] .detail-drawing-more-content {
    color: #60a5fa !important;
}

/* 权利要求区域 */
[data-theme="dark"] .detail-section-claims {
    background-color: rgba(100, 116, 139, 0.1) !important;
    border-color: rgba(100, 116, 139, 0.2) !important;
}

/* 说明书区域 */
[data-theme="dark"] .detail-section-description {
    background-color: rgba(59, 130, 246, 0.1) !important;
    border-color: rgba(59, 130, 246, 0.2) !important;
}

[data-theme="dark"] .detail-description-content {
    color: var(--text-color) !important;
}

/* CPC分类区域 */
[data-theme="dark"] .detail-section-cpc {
    background-color: rgba(59, 130, 246, 0.1) !important;
    border-color: rgba(59, 130, 246, 0.2) !important;
}

[data-theme="dark"] .cpc-item {
    background-color: #1e293b !important;
    border-left-color: var(--primary-color) !important;
}

[data-theme="dark"] .cpc-code {
    color: var(--primary-color) !important;
}

[data-theme="dark"] .cpc-description {
    color: #94a3b8 !important;
}

/* 技术领域区域 */
[data-theme="dark"] .detail-section-landscapes {
    background-color: rgba(168, 85, 247, 0.1) !important;
    border-color: rgba(168, 85, 247, 0.2) !important;
}

[data-theme="dark"] .landscape-tag {
    background-color: #1e293b !important;
    border-color: #334155 !important;
    color: var(--text-color) !important;
}

/* 优先权日期区域 */
[data-theme="dark"] .detail-section-priority {
    background-color: rgba(250, 204, 21, 0.1) !important;
    border-color: rgba(250, 204, 21, 0.2) !important;
}

[data-theme="dark"] .detail-priority-text {
    color: var(--text-color) !important;
}

/* 同族信息区域 */
[data-theme="dark"] .detail-section-family {
    background-color: rgba(251, 146, 60, 0.1) !important;
    border-color: rgba(251, 146, 60, 0.2) !important;
}

[data-theme="dark"] .detail-family-id {
    color: var(--text-color) !important;
}

/* 外部链接区域 */
[data-theme="dark"] .detail-section-links {
    background-color: rgba(34, 197, 94, 0.1) !important;
    border-color: rgba(34, 197, 94, 0.2) !important;
}

[data-theme="dark"] .detail-link-item {
    background-color: #1e293b !important;
    border-color: #334155 !important;
    color: var(--primary-color) !important;
}

/* 时间轴区域 */
[data-theme="dark"] .detail-section-timeline {
    background-color: transparent !important;
}

/* 时间轴组件暗黑模式 */
[data-theme="dark"] .patent-timeline-container {
    background: linear-gradient(135deg, rgba(30, 41, 59, 0.8) 0%, rgba(15, 23, 42, 0.9) 100%) !important;
    box-shadow: 0 2px 12px rgba(0, 0, 0, 0.3) !important;
}

[data-theme="dark"] .patent-timeline::before {
    background: linear-gradient(to bottom, 
        #4ade80 0%, 
        #22c55e 25%, 
        #16a34a 50%, 
        #22c55e 75%, 
        #4ade80 100%
    ) !important;
    box-shadow: 0 0 10px rgba(74, 222, 128, 0.4) !important;
}

[data-theme="dark"] .timeline-event-content {
    background: #1e293b !important;
    box-shadow: 0 4px 12px rgba(0, 0, 0, 0.3) !important;
    border-left-color: #4ade80 !important;
}

[data-theme="dark"] .timeline-event:nth-child(even) .timeline-event-content {
    border-right-color: #4ade80 !important;
    border-left-color: transparent !important;
}

[data-theme="dark"] .timeline-event-content::before {
    background: linear-gradient(90deg, #4ade80, #22c55e, #16a34a) !important;
}

[data-theme="dark"] .timeline-event-content:hover {
    box-shadow: 0 8px 24px rgba(74, 222, 128, 0.25) !important;
    border-left-color: #22c55e !important;
}

[data-theme="dark"] .timeline-event:nth-child(even) .timeline-event-content:hover {
    border-right-color: #22c55e !important;
}

[data-theme="dark"] .timeline-event-date {
    color: #4ade80 !important;
}

[data-theme="dark"] .timeline-event-title {
    color: #e2e8f0 !important;
}

[data-theme="dark"] .timeline-event-code {
    background: linear-gradient(135deg, rgba(74, 222, 128, 0.2) 0%, rgba(34, 197, 94, 0.3) 100%) !important;
    color: #4ade80 !important;
    box-shadow: 0 2px 4px rgba(74, 222, 128, 0.2) !important;
}

[data-theme="dark"] .timeline-event-description {
    color: #94a3b8 !important;
}

[data-theme="dark"] .timeline-event-node {
    background: #0f172a !important;
    border-color: #4ade80 !important;
    box-shadow: 0 0 0 4px rgba(74, 222, 128, 0.2) !important;
}

[data-theme="dark"] .timeline-event:hover .timeline-event-node {
    box-shadow: 0 0 0 8px rgba(74, 222, 128, 0.3), 0 0 20px rgba(74, 222, 128, 0.4) !important;
    border-color: #22c55e !important;
}

[data-theme="dark"] .timeline-event.critical .timeline-event-node {
    background: linear-gradient(135deg, #4ade80 0%, #22c55e 100%) !important;
    border-color: #4ade80 !important;
}

[data-theme="dark"] .timeline-event.critical .timeline-event-code {
    background: linear-gradient(135deg, #4ade80 0%, #22c55e 100%) !important;
    color: #0f172a !important;
}

[data-theme="dark"] .timeline-event.critical .timeline-event-content {
    background: linear-gradient(135deg, #1e293b 0%, rgba(74, 222, 128, 0.05) 100%) !important;
    border-left-color: #22c55e !important;
}

[data-theme="dark"] .timeline-event-connector {
    background: linear-gradient(90deg, #4ade80, #22c55e) !important;
}

[data-theme="dark"] .timeline-event:nth-child(odd) .timeline-event-connector {
    background: linear-gradient(90deg, #22c55e, #4ade80) !important;
}

/* 法律事件区域 */
[data-theme="dark"] .detail-section-legal {
    background-color: rgba(251, 146, 60, 0.1) !important;
    border-color: rgba(251, 146, 60, 0.2) !important;
}

/* 相似文档区域 */
[data-theme="dark"] .detail-section-similar {
    background-color: rgba(34, 197, 94, 0.1) !important;
    border-color: rgba(34, 197, 94, 0.2) !important;
}

/* 通用表格暗黑模式 */
[data-theme="dark"] .detail-table-container {
    background: transparent !important;
}

[data-theme="dark"] .detail-table {
    border-color: #334155 !important;
}

[data-theme="dark"] .detail-table-header-row {
    background-color: #1e293b !important;
}

[data-theme="dark"] .detail-table-header-legal {
    background-color: rgba(251, 146, 60, 0.2) !important;
}

[data-theme="dark"] .detail-table-header-similar {
    background-color: rgba(34, 197, 94, 0.2) !important;
}

[data-theme="dark"] .detail-table-header {
    background-color: #1e293b !important;
    color: var(--text-color) !important;
    border-color: #334155 !important;
}

[data-theme="dark"] .detail-table-cell {
    border-color: #334155 !important;
    color: var(--text-color) !important;
}

[data-theme="dark"] .detail-table-link {
    color: var(--primary-color) !important;
}

/* 引用专利区域 */
[data-theme="dark"] .detail-section-citations {
    background-color: rgba(34, 197, 94, 0.1) !important;
    border-color: rgba(34, 197, 94, 0.2) !important;
}

[data-theme="dark"] .detail-table-header-citations {
    background-color: rgba(34, 197, 94, 0.2) !important;
}

/* 被引用专利区域 */
[data-theme="dark"] .detail-section-citedby {
    background-color: rgba(251, 146, 60, 0.1) !important;
    border-color: rgba(251, 146, 60, 0.2) !important;
}

[data-theme="dark"] .detail-table-header-citedby {
    background-color: rgba(251, 146, 60, 0.2) !important;
}

/* 审查员标记暗黑模式 */
[data-theme="dark"] .examiner-mark {
    color: #f87171 !important;
}
