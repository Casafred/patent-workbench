<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>用户手册 - 专利分析智能工作台</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@900&family=Noto+Sans+SC:wght@400;500;700&display=swap" rel="stylesheet">
    <!-- Vanta.js Dependencies -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r134/three.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/vanta@latest/dist/vanta.net.min.js"></script>
    <style>
        :root {
            --primary-color: #22C55E;
            --primary-color-dark: #16A34A;
            --bg-color: #F0FDF4;
            --surface-color: rgba(255, 255, 255, 0.95);
            --text-color: #14532D;
            --text-color-light: #166534;
            --border-color: rgba(34, 197, 94, 0.2);
            --sidebar-width: 280px;
            --highlight-bg: #FFD700;
            --highlight-active-bg: #FFA500;
        }

        * {
            box-sizing: border-box;
        }

        html, body {
            margin: 0;
            padding: 0;
            height: 100%;
            overflow: hidden;
        }

        body {
            font-family: 'Noto Sans SC', sans-serif;
            background-color: transparent;
            color: var(--text-color);
            position: relative;
        }

        /* Vanta.js 背景容器 - 完全铺满视口，不受任何缩放影响 */
        #vanta-bg {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: -1;
            pointer-events: none;
        }

        /* 主容器 - 铺满整个视口 */
        .help-container {
            display: flex;
            height: 100vh;
            width: 100vw;
            padding: 0;
            gap: 0;
        }

        /* 左侧导航栏 - 固定不滚动，撑满高度 */
        .sidebar {
            width: var(--sidebar-width);
            height: 100vh;
            flex-shrink: 0;
            background-color: var(--surface-color);
            border-right: 1px solid var(--border-color);
            padding: 20px;
            box-shadow: 4px 0 15px rgba(0,0,0,0.05);
            display: flex;
            flex-direction: column;
            backdrop-filter: blur(10px);
            overflow: hidden;
        }

        .sidebar-header {
            text-align: center;
            margin-bottom: 20px;
            padding-bottom: 20px;
            border-bottom: 1px solid var(--border-color);
            flex-shrink: 0;
        }

        .sidebar-logo {
            font-family: 'Orbitron', sans-serif;
            font-size: 1.8rem;
            margin: 0;
            color: var(--primary-color-dark);
        }
        
        .sidebar-subtitle {
            font-size: 0.9em;
            color: var(--text-color-light);
        }

        /* 搜索控件 */
        .search-container {
            padding: 15px 0;
            border-bottom: 1px solid var(--border-color);
            margin-bottom: 15px;
            flex-shrink: 0;
        }

        .search-input-wrapper {
            position: relative;
            margin-bottom: 10px;
        }

        #search-input {
            width: 100%;
            padding: 10px 30px 10px 10px;
            border: 1px solid var(--border-color);
            border-radius: 6px;
            font-family: 'Noto Sans SC', sans-serif;
            font-size: 0.9em;
        }
        #search-input:focus {
            outline: none;
            border-color: var(--primary-color);
            box-shadow: 0 0 0 2px rgba(34, 197, 94, 0.3);
        }

        #clear-search-btn {
            position: absolute;
            right: 8px;
            top: 50%;
            transform: translateY(-50%);
            border: none;
            background: none;
            cursor: pointer;
            color: #999;
            font-size: 1.2em;
            padding: 0 5px;
            display: none;
        }
        #clear-search-btn:hover {
            color: #333;
        }

        .search-nav {
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .search-nav button {
            background-color: var(--bg-color);
            border: 1px solid var(--border-color);
            color: var(--primary-color-dark);
            padding: 5px 12px;
            border-radius: 5px;
            cursor: pointer;
            font-weight: 500;
            transition: all 0.2s;
        }
        .search-nav button:hover:not(:disabled) {
            background-color: var(--primary-color);
            color: white;
        }
        .search-nav button:disabled {
            opacity: 0.5;
            cursor: not-allowed;
        }

        #search-results-info {
            font-size: 0.85em;
            color: var(--text-color-light);
        }

        /* 导航菜单 - 可滚动 */
        .sidebar-nav {
            flex-grow: 1;
            overflow-y: auto;
            min-height: 0;
        }

        .sidebar-nav ul {
            list-style: none;
            padding: 0;
            margin: 0;
        }

        .sidebar-nav li a {
            display: block;
            padding: 12px 15px;
            text-decoration: none;
            color: var(--text-color-light);
            border-radius: 8px;
            margin-bottom: 5px;
            transition: all 0.2s ease-in-out;
            font-weight: 500;
            cursor: pointer;
        }

        .sidebar-nav li a:hover {
            background-color: var(--bg-color);
            color: var(--primary-color-dark);
        }

        .sidebar-nav li a.active {
            background-color: var(--primary-color);
            color: white;
            font-weight: 700;
        }

        /* 右侧内容区域 - 撑满剩余空间 */
        .content-wrapper {
            flex-grow: 1;
            height: 100vh;
            position: relative;
            overflow: hidden;
            padding: 20px;
        }

        /* 内容卡片 - 独立视图，有边距 */
        .content-card {
            position: absolute;
            top: 20px;
            left: 20px;
            right: 20px;
            bottom: 20px;
            background-color: var(--surface-color);
            border-radius: 12px;
            border: 1px solid var(--border-color);
            box-shadow: 0 4px 15px rgba(0,0,0,0.05);
            backdrop-filter: blur(10px);
            display: none;
            flex-direction: column;
            overflow: hidden;
        }

        .content-card.active {
            display: flex;
        }

        /* 卡片头部 */
        .card-header {
            padding: 20px 30px;
            border-bottom: 1px solid var(--border-color);
            flex-shrink: 0;
        }

        .card-header h2 {
            margin: 0;
            color: var(--primary-color-dark);
            font-size: 1.8em;
        }

        /* 卡片内容 - 可滚动 */
        .card-body {
            flex-grow: 1;
            overflow-y: auto;
            padding: 30px;
        }

        h3 { 
            font-size: 1.5em; 
            margin-top: 30px;
            color: var(--primary-color-dark);
            border-bottom: 2px solid var(--border-color);
            padding-bottom: 10px;
        }
        
        h4 { 
            font-size: 1.2em; 
            margin-top: 25px; 
            color: var(--primary-color-dark);
            border-bottom: 1px dashed var(--border-color);
            padding-bottom: 8px;
        }

        p, li {
            line-height: 1.8;
            font-size: 1.05em;
        }

        code {
            background-color: var(--bg-color);
            padding: 3px 6px;
            border-radius: 4px;
            font-family: monospace;
            color: var(--primary-color-dark);
            border: 1px solid var(--border-color);
        }

        /* GIF占位符样式 */
        .gif-placeholder {
            border: 2px dashed var(--border-color);
            background-color: rgba(250, 253, 251, 0.8);
            padding: 40px 20px;
            text-align: center;
            border-radius: 8px;
            margin: 20px 0;
            color: var(--text-color-light);
            font-style: italic;
            position: relative;
            min-height: 200px;
            display: flex;
            align-items: center;
            justify-content: center;
            flex-direction: column;
        }

        .gif-placeholder.has-gif {
            border: none;
            padding: 0;
            background-color: transparent;
        }

        .gif-placeholder img {
            max-width: 100%;
            border-radius: 8px;
            box-shadow: 0 4px 15px rgba(0,0,0,0.1);
        }

        .gif-label {
            font-size: 0.85em;
            color: var(--text-color-light);
            margin-top: 10px;
            background: var(--bg-color);
            padding: 4px 12px;
            border-radius: 4px;
            display: inline-block;
        }

        .warning, .note {
            padding: 15px;
            border-left: 5px solid;
            border-radius: 4px;
            margin: 20px 0;
        }
        .warning {
            background-color: rgba(255, 251, 230, 0.9);
            border-color: #f59e0b;
        }
        .note {
            background-color: rgba(239, 246, 255, 0.9);
            border-color: #3b82f6;
        }

        .search-highlight {
            background-color: var(--highlight-bg);
            color: black;
            border-radius: 3px;
            padding: 1px 0;
        }
        .search-highlight.active-highlight {
            background-color: var(--highlight-active-bg);
            color: white;
            box-shadow: 0 0 5px var(--highlight-active-bg);
        }

        /* 滚动条样式 */
        .card-body::-webkit-scrollbar,
        .sidebar-nav::-webkit-scrollbar {
            width: 6px;
        }

        .card-body::-webkit-scrollbar-track,
        .sidebar-nav::-webkit-scrollbar-track {
            background: transparent;
        }

        .card-body::-webkit-scrollbar-thumb,
        .sidebar-nav::-webkit-scrollbar-thumb {
            background: var(--border-color);
            border-radius: 3px;
        }

        .card-body::-webkit-scrollbar-thumb:hover,
        .sidebar-nav::-webkit-scrollbar-thumb:hover {
            background: var(--primary-color);
        }

        /* GIF管理工具面板 */
        .gif-manager-panel {
            position: fixed;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            background: var(--surface-color);
            border: 1px solid var(--border-color);
            border-radius: 12px;
            padding: 30px;
            box-shadow: 0 10px 40px rgba(0,0,0,0.2);
            z-index: 1000;
            max-width: 600px;
            width: 90%;
            max-height: 80vh;
            overflow-y: auto;
            display: none;
        }

        .gif-manager-panel.active {
            display: block;
        }

        .gif-manager-overlay {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: rgba(0,0,0,0.5);
            z-index: 999;
            display: none;
        }

        .gif-manager-overlay.active {
            display: block;
        }

        .gif-manager-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 20px;
            padding-bottom: 15px;
            border-bottom: 1px solid var(--border-color);
        }

        .gif-manager-header h3 {
            margin: 0;
            border: none;
            padding: 0;
        }

        .close-btn {
            background: none;
            border: none;
            font-size: 1.5em;
            cursor: pointer;
            color: var(--text-color-light);
        }

        .gif-list {
            display: grid;
            gap: 10px;
        }

        .gif-item {
            display: flex;
            align-items: center;
            padding: 10px;
            background: var(--bg-color);
            border-radius: 6px;
            cursor: pointer;
            transition: all 0.2s;
        }

        .gif-item:hover {
            background: rgba(34, 197, 94, 0.1);
        }

        .gif-item-preview {
            width: 60px;
            height: 40px;
            background: #ddd;
            border-radius: 4px;
            margin-right: 15px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 0.7em;
            color: #666;
            overflow: hidden;
        }

        .gif-item-preview img {
            width: 100%;
            height: 100%;
            object-fit: cover;
        }

        .gif-item-info {
            flex-grow: 1;
        }

        .gif-item-name {
            font-weight: 500;
            color: var(--text-color);
        }

        .gif-item-status {
            font-size: 0.8em;
            color: var(--text-color-light);
        }

        .gif-item-status.used {
            color: var(--primary-color);
        }

        .open-gif-manager-btn {
            position: fixed;
            bottom: 20px;
            right: 20px;
            background: var(--primary-color);
            color: white;
            border: none;
            padding: 12px 24px;
            border-radius: 30px;
            cursor: pointer;
            font-weight: 500;
            box-shadow: 0 4px 15px rgba(34, 197, 94, 0.4);
            transition: all 0.2s;
            z-index: 100;
        }

        .open-gif-manager-btn:hover {
            background: var(--primary-color-dark);
            transform: translateY(-2px);
        }

        .gif-path-input {
            width: 100%;
            padding: 10px;
            border: 1px solid var(--border-color);
            border-radius: 6px;
            margin-bottom: 15px;
            font-family: monospace;
            font-size: 0.9em;
        }

        .apply-gif-btn {
            background: var(--primary-color);
            color: white;
            border: none;
            padding: 8px 16px;
            border-radius: 6px;
            cursor: pointer;
            font-weight: 500;
        }

        .apply-gif-btn:hover {
            background: var(--primary-color-dark);
        }
    </style>
</head>
<body>

<div id="vanta-bg"></div>

<div class="help-container">
    <!-- 左侧导航栏 -->
    <aside class="sidebar">
        <div class="sidebar-header">
            <h1 class="sidebar-logo">ALFRED X IP</h1>
            <p class="sidebar-subtitle">用户使用手册</p>
        </div>

        <!-- 搜索控件 -->
        <div class="search-container">
            <div class="search-input-wrapper">
                <input type="text" id="search-input" placeholder="输入关键词搜索...">
                <button type="button" id="clear-search-btn" title="清除搜索">&times;</button>
            </div>
            <div class="search-nav">
                <button type="button" id="prev-btn" disabled>&laquo; 上一个</button>
                <span id="search-results-info"></span>
                <button type="button" id="next-btn" disabled>下一个 &raquo;</button>
            </div>
        </div>

        <!-- 导航菜单 -->
        <nav class="sidebar-nav">
            <ul>
                <li><a data-target="getting-started" class="active">入门指南</a></li>
                <li><a data-target="zhipu-apikey-guide">智谱API Key获取指南</a></li>
                <li><a data-target="feature-instant-chat">功能一：AI智能体对话</a></li>
                <li><a data-target="feature-unified-batch">功能二：文本批量智能分析</a></li>
                <li><a data-target="feature-local-lib">功能三：本地数据表管理</a></li>
                <li><a data-target="feature-claims-comparison">功能四：权利要求智能比对</a></li>
                <li><a data-target="feature-patent-batch">功能五：批量专利检索与解读</a></li>
                <li><a data-target="feature-claims-processor">功能六：独从权识别与可视化</a></li>
                <li><a data-target="feature-drawing-marker">功能七：专利附图智能标记</a></li>
                <li><a data-target="feature-pdf-ocr">功能八：文档OCR与智能分析</a></li>
                <li><a data-target="faq">常见问题 (FAQ)</a></li>
            </ul>
        </nav>
    </aside>

    <!-- 右侧内容区域 -->
    <main class="content-wrapper">
        <!-- 入门指南 -->
        <div class="content-card active" id="getting-started">
            <div class="card-header">
                <h2>入门指南</h2>
            </div>
            <div class="card-body">
                <p>欢迎使用 <strong>ALFRED X IP 专利分析智能工作台</strong>！本手册将引导您快速上手，充分利用本平台的强大功能。</p>

                <h3>1. 登录系统与游客模式</h3>
                <p>本平台支持两种访问方式：</p>
                
                <h4>正式用户登录</h4>
                <p>您需要使用管理员分配的用户名和密码进行登录。为保障安全，系统会记录并限制每个账户的登录IP地址数量（默认为5个）。如果您在新的设备或网络环境下登录，最早的登录记录可能会被自动移除。</p>
                
                <h4>游客模式体验</h4>
                <p>如果您还没有账号，可以选择<strong>游客模式</strong>体验平台功能：</p>
                <ul>
                    <li><strong>免登录体验：</strong> 无需注册账号即可使用基本AI对话功能</li>
                    <li><strong>免费模型：</strong> 游客模式使用免费模型（GLM-4-Flash），无需提供API Key</li>
                    <li><strong>功能限制：</strong> 部分高级功能在游客模式下不可用或有限制</li>
                </ul>
                
                <div class="note">
                    <strong>游客模式限制说明：</strong>
                    <ul style="margin: 10px 0 0 0; padding-left: 20px;">
                        <li>文件上传功能不可用</li>
                        <li>联网搜索功能不可用</li>
                        <li>图片上传每小时限1次</li>
                        <li>PDF解析每小时限1页</li>
                        <li>仅能使用免费模型，无法切换其他模型</li>
                    </ul>
                </div>
                
                <div class="warning">
                    <strong>提示：</strong>游客模式仅供体验使用，建议注册正式账号以获得完整功能和更好的使用体验。
                </div>
                
                <!-- GIF: 登录演示 -->
                <div class="gif-placeholder" data-gif-id="login-demo">
                    <span>点击右侧"GIF管理"按钮插入：登录演示.gif</span>
                    <span class="gif-label">占位符ID: login-demo</span>
                </div>

                <h3>2. 界面概览</h3>
                <p>登录后，您将看到主工作界面，主要分为三个区域：</p>
                <ul>
                    <li><strong>顶部导航栏：</strong> 显示Logo、版本号，以及右上角的"帮助"和"API Key设置"按钮。</li>
                    <li><strong>功能页签区：</strong> 切换八个核心功能模块。</li>
                    <li><strong>主内容区：</strong> 显示当前选中功能模块的具体操作界面。</li>
                </ul>
                
                <!-- GIF: 界面概览 -->
                <div class="gif-placeholder" data-gif-id="interface-overview">
                    <span>点击右侧"GIF管理"按钮插入：界面概览.gif</span>
                    <span class="gif-label">占位符ID: interface-overview</span>
                </div>

                <h3>3. API Key 设置（最重要的一步！）</h3>
                <p>本平台的所有AI功能都依赖于智谱AI提供的API服务。因此，在使用任何功能前，您<strong>必须</strong>配置自己的智谱AI API Key。</p>
                <ol>
                    <li>点击界面右上角的 <strong>⚙️</strong> 图标，打开API Key设置面板。</li>
                    <li>将您从<a href="https://open.bigmodel.cn/overview" target="_blank">智谱AI开放平台</a>获取的API Key粘贴到输入框中。</li>
                    <li>点击"保存"按钮。看到"已保存!"提示即表示配置成功。</li>
                </ol>
                <div class="warning">
                    <strong>注意：</strong>API Key是您的个人凭证，请妥善保管，切勿泄露。所有通过本平台发起的AI调用都将消耗您API Key对应的账户额度。
                </div>
                
                <!-- GIF: API Key设置 -->
                <div class="gif-placeholder" data-gif-id="apikey-setup">
                    <span>点击右侧"GIF管理"按钮插入：API-Key设置.gif</span>
                    <span class="gif-label">占位符ID: apikey-setup</span>
                </div>

                <h3>4. 登出系统</h3>
                <p>在主界面右上角，您可以看到当前登录的用户名和一个"登出"按钮。点击"登出"将安全退出系统，并清除您的会话信息。</p>
                
                <!-- GIF: 登出系统 -->
                <div class="gif-placeholder" data-gif-id="logout-demo">
                    <span>点击右侧"GIF管理"按钮插入：登出系统.gif</span>
                    <span class="gif-label">占位符ID: logout-demo</span>
                </div>

                <h3>5. 全局智能剪贴板</h3>
                <p>智能剪贴板是一个强大的跨功能数据传递工具，可以在不同功能模块之间无缝传递数据。</p>
                
                <h4>功能特点</h4>
                <ul>
                    <li><strong>智能类型识别：</strong> 自动识别复制内容的类型（专利号、权利要求文本、AI分析结果等）</li>
                    <li><strong>跨功能传递：</strong> 在一个功能复制内容，可在其他功能中快速粘贴</li>
                    <li><strong>历史记录：</strong> 保存最近10条复制记录，随时调用</li>
                    <li><strong>悬浮球操作：</strong> 右侧悬浮球显示当前剪贴板状态，点击打开操作面板</li>
                </ul>
                
                <h4>使用方法</h4>
                <ol>
                    <li><strong>复制内容：</strong> 在任意位置复制文本（Ctrl+C），系统自动捕获并识别类型</li>
                    <li><strong>打开面板：</strong> 点击右侧绿色悬浮球，打开智能剪贴板面板</li>
                    <li><strong>查看识别结果：</strong> 面板显示内容类型、置信度和预览</li>
                    <li><strong>快速粘贴：</strong> 点击"可粘贴到当前页面"列表中的目标输入框，自动粘贴</li>
                    <li><strong>历史记录：</strong> 在面板底部查看和选择历史复制内容</li>
                </ol>
                
                <h4>支持的内容类型</h4>
                <ul>
                    <li><strong>专利号：</strong> 自动识别专利号格式，可粘贴到功能五批量查询</li>
                    <li><strong>权利要求文本：</strong> 可粘贴到功能六权利要求处理</li>
                    <li><strong>AI分析结果：</strong> 可粘贴到即时对话继续讨论</li>
                    <li><strong>普通文本：</strong> 可粘贴到任意文本输入框</li>
                </ul>
                
                <!-- GIF: 智能剪贴板 -->
                <div class="gif-placeholder" data-gif-id="smart-clipboard-intro">
                    <span>点击右侧"GIF管理"按钮插入：智能剪贴板-功能介绍.gif</span>
                    <span class="gif-label">占位符ID: smart-clipboard-intro</span>
                </div>
            </div>
        </div>

        <!-- 智谱API Key获取指南 -->
        <div class="content-card" id="zhipu-apikey-guide">
            <div class="card-header">
                <h2>智谱API Key获取指南</h2>
            </div>
            <div class="card-body">
                <p>本节将详细介绍如何获取智谱AI的API Key，以及模型API的基本概念和费用说明。</p>

                <h3>一、什么是模型API？</h3>
                <p><strong>API（Application Programming Interface）</strong>即应用程序编程接口，是一种允许不同软件系统之间进行通信的协议。在大语言模型领域，API提供了一种便捷的方式，让开发者可以通过网络请求调用强大的AI模型能力，而无需在本地部署复杂的模型。</p>
                
                <h4>Token计费方式</h4>
                <p>智谱AI的模型服务采用<strong>Token计费</strong>方式：</p>
                <ul>
                    <li><strong>Token是什么：</strong>Token是模型处理文本的最小单位，通常一个英文单词约等于1个Token，一个汉字约等于1.5-2个Token</li>
                    <li><strong>换算比例：</strong>GLM系列模型中，Token与汉字的换算比例约为 <strong>1 Token ≈ 1.6个汉字</strong></li>
                    <li><strong>计费单位：</strong>通常以"每百万Tokens"为单位计费</li>
                    <li><strong>输入与输出：</strong>输入（您发送给AI的内容）和输出（AI回复的内容）分别计费，通常输出价格高于输入价格</li>
                </ul>
                
                <div class="gif-placeholder" data-gif-id="apikey-token-explain">
                    <span>点击右侧"GIF管理"按钮插入：Token计费说明示意图</span>
                    <span class="gif-label">占位符ID: apikey-token-explain</span>
                </div>

                <h3>二、API Key的作用</h3>
                <p><strong>API Key</strong>是您访问智谱AI服务的身份凭证，类似于一把"钥匙"，具有以下重要作用：</p>
                
                <h4>1. 身份验证</h4>
                <p>API Key用于验证您的身份，确保只有授权用户才能调用模型服务。每次API请求都需要携带您的API Key。</p>
                
                <h4>2. 费用归属</h4>
                <p>所有通过您的API Key发起的请求，其费用都会计入您的账户。您可以在智谱AI开放平台查看详细的消费记录。</p>
                
                <h4>3. 在本平台中的作用</h4>
                <p>在本工作台的各个功能模块中，API Key发挥着核心作用：</p>
                <ul>
                    <li><strong>功能一（AI智能体对话）：</strong>每次对话都需要调用智谱AI的模型，消耗相应Token</li>
                    <li><strong>功能二（文本批量智能分析）：</strong>支持小批量异步和大批量延时两种处理模式</li>
                    <li><strong>功能四（权利要求智能比对）：</strong>对比分析需要调用模型进行智能解读</li>
                    <li><strong>功能五（批量专利检索与解读）：</strong>专利解读功能需要调用模型生成分析报告</li>
                    <li><strong>功能七（专利附图标记）：</strong>AI辅助识别功能需要调用视觉模型</li>
                    <li><strong>功能八（文档OCR与智能分析）：</strong>OCR识别和AI对话都需要消耗Token</li>
                </ul>
                
                <div class="warning">
                    <strong>安全提示：</strong>API Key是您的个人凭证，请妥善保管，切勿泄露给他人。如果发现API Key泄露，请立即在智谱AI开放平台重新生成新的Key。
                </div>

                <h3>三、如何获取API Key</h3>
                <p>获取智谱AI的API Key非常简单，只需以下几个步骤：</p>
                
                <h4>步骤1：注册账号</h4>
                <ol>
                    <li>访问智谱AI开放平台：<a href="https://bigmodel.cn" target="_blank">https://bigmodel.cn</a></li>
                    <li>点击右上角"注册/登录"按钮</li>
                    <li>可以使用手机号注册，或通过微信扫码快速登录</li>
                </ol>
                
                <div class="gif-placeholder" data-gif-id="apikey-step1-register">
                    <span>点击右侧"GIF管理"按钮插入：注册账号演示.gif</span>
                    <span class="gif-label">占位符ID: apikey-step1-register</span>
                </div>
                
                <h4>步骤2：完成实名认证</h4>
                <ol>
                    <li>登录后，进入"个人中心"或"账户设置"</li>
                    <li>找到"实名认证"选项，按要求填写真实姓名和身份证号</li>
                    <li>完成实名认证后，即可获得API调用权限</li>
                </ol>
                <div class="note">
                    <strong>提示：</strong>新注册用户通常会获得一定的免费额度，可以用于体验各项功能。
                </div>
                
                <div class="gif-placeholder" data-gif-id="apikey-step2-verify">
                    <span>点击右侧"GIF管理"按钮插入：实名认证演示.gif</span>
                    <span class="gif-label">占位符ID: apikey-step2-verify</span>
                </div>
                
                <h4>步骤3：创建API Key</h4>
                <ol>
                    <li>进入"API密钥管理"页面</li>
                    <li>点击"创建新的API Key"按钮</li>
                    <li>为您的API Key命名（如"专利工作台专用"）</li>
                    <li>复制生成的API Key并妥善保存</li>
                </ol>
                <div class="warning">
                    <strong>重要：</strong>API Key只在创建时显示一次，请务必复制保存。如果忘记，只能重新创建新的Key。
                </div>
                
                <div class="gif-placeholder" data-gif-id="apikey-step3-create">
                    <span>点击右侧"GIF管理"按钮插入：创建API Key演示.gif</span>
                    <span class="gif-label">占位符ID: apikey-step3-create</span>
                </div>
                
                <h4>步骤4：在本平台配置API Key</h4>
                <ol>
                    <li>登录本工作台</li>
                    <li>点击右上角的 <strong>⚙️</strong> 图标</li>
                    <li>将复制的API Key粘贴到输入框中</li>
                    <li>点击"保存"按钮完成配置</li>
                </ol>

                <h3>四、支持的智谱模型系列</h3>
                <p>本工作台支持智谱AI的多个模型系列，您可以根据任务需求选择合适的模型：</p>
                
                <h4>GLM-5 系列（旗舰模型）</h4>
                <p>智谱最新一代旗舰模型，专为Coding与Agent场景优化，在复杂系统工程与长程任务中表现卓越。</p>
                <ul>
                    <li><strong>GLM-5：</strong>旗舰通用模型，适合复杂推理、代码生成等高难度任务</li>
                    <li><strong>GLM-5-Code：</strong>代码专用模型，编程能力接近Claude Opus级别</li>
                </ul>
                
                <h4>GLM-4.7 系列</h4>
                <p>平衡性能与成本的优选系列，适合大多数日常任务。</p>
                <ul>
                    <li><strong>GLM-4.7：</strong>标准版，性能与成本平衡</li>
                    <li><strong>GLM-4.7-Flash：</strong>快速版，响应速度更快</li>
                    <li><strong>GLM-4.7-FlashX：</strong>极速版，200K上下文，高速低价</li>
                </ul>
                
                <h4>GLM-4.5 系列</h4>
                <p>高性价比系列，适合大规模批量处理。</p>
                <ul>
                    <li><strong>GLM-4.5-Air：</strong>高性价比首选，128K上下文</li>
                    <li><strong>GLM-4.5-AirX：</strong>极速推理版，响应更快</li>
                </ul>
                
                <h4>GLM-4 系列</h4>
                <p>成熟稳定的基础系列，覆盖多种场景需求。</p>
                <ul>
                    <li><strong>GLM-4-Flash：</strong>免费模型，适合体验和轻量任务</li>
                    <li><strong>GLM-4-FlashX：</strong>高速低价，适合大规模调用</li>
                    <li><strong>GLM-4-Long：</strong>超长上下文（1M tokens），适合长文档处理</li>
                    <li><strong>GLM-4-Plus：</strong>高智能旗舰版，适合复杂任务</li>
                </ul>
                
                <h4>GLM-Z1 系列（推理模型）</h4>
                <p>专为复杂推理任务设计的模型系列。</p>
                <ul>
                    <li><strong>GLM-Z1-Air：</strong>高性价比推理模型</li>
                    <li><strong>GLM-Z1-AirX：</strong>极速推理模型</li>
                    <li><strong>GLM-Z1-Flash：</strong>免费推理模型</li>
                    <li><strong>GLM-Z1-FlashX：</strong>高速低价推理模型</li>
                </ul>

                <h3>五、模型费用说明</h3>
                <p>以下是常用模型的费用对照表（价格单位：元/百万Tokens）：</p>
                
                <table style="width: 100%; border-collapse: collapse; margin: 20px 0; font-size: 0.95em;">
                    <thead>
                        <tr style="background-color: var(--primary-color); color: white;">
                            <th style="padding: 12px; border: 1px solid var(--border-color); text-align: left;">模型名称</th>
                            <th style="padding: 12px; border: 1px solid var(--border-color); text-align: center;">上下文长度</th>
                            <th style="padding: 12px; border: 1px solid var(--border-color); text-align: center;">输入价格</th>
                            <th style="padding: 12px; border: 1px solid var(--border-color); text-align: center;">输出价格</th>
                            <th style="padding: 12px; border: 1px solid var(--border-color); text-align: left;">特点说明</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr style="background-color: rgba(34, 197, 94, 0.1);">
                            <td style="padding: 10px; border: 1px solid var(--border-color);"><strong>GLM-4-Flash</strong></td>
                            <td style="padding: 10px; border: 1px solid var(--border-color); text-align: center;">128K</td>
                            <td style="padding: 10px; border: 1px solid var(--border-color); text-align: center; color: var(--primary-color-dark);"><strong>免费</strong></td>
                            <td style="padding: 10px; border: 1px solid var(--border-color); text-align: center;">不支持</td>
                            <td style="padding: 10px; border: 1px solid var(--border-color);">免费体验，适合入门</td>
                        </tr>
                        <tr>
                            <td style="padding: 10px; border: 1px solid var(--border-color);"><strong>GLM-Z1-Flash</strong></td>
                            <td style="padding: 10px; border: 1px solid var(--border-color); text-align: center;">128K</td>
                            <td style="padding: 10px; border: 1px solid var(--border-color); text-align: center; color: var(--primary-color-dark);"><strong>免费</strong></td>
                            <td style="padding: 10px; border: 1px solid var(--border-color); text-align: center;">不支持</td>
                            <td style="padding: 10px; border: 1px solid var(--border-color);">免费推理模型</td>
                        </tr>
                        <tr style="background-color: rgba(34, 197, 94, 0.05);">
                            <td style="padding: 10px; border: 1px solid var(--border-color);"><strong>GLM-4-FlashX</strong></td>
                            <td style="padding: 10px; border: 1px solid var(--border-color); text-align: center;">128K</td>
                            <td style="padding: 10px; border: 1px solid var(--border-color); text-align: center;">0.5元</td>
                            <td style="padding: 10px; border: 1px solid var(--border-color); text-align: center;">0.25元</td>
                            <td style="padding: 10px; border: 1px solid var(--border-color);">高速低价，性价比高</td>
                        </tr>
                        <tr>
                            <td style="padding: 10px; border: 1px solid var(--border-color);"><strong>GLM-Z1-FlashX</strong></td>
                            <td style="padding: 10px; border: 1px solid var(--border-color); text-align: center;">128K</td>
                            <td style="padding: 10px; border: 1px solid var(--border-color); text-align: center;">0.1元</td>
                            <td style="padding: 10px; border: 1px solid var(--border-color); text-align: center;">不支持</td>
                            <td style="padding: 10px; border: 1px solid var(--border-color);">高速低价推理模型</td>
                        </tr>
                        <tr style="background-color: rgba(34, 197, 94, 0.05);">
                            <td style="padding: 10px; border: 1px solid var(--border-color);"><strong>GLM-4.5-Air</strong></td>
                            <td style="padding: 10px; border: 1px solid var(--border-color); text-align: center;">128K</td>
                            <td style="padding: 10px; border: 1px solid var(--border-color); text-align: center;">0.8-1.2元</td>
                            <td style="padding: 10px; border: 1px solid var(--border-color); text-align: center;">2-8元</td>
                            <td style="padding: 10px; border: 1px solid var(--border-color);">高性价比，日常首选</td>
                        </tr>
                        <tr>
                            <td style="padding: 10px; border: 1px solid var(--border-color);"><strong>GLM-4-Long</strong></td>
                            <td style="padding: 10px; border: 1px solid var(--border-color); text-align: center;">1M</td>
                            <td style="padding: 10px; border: 1px solid var(--border-color); text-align: center;">1元</td>
                            <td style="padding: 10px; border: 1px solid var(--border-color); text-align: center;">0.5元</td>
                            <td style="padding: 10px; border: 1px solid var(--border-color);">超长上下文，适合长文档</td>
                        </tr>
                        <tr style="background-color: rgba(34, 197, 94, 0.05);">
                            <td style="padding: 10px; border: 1px solid var(--border-color);"><strong>GLM-4.7</strong></td>
                            <td style="padding: 10px; border: 1px solid var(--border-color); text-align: center;">128K</td>
                            <td style="padding: 10px; border: 1px solid var(--border-color); text-align: center;">2-4元</td>
                            <td style="padding: 10px; border: 1px solid var(--border-color); text-align: center;">8-16元</td>
                            <td style="padding: 10px; border: 1px solid var(--border-color);">性能与成本平衡</td>
                        </tr>
                        <tr>
                            <td style="padding: 10px; border: 1px solid var(--border-color);"><strong>GLM-4-Plus</strong></td>
                            <td style="padding: 10px; border: 1px solid var(--border-color); text-align: center;">128K</td>
                            <td style="padding: 10px; border: 1px solid var(--border-color); text-align: center;">5元</td>
                            <td style="padding: 10px; border: 1px solid var(--border-color); text-align: center;">2.5元</td>
                            <td style="padding: 10px; border: 1px solid var(--border-color);">高智能旗舰版</td>
                        </tr>
                        <tr style="background-color: rgba(34, 197, 94, 0.05);">
                            <td style="padding: 10px; border: 1px solid var(--border-color);"><strong>GLM-5</strong></td>
                            <td style="padding: 10px; border: 1px solid var(--border-color); text-align: center;">128K</td>
                            <td style="padding: 10px; border: 1px solid var(--border-color); text-align: center;">4-6元</td>
                            <td style="padding: 10px; border: 1px solid var(--border-color); text-align: center;">18-22元</td>
                            <td style="padding: 10px; border: 1px solid var(--border-color);">最新旗舰，能力最强</td>
                        </tr>
                    </tbody>
                </table>
                
                <div class="note">
                    <strong>说明：</strong>以上价格为参考价格，实际价格请以智谱AI开放平台官网为准。部分模型根据输入输出长度不同有阶梯定价。
                </div>

                <h3>六、费用计算举例</h3>
                <p>为了帮助您更好地理解费用计算方式，以下是几个实际场景的费用估算：</p>
                
                <h4>示例1：分析一篇专利摘要</h4>
                <p>假设您需要使用AI分析一篇专利摘要：</p>
                <ul>
                    <li><strong>输入内容：</strong>专利摘要约500字 ≈ 312 Tokens</li>
                    <li><strong>AI回复：</strong>分析报告约800字 ≈ 500 Tokens</li>
                    <li><strong>使用模型：</strong>GLM-4-FlashX（输入0.5元/百万，输出0.25元/百万）</li>
                </ul>
                <p><strong>费用计算：</strong></p>
                <ul>
                    <li>输入费用：312 ÷ 1,000,000 × 0.5 = <strong>0.000156元</strong></li>
                    <li>输出费用：500 ÷ 1,000,000 × 0.25 = <strong>0.000125元</strong></li>
                    <li>总费用：<strong>约0.0003元</strong>（不到一分钱）</li>
                </ul>
                
                <h4>示例2：批量处理100条专利数据</h4>
                <p>假设您需要批量处理100条专利数据，每条包含摘要和权利要求：</p>
                <ul>
                    <li><strong>每条输入：</strong>约2000字 ≈ 1250 Tokens</li>
                    <li><strong>每条输出：</strong>约1000字 ≈ 625 Tokens</li>
                    <li><strong>使用模型：</strong>GLM-4.5-Air（输入1元/百万，输出6元/百万）</li>
                </ul>
                <p><strong>费用计算：</strong></p>
                <ul>
                    <li>总输入Tokens：1250 × 100 = 125,000 Tokens</li>
                    <li>总输出Tokens：625 × 100 = 62,500 Tokens</li>
                    <li>输入费用：125,000 ÷ 1,000,000 × 1 = <strong>0.125元</strong></li>
                    <li>输出费用：62,500 ÷ 1,000,000 × 6 = <strong>0.375元</strong></li>
                    <li>总费用：<strong>约0.5元</strong></li>
                </ul>
                
                <h4>示例3：大批量处理（使用Batch API）</h4>
                <p>如果您有10,000条数据需要处理，建议使用功能三的Batch API：</p>
                <ul>
                    <li>Batch API费用为正常调用的<strong>50%</strong></li>
                    <li>按示例2的单条费用计算，正常调用约需50元</li>
                    <li>使用Batch API仅需<strong>约25元</strong></li>
                </ul>
                
                <div class="warning">
                    <strong>费用控制建议：</strong>
                    <ol>
                        <li>测试阶段使用免费模型（GLM-4-Flash）或低价模型</li>
                        <li>大批量处理优先选择Batch API，可节省50%费用</li>
                        <li>定期在智谱AI开放平台查看消费记录，合理控制预算</li>
                        <li>根据任务复杂度选择合适的模型，避免"大材小用"</li>
                    </ol>
                </div>
                
                <h4>模型选择建议</h4>
                <table style="width: 100%; border-collapse: collapse; margin: 20px 0; font-size: 0.95em;">
                    <thead>
                        <tr style="background-color: var(--primary-color); color: white;">
                            <th style="padding: 12px; border: 1px solid var(--border-color); text-align: left;">使用场景</th>
                            <th style="padding: 12px; border: 1px solid var(--border-color); text-align: left;">推荐模型</th>
                            <th style="padding: 12px; border: 1px solid var(--border-color); text-align: left;">原因</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td style="padding: 10px; border: 1px solid var(--border-color);">体验测试、学习使用</td>
                            <td style="padding: 10px; border: 1px solid var(--border-color);">GLM-4-Flash</td>
                            <td style="padding: 10px; border: 1px solid var(--border-color);">免费，无成本压力</td>
                        </tr>
                        <tr style="background-color: rgba(34, 197, 94, 0.05);">
                            <td style="padding: 10px; border: 1px solid var(--border-color);">日常对话、简单分析</td>
                            <td style="padding: 10px; border: 1px solid var(--border-color);">GLM-4-FlashX</td>
                            <td style="padding: 10px; border: 1px solid var(--border-color);">高速低价，性价比高</td>
                        </tr>
                        <tr>
                            <td style="padding: 10px; border: 1px solid var(--border-color);">批量处理、大规模任务</td>
                            <td style="padding: 10px; border: 1px solid var(--border-color);">GLM-4.5-Air</td>
                            <td style="padding: 10px; border: 1px solid var(--border-color);">高性价比，适合批量</td>
                        </tr>
                        <tr style="background-color: rgba(34, 197, 94, 0.05);">
                            <td style="padding: 10px; border: 1px solid var(--border-color);">长文档分析</td>
                            <td style="padding: 10px; border: 1px solid var(--border-color);">GLM-4-Long</td>
                            <td style="padding: 10px; border: 1px solid var(--border-color);">1M超长上下文</td>
                        </tr>
                        <tr>
                            <td style="padding: 10px; border: 1px solid var(--border-color);">复杂推理、深度分析</td>
                            <td style="padding: 10px; border: 1px solid var(--border-color);">GLM-4.7 / GLM-4-Plus</td>
                            <td style="padding: 10px; border: 1px solid var(--border-color);">智能程度高</td>
                        </tr>
                        <tr style="background-color: rgba(34, 197, 94, 0.05);">
                            <td style="padding: 10px; border: 1px solid var(--border-color);">代码生成、复杂工程</td>
                            <td style="padding: 10px; border: 1px solid var(--border-color);">GLM-5 / GLM-5-Code</td>
                            <td style="padding: 10px; border: 1px solid var(--border-color);">旗舰性能，编程最强</td>
                        </tr>
                    </tbody>
                </table>
            </div>
        </div>

        <!-- 功能一：AI智能体对话 -->
        <div class="content-card" id="feature-instant-chat">
            <div class="card-header">
                <h2>功能一：AI智能体对话</h2>
            </div>
            <div class="card-body">
                <p>本功能提供了一个强大的、类似ChatGPT的交互界面，专为专利分析场景优化，支持多轮对话、角色扮演、文件上传解析和历史记录管理。</p>

                <h4>核心交互</h4>
                <p>在底部的输入框中输入您的问题，按回车或点击"发送"按钮即可与AI进行实时对话。AI的回复将以流式方式逐字显示。</p>
                
                <!-- GIF: 即时对话核心交互 -->
                <div class="gif-placeholder" data-gif-id="chat-basic-interaction">
                    <span>点击右侧"GIF管理"按钮插入：即时对话-核心交互.gif</span>
                    <span class="gif-label">占位符ID: chat-basic-interaction</span>
                </div>

                <h4>对话管理</h4>
                <ul>
                    <li><strong>历史对话列表：</strong> 左侧面板会显示您所有的历史对话，按时间倒序排列。</li>
                    <li><strong>新建对话：</strong> 点击列表顶部的"+"号或输入框左侧的"+"号，可以随时开启一个全新的对话。</li>
                    <li><strong>切换对话：</strong> 在历史列表中点击任意对话，即可加载并继续该对话。</li>
                    <li><strong>重命名与删除：</strong> 将鼠标悬停在历史对话项上，会出现编辑和删除图标，方便您管理对话。您也可以直接点击主聊天窗口的标题进行修改。</li>
                </ul>
                
                <!-- GIF: 对话管理 -->
                <div class="gif-placeholder" data-gif-id="chat-conversation-management">
                    <span>点击右侧"GIF管理"按钮插入：即时对话-对话管理.gif</span>
                    <span class="gif-label">占位符ID: chat-conversation-management</span>
                </div>

                <h4>对话参数设置</h4>
                <p>点击右上角的"对话参数设置"按钮，可以打开配置面板：</p>
                <ul>
                    <li><strong>模型选择：</strong> 选择不同的AI模型以应对不同复杂度的任务。</li>
                    <li><strong>温度（Temperature）：</strong> 控制回复的创造性。值越高（如0.9）回复越随机，值越低（如0.1）回复越确定。</li>
                    <li><strong>上下文条数：</strong> 决定每次请求时携带多少轮历史对话作为上下文，影响对话的连贯性和费用。</li>
                    <li><strong>角色设置：</strong> 这是本功能的核心特色之一。您可以选择预设的"资深专利分析师"、"专业技术翻译"等角色，或自定义新角色。</li>
                </ul>
                
                <!-- GIF: 对话参数设置 -->
                <div class="gif-placeholder" data-gif-id="chat-parameter-settings">
                    <span>点击右侧"GIF管理"按钮插入：即时对话-参数设置.gif</span>
                    <span class="gif-label">占位符ID: chat-parameter-settings</span>
                </div>

                <h4>角色（Persona）管理</h4>
                <p>在"对话参数设置"中，您可以：</p>
                <ol>
                    <li><strong>选择角色：</strong> 从下拉菜单中选择一个角色，当前对话将立刻采用该角色的系统提示。</li>
                    <li><strong>新增角色：</strong> 点击"新增角色"，可以创建一个自定义角色，定义其名称、系统提示（System Prompt）和用户模板。</li>
                    <li><strong>保存与删除：</strong> 自定义角色可以随时编辑、保存或删除。</li>
                </ol>
                <div class="note">
                    <strong>用户模板提示：</strong> 在用户模板中使用 <code>{{INPUT}}</code> 作为占位符，系统会自动将您在输入框中输入的内容替换到该位置。
                </div>
                
                <!-- GIF: 角色管理 -->
                <div class="gif-placeholder" data-gif-id="chat-persona-management">
                    <span>点击右侧"GIF管理"按钮插入：即时对话-角色管理.gif</span>
                    <span class="gif-label">占位符ID: chat-persona-management</span>
                </div>

                <h4>文件处理与管理</h4>
                <p>即时对话支持上传文件（如PDF, Word, TXT, Excel, 图片等）进行内容分析。</p>
                <ul>
                    <li><strong>上传文件：</strong> 点击输入框左侧的<strong>回形针📎</strong>图标，选择文件进行上传。</li>
                    <li><strong>解析服务选择：</strong> 上传文件后，可选择不同的解析服务：
                        <ul>
                            <li><strong>Lite（免费）：</strong> 满足日常查询需求，支持常见格式，输出纯文本</li>
                            <li><strong>Expert（0.03元/次）：</strong> 适合专业PDF解析，输出Markdown格式并保留图片</li>
                            <li><strong>Prime（0.05元/次）：</strong> 支持最多格式，保留完整文档结构</li>
                        </ul>
                    </li>
                </ul>
                
                <!-- GIF: 文件上传 -->
                <div class="gif-placeholder" data-gif-id="chat-file-upload">
                    <span>点击右侧"GIF管理"按钮插入：即时对话-文件上传.gif</span>
                    <span class="gif-label">占位符ID: chat-file-upload</span>
                </div>

                <h4>联网搜索</h4>
                <p>点击输入框左侧的<strong>搜索🔍</strong>按钮，可以开启联网搜索功能。系统会使用智谱网络搜索API，在回答问题时参考最新的网络信息。</p>
                
                <!-- GIF: 联网搜索 -->
                <div class="gif-placeholder" data-gif-id="chat-web-search">
                    <span>点击右侧"GIF管理"按钮插入：即时对话-联网搜索.gif</span>
                    <span class="gif-label">占位符ID: chat-web-search</span>
                </div>
            </div>
        </div>

        <!-- 功能二：文本批量智能分析 -->
        <div class="content-card" id="feature-unified-batch">
            <div class="card-header">
                <h2>功能二：文本批量智能分析</h2>
            </div>
            <div class="card-body">
                <p>本功能将原有的"小批量异步"和"大批量处理"整合为统一的工作流程，系统会根据数据量自动推荐最优处理模式，让您无需关心技术细节，专注于业务本身。</p>

                <h4>核心特点</h4>
                <ul>
                    <li><strong>统一工作流：</strong> 四步完成批量处理，从输入到结果一站式操作</li>
                    <li><strong>智能模式推荐：</strong> 系统根据数据量自动推荐最优处理模式</li>
                    <li><strong>双模式支持：</strong> 小批量异步模式（实时）和大批量延时模式（高效）</li>
                    <li><strong>断点续查：</strong> 大批量模式支持通过Batch ID恢复任务状态</li>
                    <li><strong>模板管理：</strong> 支持保存和复用处理模板</li>
                </ul>
                
                <!-- GIF: 功能介绍 -->
                <div class="gif-placeholder" data-gif-id="unified-batch-intro">
                    <span>点击右侧"GIF管理"按钮插入：文本批量分析-功能介绍.gif</span>
                    <span class="gif-label">占位符ID: unified-batch-intro</span>
                </div>

                <h4>工作流程</h4>
                <p>整个过程遵循顶部的四步进式导航：</p>
                <ol>
                    <li><strong>输入数据 &rarr; </strong></li>
                    <li><strong>配置模板 &rarr; </strong></li>
                    <li><strong>选择模式 &rarr; </strong></li>
                    <li><strong>处理结果</strong></li>
                </ol>
                
                <!-- GIF: 工作流程概览 -->
                <div class="gif-placeholder" data-gif-id="unified-batch-workflow">
                    <span>点击右侧"GIF管理"按钮插入：文本批量分析-工作流程.gif</span>
                    <span class="gif-label">占位符ID: unified-batch-workflow</span>
                </div>

                <h4>Step 1: 输入数据</h4>
                <p>您有两种方式添加需要处理的源数据：</p>
                <ul>
                    <li><strong>Excel导入：</strong> 上传Excel文件，选择工作表(Sheet)，然后指定包含源数据的一列或多列。支持多列合并输入。</li>
                    <li><strong>手动添加：</strong> 在文本框中直接输入，每行代表一条独立的输入数据。</li>
                </ul>
                <div class="note">
                    <strong>多列输入提示：</strong> 当从Excel导入多列时，系统会自动将多列内容及列名填充到用户提示模板的 <code>{{INPUT}}</code> 位置。
                </div>
                
                <!-- GIF: 输入内容 -->
                <div class="gif-placeholder" data-gif-id="unified-batch-input">
                    <span>点击右侧"GIF管理"按钮插入：文本批量分析-输入数据.gif</span>
                    <span class="gif-label">占位符ID: unified-batch-input</span>
                </div>

                <h4>Step 2: 配置模板</h4>
                <p>模板定义了如何处理每一条输入数据。一个模板包含：</p>
                <ul>
                    <li><strong>模板名称：</strong> 为您的处理方式命名，方便复用。</li>
                    <li><strong>模型选择：</strong> 选择不同的AI模型以应对不同复杂度的任务。</li>
                    <li><strong>温度（Temperature）：</strong> 控制回复的创造性。值越高回复越随机，值越低回复越确定。</li>
                    <li><strong>系统提示：</strong> 定义AI的角色和总体指令。</li>
                    <li><strong>用户提示模板：</strong> 核心部分，必须包含 <code>{{INPUT}}</code> 占位符。</li>
                    <li><strong>输出格式(JSON)：</strong> 定义希望AI输出的JSON字段名和描述，系统会自动包装成严格的JSON格式要求。</li>
                </ul>
                
                <!-- GIF: 配置模板 -->
                <div class="gif-placeholder" data-gif-id="unified-batch-template">
                    <span>点击右侧"GIF管理"按钮插入：文本批量分析-配置模板.gif</span>
                    <span class="gif-label">占位符ID: unified-batch-template</span>
                </div>

                <h4>Step 3: 选择模式</h4>
                <p>系统会根据您的数据量自动推荐最优处理模式：</p>
                
                <table style="width: 100%; border-collapse: collapse; margin: 20px 0; font-size: 0.95em;">
                    <thead>
                        <tr style="background-color: var(--primary-color); color: white;">
                            <th style="padding: 12px; border: 1px solid var(--border-color); text-align: left;">处理模式</th>
                            <th style="padding: 12px; border: 1px solid var(--border-color); text-align: left;">适用场景</th>
                            <th style="padding: 12px; border: 1px solid var(--border-color); text-align: left;">特点</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr style="background-color: rgba(34, 197, 94, 0.05);">
                            <td style="padding: 10px; border: 1px solid var(--border-color);"><strong>小批量异步模式</strong></td>
                            <td style="padding: 10px; border: 1px solid var(--border-color);">少于50条数据</td>
                            <td style="padding: 10px; border: 1px solid var(--border-color);">
                                <ul style="margin: 0; padding-left: 15px;">
                                    <li>实时API调用，快速响应</li>
                                    <li>逐条显示处理结果</li>
                                    <li>支持中途导出</li>
                                    <li>5秒轮询状态更新</li>
                                </ul>
                            </td>
                        </tr>
                        <tr>
                            <td style="padding: 10px; border: 1px solid var(--border-color);"><strong>大批量延时模式</strong></td>
                            <td style="padding: 10px; border: 1px solid var(--border-color);">50条以上数据</td>
                            <td style="padding: 10px; border: 1px solid var(--border-color);">
                                <ul style="margin: 0; padding-left: 15px;">
                                    <li>智谱Batch API批处理</li>
                                    <li>整体进度显示</li>
                                    <li>支持断点续查</li>
                                    <li>60秒轮询状态更新</li>
                                    <li>费用为正常调用的50%</li>
                                </ul>
                            </td>
                        </tr>
                    </tbody>
                </table>
                
                <div class="note">
                    <strong>自动选择：</strong> 默认开启"自动选择模式"，系统会根据数据量自动切换处理模式。您也可以手动选择。
                </div>
                
                <!-- GIF: 选择模式 -->
                <div class="gif-placeholder" data-gif-id="unified-batch-mode">
                    <span>点击右侧"GIF管理"按钮插入：文本批量分析-选择模式.gif</span>
                    <span class="gif-label">占位符ID: unified-batch-mode</span>
                </div>

                <h4>Step 4: 处理结果</h4>
                <p>根据选择的模式，处理结果界面有所不同：</p>
                
                <h5>小批量异步模式</h5>
                <ol>
                    <li><strong>提交任务：</strong> 点击"提交全部请求"，系统会将所有请求发送到异步处理队列。</li>
                    <li><strong>查看结果：</strong> 提交后，下方的表格会实时更新每个请求的状态（5秒轮询）。</li>
                    <li><strong>恢复任务：</strong> 如果您关闭了浏览器，可以点击"恢复上次任务"按钮。</li>
                    <li><strong>导出Excel：</strong> 任务完成后，点击"导出为Excel"按钮保存结果。</li>
                </ol>
                
                <h5>大批量延时模式</h5>
                <ol>
                    <li><strong>上传请求文件：</strong> 系统自动生成符合Batch API格式的JSONL文件并上传到智谱AI。</li>
                    <li><strong>创建Batch任务：</strong> 上传成功后，创建批处理任务。<strong>请务必复制并保管好返回的Batch ID</strong>。</li>
                    <li><strong>检查状态：</strong> 系统会自动启动定时检查（每60秒一次）。</li>
                    <li><strong>获取结果内容：</strong> 当任务状态变为"completed"时，下载结果文件。</li>
                    <li><strong>解析报告：</strong> 将AI返回的结果与原始Excel数据合并，生成最终的分析报告。</li>
                </ol>
                
                <div class="warning">
                    <strong>断点续查：</strong> 如果流程中断，您可以在"断点续查"区域输入Batch ID，恢复对任务状态的监控。
                </div>
                
                <!-- GIF: 处理结果 -->
                <div class="gif-placeholder" data-gif-id="unified-batch-results">
                    <span>点击右侧"GIF管理"按钮插入：文本批量分析-处理结果.gif</span>
                    <span class="gif-label">占位符ID: unified-batch-results</span>
                </div>

                <h4>费用说明</h4>
                <ul>
                    <li><strong>小批量异步模式：</strong> 按正常API价格计费</li>
                    <li><strong>大批量延时模式：</strong> 使用Batch API，费用为正常调用的<strong>50%</strong></li>
                </ul>
                <div class="note">
                    <strong>建议：</strong> 对于大批量数据处理（如数千条），强烈推荐使用大批量延时模式，可显著降低成本。
                </div>
            </div>
        </div>

        <!-- 功能三：本地数据表管理 -->
        <div class="content-card" id="feature-local-lib">
            <div class="card-header">
                <h2>功能三：本地数据表管理</h2>
            </div>
            <div class="card-body">
                <p>这是一个纯粹的、离线的Excel数据处理工具，专注于专利建库过程中常见的两个痛点：同族展开和新旧库合并。<strong>此功能不消耗任何API额度。</strong></p>

                <h4>工作流程</h4>
                <ol>
                    <li><strong>上传与展开 &rarr; </strong></li>
                    <li><strong>合并新旧库 &rarr; </strong></li>
                    <li><strong>下载最终结果</strong></li>
                </ol>
                
                <!-- GIF: 工作流程概览 -->
                <div class="gif-placeholder" data-gif-id="locallib-workflow-overview">
                    <span>点击右侧"GIF管理"按钮插入：本地专利库-工作流程概览.gif</span>
                    <span class="gif-label">占位符ID: locallib-workflow-overview</span>
                </div>

                <h4>Step 1: 上传与展开</h4>
                <p>处理包含同族专利号的字段：</p>
                <ol>
                    <li><strong>上传文件：</strong> 上传您的原始专利库Excel文件。</li>
                    <li><strong>配置：</strong> 指定包含同族专利号的列名和分隔符。</li>
                    <li><strong>展开：</strong> 点击"展开同族专利号"按钮，生成去重后的专利号列表。</li>
                </ol>
                
                <!-- GIF: 上传与展开 -->
                <div class="gif-placeholder" data-gif-id="locallib-upload-expand">
                    <span>点击右侧"GIF管理"按钮插入：本地专利库-上传与展开.gif</span>
                    <span class="gif-label">占位符ID: locallib-upload-expand</span>
                </div>

                <h4>Step 2: 合并新旧库</h4>
                <p>将商业数据库下载的最新数据与包含额外标注的旧库合并：</p>
                <ol>
                    <li><strong>加载文件：</strong> 分别上传旧库和新库。</li>
                    <li><strong>配置匹配列：</strong> 为两个文件分别指定用于匹配的"主键"列。</li>
                    <li><strong>选择补充列：</strong> 从旧库中勾选希望补充到新库的列。</li>
                </ol>
                <div class="note">
                    <strong>合并逻辑：</strong> 新库的数据会被完整保留。如果新库中存在与旧库补充列同名的列，则新库的数据优先。
                </div>
                
                <!-- GIF: 合并新旧库 -->
                <div class="gif-placeholder" data-gif-id="locallib-merge-libraries">
                    <span>点击右侧"GIF管理"按钮插入：本地专利库-合并新旧库.gif</span>
                    <span class="gif-label">占位符ID: locallib-merge-libraries</span>
                </div>
            </div>
        </div>

        <!-- 功能四：权利要求智能比对 -->
        <div class="content-card" id="feature-claims-comparison">
            <div class="card-header">
                <h2>功能四：权利要求智能比对</h2>
            </div>
            <div class="card-body">
                <p>此功能用于智能对比不同专利的权利要求，自动识别语言、按需翻译，提供多种可视化展示方式。</p>

                <h4>核心技术优势</h4>
                <ul>
                    <li><strong>多模型支持：</strong> 提供多种模型选择，满足不同场景需求。</li>
                    <li><strong>灵活对比数量：</strong> 支持2-10个权利要求的同时对比。</li>
                    <li><strong>智能语言处理：</strong> 自动识别权利要求语言，支持中英文混合文本。</li>
                    <li><strong>多种可视化方式：</strong> 提供卡片视图、并排对比、矩阵视图三种展示方式。</li>
                    <li><strong>耦合对比分析：</strong> 支持选择多个权利要求进行耦合对比。</li>
                </ul>
                
                <!-- GIF: 功能介绍 -->
                <div class="gif-placeholder" data-gif-id="claims-compare-intro">
                    <span>点击右侧"GIF管理"按钮插入：权利要求对比-功能介绍.gif</span>
                    <span class="gif-label">占位符ID: claims-compare-intro</span>
                </div>

                <h4>工作流程</h4>
                <ol>
                    <li><strong>输入权利要求：</strong> 在输入框中输入专利的权利要求内容（最多10个）。</li>
                    <li><strong>选择对比模型：</strong> 根据需求选择合适的对比模型。</li>
                    <li><strong>执行智能对比：</strong> 点击"开始全部对比分析"按钮。</li>
                    <li><strong>耦合对比分析（可选）：</strong> 选择多个权利要求，点击"开始耦合分析"。</li>
                    <li><strong>切换视图：</strong> 根据需要切换不同的可视化展示方式。</li>
                </ol>
                
                <!-- GIF: 工作流程 -->
                <div class="gif-placeholder" data-gif-id="claims-compare-workflow">
                    <span>点击右侧"GIF管理"按钮插入：权利要求对比-工作流程.gif</span>
                    <span class="gif-label">占位符ID: claims-compare-workflow</span>
                </div>

                <h4>可视化视图说明</h4>
                <ul>
                    <li><strong>卡片视图：</strong> 以卡片形式展示每个权利要求的核心特征。</li>
                    <li><strong>并排对比：</strong> 将多个权利要求并排显示，便于逐条对比差异。</li>
                    <li><strong>矩阵视图：</strong> 以矩阵形式展示权利要求之间的相似度关系。</li>
                </ul>
                
                <!-- GIF: 可视化视图 -->
                <div class="gif-placeholder" data-gif-id="claims-compare-visualization">
                    <span>点击右侧"GIF管理"按钮插入：权利要求对比-可视化视图.gif</span>
                    <span class="gif-label">占位符ID: claims-compare-visualization</span>
                </div>
            </div>
        </div>

        <!-- 功能五：批量专利解读 -->
        <div class="content-card" id="feature-patent-batch">
            <div class="card-header">
                <h2>功能五：批量专利检索与解读</h2>
            </div>
            <div class="card-body">
                <p>此功能用于批量查询专利详情并提供AI解读功能，最多支持50个专利号。支持智能缓存、历史记录管理、标签页模式展示等高级功能。</p>

                <h4>核心技术优势</h4>
                <ul>
                    <li><strong>高效批量处理：</strong> 支持一次输入最多50个专利号。</li>
                    <li><strong>智能专利爬取：</strong> 自动从Google Patents获取专利详情。</li>
                    <li><strong>灵活字段选择器：</strong> 可选择需要爬取的专利信息字段。</li>
                    <li><strong>解读模板管理：</strong> 支持多种解读模板，可自定义系统提示词和用户模板。</li>
                    <li><strong>智能缓存系统：</strong> 自动缓存已爬取的专利数据，避免重复请求。</li>
                    <li><strong>历史记录管理：</strong> 保存爬取和解读历史，支持批量操作。</li>
                    <li><strong>标签页模式展示：</strong> 每个专利独立标签页，方便查看和对比。</li>
                </ul>
                
                <!-- GIF: 功能介绍 -->
                <div class="gif-placeholder" data-gif-id="patent-batch-intro">
                    <span>点击右侧"GIF管理"按钮插入：批量专利解读-功能介绍.gif</span>
                    <span class="gif-label">占位符ID: patent-batch-intro</span>
                </div>

                <h4>配置选项说明</h4>
                <ul>
                    <li><strong>全字段爬取开关：</strong> 
                        <ul>
                            <li>开启（推荐）：爬取所有可用字段，获取完整专利信息</li>
                            <li>关闭：可展开字段选择器，按需选择特定字段</li>
                        </ul>
                    </li>
                    <li><strong>自动批量解读开关：</strong> 
                        <ul>
                            <li>开启：爬取完成后自动开始AI解读</li>
                            <li>关闭：需手动点击解读按钮</li>
                        </ul>
                    </li>
                    <li><strong>解读时包含说明书：</strong> 
                        <ul>
                            <li>开启：将说明书内容纳入AI解读（会增加token消耗）</li>
                            <li>关闭：仅基于摘要和权利要求进行解读</li>
                        </ul>
                    </li>
                </ul>
                
                <!-- GIF: 配置选项 -->
                <div class="gif-placeholder" data-gif-id="patent-batch-config">
                    <span>点击右侧"GIF管理"按钮插入：批量专利解读-配置选项.gif</span>
                    <span class="gif-label">占位符ID: patent-batch-config</span>
                </div>

                <h4>字段选择器说明</h4>
                <p>关闭"全字段爬取"后可展开字段选择器，按需选择：</p>
                <ul>
                    <li><strong>基础字段（必选）：</strong> 专利号、标题、摘要、发明人、申请人、申请日期、公开日期、权利要求</li>
                    <li><strong>分类与领域：</strong> CPC分类、技术领域、优先权日期</li>
                    <li><strong>同族信息：</strong> 同族ID、同族申请、国家状态（标注"耗时"的字段会增加爬取时间）</li>
                    <li><strong>引用信息：</strong> 引用专利、被引用专利</li>
                    <li><strong>法律与事件：</strong> 事件时间轴、法律事件、相似文档</li>
                    <li><strong>附加内容：</strong> 说明书、附图、外部链接</li>
                </ul>
                <div class="note">
                    <strong>提示：</strong> 字段选择器提供"全选可选"、"取消全选"、"推荐配置"三个快捷按钮，方便快速配置。
                </div>
                
                <!-- GIF: 字段选择器 -->
                <div class="gif-placeholder" data-gif-id="patent-batch-field-selector">
                    <span>点击右侧"GIF管理"按钮插入：批量专利解读-字段选择器.gif</span>
                    <span class="gif-label">占位符ID: patent-batch-field-selector</span>
                </div>

                <h4>解读模板管理</h4>
                <p>支持预设模板和自定义模板：</p>
                <ul>
                    <li><strong>预设模板：</strong> 默认模板、技术分析模板、商业价值模板、法律分析模板</li>
                    <li><strong>自定义模板：</strong> 
                        <ul>
                            <li>系统提示词（System Prompt）：定义AI角色和分析风格</li>
                            <li>用户提示词模板：使用占位符如 <code>{{patent_number}}</code>、<code>{{title}}</code>、<code>{{abstract}}</code>、<code>{{claims}}</code>、<code>{{description}}</code> 等</li>
                        </ul>
                    </li>
                    <li><strong>模板操作：</strong> 保存、新建、删除、导出、导入</li>
                </ul>
                
                <!-- GIF: 模板管理 -->
                <div class="gif-placeholder" data-gif-id="patent-batch-template">
                    <span>点击右侧"GIF管理"按钮插入：批量专利解读-模板管理.gif</span>
                    <span class="gif-label">占位符ID: patent-batch-template</span>
                </div>

                <h4>缓存与历史记录</h4>
                <ul>
                    <li><strong>缓存统计：</strong> 查看已缓存的专利数据数量</li>
                    <li><strong>清理缓存：</strong> 清除所有缓存的专利数据</li>
                    <li><strong>历史记录：</strong> 
                        <ul>
                            <li>查看所有爬取和解读历史</li>
                            <li>支持搜索专利号或标题</li>
                            <li>批量选择后可重新爬取或解读</li>
                            <li>显示缓存状态和解读状态</li>
                        </ul>
                    </li>
                </ul>
                
                <!-- GIF: 缓存与历史 -->
                <div class="gif-placeholder" data-gif-id="patent-batch-cache">
                    <span>点击右侧"GIF管理"按钮插入：批量专利解读-缓存与历史.gif</span>
                    <span class="gif-label">占位符ID: patent-batch-cache</span>
                </div>

                <h4>工作流程</h4>
                <ol>
                    <li><strong>输入专利号列表：</strong> 在文本框中输入专利号，用换行符或空格分隔，最多50个。</li>
                    <li><strong>配置选项：</strong> 设置全字段爬取、自动解读、包含说明书等选项。</li>
                    <li><strong>选择解读模板：</strong> 从下拉菜单选择预设模板或自定义模板。</li>
                    <li><strong>配置爬取字段：</strong> 如需特定字段，关闭全字段爬取后展开字段选择器。</li>
                    <li><strong>批量查询专利：</strong> 点击"批量查询专利"按钮，等待爬取完成。</li>
                    <li><strong>查看结果：</strong> 在标签页中查看每个专利的详情和解读结果。</li>
                    <li><strong>导出Excel：</strong> 点击导出按钮将结果保存为Excel文件。</li>
                </ol>
                
                <!-- GIF: 工作流程 -->
                <div class="gif-placeholder" data-gif-id="patent-batch-workflow">
                    <span>点击右侧"GIF管理"按钮插入：批量专利解读-工作流程.gif</span>
                    <span class="gif-label">占位符ID: patent-batch-workflow</span>
                </div>

                <h4>标签页模式展示</h4>
                <p>查询结果以标签页形式展示，每个专利一个标签页：</p>
                <ul>
                    <li><strong>专利基本信息：</strong> 标题、专利号、申请日期、公开日期等</li>
                    <li><strong>技术信息：</strong> 摘要、权利要求、说明书（如已爬取）</li>
                    <li><strong>引用关系：</strong> 引用专利、被引用专利列表</li>
                    <li><strong>法律事件：</strong> 事件时间轴、法律事件记录</li>
                    <li><strong>AI解读结果：</strong> 结构化的解读内容</li>
                    <li><strong>快捷操作：</strong> 复制专利号、查看原文、重新解读等</li>
                </ul>
            </div>
        </div>

        <!-- 功能六：权利要求处理 -->
        <div class="content-card" id="feature-claims-processor">
            <div class="card-header">
                <h2>功能六：独从权识别与可视化</h2>
            </div>
            <div class="card-body">
                <p>此功能用于处理专利权利要求，支持Excel批量分析和文本输入分析两种模式，能够自动解析、分类并提取权利要求信息，生成可视化的引用关系图。</p>

                <h4>核心技术优势</h4>
                <ul>
                    <li><strong>双模式支持：</strong> Excel批量分析和文本输入分析。</li>
                    <li><strong>智能文本解析：</strong> 自动识别权利要求的编号、类型、内容和引用关系。</li>
                    <li><strong>多种可视化方式：</strong> 树状图、网络图、径向图。</li>
                    <li><strong>交互式可视化控制：</strong> 支持缩放、拖拽、散开程度调节。</li>
                </ul>
                
                <!-- GIF: 功能介绍 -->
                <div class="gif-placeholder" data-gif-id="claims-processor-intro">
                    <span>点击右侧"GIF管理"按钮插入：权利要求处理-功能介绍.gif</span>
                    <span class="gif-label">占位符ID: claims-processor-intro</span>
                </div>

                <h4>可视化控制功能</h4>
                <ul>
                    <li><strong>样式切换：</strong> 树状图、网络图、径向图</li>
                    <li><strong>散开程度调节：</strong> 树状图支持调节节点散开程度（0.5x-5.0x）</li>
                    <li><strong>缩放控制：</strong> 放大、缩小、重置、居中</li>
                    <li><strong>高清截图：</strong> 生成高清PNG图片保存</li>
                </ul>
                
                <!-- GIF: 可视化控制 -->
                <div class="gif-placeholder" data-gif-id="claims-processor-visualization">
                    <span>点击右侧"GIF管理"按钮插入：权利要求处理-可视化控制.gif</span>
                    <span class="gif-label">占位符ID: claims-processor-visualization</span>
                </div>
            </div>
        </div>

        <!-- 功能七：专利附图标记 -->
        <div class="content-card" id="feature-drawing-marker">
            <div class="card-header">
                <h2>功能七：专利附图智能标记</h2>
            </div>
            <div class="card-body">
                <p>此功能用于自动识别专利附图中的标记数字，并与说明书中的标记说明进行智能匹配，生成带有标注的附图。</p>

                <h4>核心技术优势</h4>
                <ul>
                    <li><strong>OCR智能识别：</strong> 采用先进的OCR技术，自动识别附图中的数字和字母标记。</li>
                    <li><strong>AI辅助识别（可选）：</strong> 支持AI模式，利用大语言模型提升识别准确性。</li>
                    <li><strong>AI处理控制面板：</strong> 可配置AI模式开关、选择模型、自定义提示词。</li>
                    <li><strong>多图批量处理：</strong> 支持同时上传和处理多张附图。</li>
                    <li><strong>交互式多图查看器：</strong> 支持缩放、拖拽、标记高亮等交互操作。</li>
                </ul>
                
                <!-- GIF: 功能介绍 -->
                <div class="gif-placeholder" data-gif-id="drawing-marker-intro">
                    <span>点击右侧"GIF管理"按钮插入：专利附图标记-功能介绍.gif</span>
                    <span class="gif-label">占位符ID: drawing-marker-intro</span>
                </div>

                <h4>AI处理控制面板</h4>
                <ul>
                    <li><strong>AI模式开关：</strong> 开启后可使用大语言模型辅助识别</li>
                    <li><strong>模型选择：</strong> 选择适合的AI模型</li>
                    <li><strong>自定义提示词：</strong> 可编辑AI识别提示词</li>
                </ul>
                
                <!-- GIF: AI处理控制面板 -->
                <div class="gif-placeholder" data-gif-id="drawing-marker-ai-panel">
                    <span>点击右侧"GIF管理"按钮插入：专利附图标记-AI处理控制面板.gif</span>
                    <span class="gif-label">占位符ID: drawing-marker-ai-panel</span>
                </div>

                <h4>快速重新处理功能</h4>
                <ul>
                    <li><strong>重新识别OCR：</strong> 当图片有旋转或需要重新识别标记时使用。</li>
                    <li><strong>重新匹配说明书：</strong> 当只修改了说明书内容时使用，速度提升50%以上。</li>
                </ul>
                
                <!-- GIF: 快速重新处理 -->
                <div class="gif-placeholder" data-gif-id="drawing-marker-reprocess">
                    <span>点击右侧"GIF管理"按钮插入：专利附图标记-快速重新处理.gif</span>
                    <span class="gif-label">占位符ID: drawing-marker-reprocess</span>
                </div>
            </div>
        </div>

        <!-- 功能八：文档OCR与智能分析 -->
        <div class="content-card" id="feature-pdf-ocr">
            <div class="card-header">
                <h2>功能八：文档OCR与智能分析</h2>
            </div>
            <div class="card-body">
                <p>此功能集成了PDF阅读器与智能OCR识别，支持PDF和图片文件的文字识别、结构化解析、划词选择和AI对话功能。</p>

                <h4>核心技术优势</h4>
                <ul>
                    <li><strong>多格式支持：</strong> 支持PDF、PNG、JPG、JPEG、BMP、WEBP等常见格式。</li>
                    <li><strong>智能OCR识别：</strong> 采用智谱GLM-4V视觉模型，精准识别文字、表格、公式。</li>
                    <li><strong>结构化解析：</strong> 自动区分文本、表格、公式、图片等不同内容类型。</li>
                    <li><strong>划词选择：</strong> 支持鼠标划选识别区块，快速定位和复制内容。</li>
                    <li><strong>AI对话集成：</strong> 可直接对识别内容进行AI提问和分析。</li>
                    <li><strong>多选模式：</strong> 支持批量选择多个识别区块进行统一操作。</li>
                </ul>
                
                <!-- GIF: 功能介绍 -->
                <div class="gif-placeholder" data-gif-id="pdf-ocr-intro">
                    <span>点击右侧"GIF管理"按钮插入：PDF阅读与OCR-功能介绍.gif</span>
                    <span class="gif-label">占位符ID: pdf-ocr-intro</span>
                </div>

                <h4>界面布局</h4>
                <p>功能界面分为三个主要区域：</p>
                <ul>
                    <li><strong>左侧边栏：</strong> 文件上传、OCR控制、识别结果列表、导出功能。</li>
                    <li><strong>中间主区域：</strong> PDF/图片查看器，支持缩放、翻页、区块显示。</li>
                    <li><strong>右侧悬浮面板：</strong> 显示当前选中内容、全部原文、区块详情。</li>
                </ul>
                
                <!-- GIF: 界面布局 -->
                <div class="gif-placeholder" data-gif-id="pdf-ocr-interface">
                    <span>点击右侧"GIF管理"按钮插入：PDF阅读与OCR-界面布局.gif</span>
                    <span class="gif-label">占位符ID: pdf-ocr-interface</span>
                </div>

                <h4>工作流程</h4>
                <ol>
                    <li><strong>上传文件：</strong> 点击或拖拽上传PDF或图片文件（≤10MB）。</li>
                    <li><strong>配置OCR：</strong> 选择解析范围（当前页面/全部页面），勾选是否识别公式和表格。</li>
                    <li><strong>开始解析：</strong> 点击"开始OCR解析"，等待识别完成。</li>
                    <li><strong>查看结果：</strong> 在左侧结果列表或右侧面板查看识别内容。</li>
                    <li><strong>交互操作：</strong> 点击区块查看详情，或进入多选模式批量操作。</li>
                    <li><strong>导出内容：</strong> 支持导出为Markdown或TXT格式。</li>
                </ol>
                
                <!-- GIF: 工作流程 -->
                <div class="gif-placeholder" data-gif-id="pdf-ocr-workflow">
                    <span>点击右侧"GIF管理"按钮插入：PDF阅读与OCR-工作流程.gif</span>
                    <span class="gif-label">占位符ID: pdf-ocr-workflow</span>
                </div>

                <h4>OCR解析设置</h4>
                <ul>
                    <li><strong>解析范围：</strong>
                        <ul>
                            <li>当前页面：仅解析当前显示的页面</li>
                            <li>全部页面：自动解析PDF所有页面</li>
                        </ul>
                    </li>
                    <li><strong>识别公式：</strong> 开启后可识别数学公式并转换为LaTeX格式</li>
                    <li><strong>识别表格：</strong> 开启后可识别表格结构并转换为Markdown表格</li>
                </ul>
                
                <!-- GIF: OCR设置 -->
                <div class="gif-placeholder" data-gif-id="pdf-ocr-settings">
                    <span>点击右侧"GIF管理"按钮插入：PDF阅读与OCR-OCR设置.gif</span>
                    <span class="gif-label">占位符ID: pdf-ocr-settings</span>
                </div>

                <h4>查看器工具栏</h4>
                <ul>
                    <li><strong>翻页控制：</strong> 上一页/下一页按钮，或直接输入页码跳转</li>
                    <li><strong>缩放控制：</strong> 支持50%-200%缩放，或选择预设比例</li>
                    <li><strong>多选模式：</strong> 点击后显示全部识别区块，支持批量选择</li>
                </ul>
                
                <!-- GIF: 查看器工具栏 -->
                <div class="gif-placeholder" data-gif-id="pdf-ocr-toolbar">
                    <span>点击右侧"GIF管理"按钮插入：PDF阅读与OCR-查看器工具栏.gif</span>
                    <span class="gif-label">占位符ID: pdf-ocr-toolbar</span>
                </div>

                <h4>识别结果筛选</h4>
                <p>左侧结果列表支持按类型筛选：</p>
                <ul>
                    <li><strong>全部类型：</strong> 显示所有识别结果</li>
                    <li><strong>文本：</strong> 仅显示文本区块</li>
                    <li><strong>表格：</strong> 仅显示表格区块</li>
                    <li><strong>公式：</strong> 仅显示公式区块</li>
                    <li><strong>图片：</strong> 仅显示图片区块</li>
                </ul>

                <h4>AI对话功能</h4>
                <p>在右侧悬浮面板中，点击"💬 提问"按钮可以对识别内容进行AI分析：</p>
                <ul>
                    <li>自动将当前识别内容作为上下文</li>
                    <li>支持针对特定内容提问</li>
                    <li>可用于内容总结、翻译、分析等场景</li>
                </ul>
                
                <!-- GIF: AI对话 -->
                <div class="gif-placeholder" data-gif-id="pdf-ocr-ai-chat">
                    <span>点击右侧"GIF管理"按钮插入：PDF阅读与OCR-AI对话.gif</span>
                    <span class="gif-label">占位符ID: pdf-ocr-ai-chat</span>
                </div>

                <h4>导出功能</h4>
                <ul>
                    <li><strong>Markdown导出：</strong> 保留格式和结构，适合技术文档</li>
                    <li><strong>TXT导出：</strong> 纯文本格式，适合简单复制</li>
                </ul>
                
                <!-- GIF: 导出功能 -->
                <div class="gif-placeholder" data-gif-id="pdf-ocr-export">
                    <span>点击右侧"GIF管理"按钮插入：PDF阅读与OCR-导出功能.gif</span>
                    <span class="gif-label">占位符ID: pdf-ocr-export</span>
                </div>
            </div>
        </div>

        <!-- 常见问题 -->
        <div class="content-card" id="faq">
            <div class="card-header">
                <h2>常见问题 (FAQ)</h2>
            </div>
            <div class="card-body">
                <h4>Q1: 为什么点击功能按钮后没有任何反应？</h4>
                <p><strong>A:</strong> 最常见的原因是您没有设置API Key。请参照【入门指南】的第3步，正确配置并保存您的智谱AI API Key。</p>

                <h4>Q2: "小批量异步"和"大批量处理"有什么区别？</h4>
                <p><strong>A:</strong></p>
                <ul>
                    <li><strong>小批量异步：</strong> 适合几十到几百条任务，结果立等可取。</li>
                    <li><strong>大批量处理：</strong> 适合几千到几万条任务，完全在云端执行。</li>
                </ul>

                <h4>Q3: 在"大批量处理"中，我不小心关闭了浏览器，任务还在吗？</h4>
                <p><strong>A:</strong> 只要您已经成功点击"创建Batch任务"并获得了Batch ID，任务就在云端安全地执行。您可以在"断点续查"区域输入该Batch ID恢复监控。</p>

                <h4>Q4: 上传文件失败或文件处理失败怎么办？</h4>
                <p><strong>A:</strong> 请检查以下几点：</p>
                <ul>
                    <li>文件格式是否符合要求（支持 Excel、Word、PDF、TXT 等常见格式）</li>
                    <li>文件内容是否正确，是否包含有效数据</li>
                    <li>网络连接是否正常</li>
                    <li>文件大小是否超过限制</li>
                </ul>

                <h4>Q5: 即时对话中的角色（Persona）是什么？如何使用？</h4>
                <p><strong>A:</strong> 角色是预设的AI助手配置，包含特定的系统提示词和用户模板：</p>
                <ul>
                    <li>在对话参数设置中选择预设角色，如"资深专利分析师"、"专业技术翻译"等</li>
                    <li>也可以创建自定义角色，定义专属的系统提示和用户模板</li>
                    <li>在用户模板中使用 <code>{{INPUT}}</code> 作为占位符，系统会自动替换您的输入内容</li>
                </ul>

                <h4>Q6: 文件解析的三种服务（Lite/Expert/Prime）有什么区别？</h4>
                <p><strong>A:</strong></p>
                <ul>
                    <li><strong>Lite（免费）：</strong> 满足日常查询需求，支持常见格式，输出纯文本</li>
                    <li><strong>Expert（0.03元/次）：</strong> 适合专业PDF解析，输出Markdown格式并保留图片</li>
                    <li><strong>Prime（0.05元/次）：</strong> 支持最多格式，保留完整文档结构</li>
                </ul>

                <h4>Q7: 联网搜索功能如何使用？</h4>
                <p><strong>A:</strong> 在即时对话界面，点击输入框左侧的<strong>搜索🔍</strong>按钮即可开启联网搜索。开启后，AI会参考最新的网络信息来回答您的问题，特别适合查询最新的专利法规、技术动态等信息。</p>

                <h4>Q8: 权利要求对比功能支持多少个专利同时对比？</h4>
                <p><strong>A:</strong> 权利要求对比功能支持 2-10 个权利要求的同时对比。您可以输入多个专利的权利要求内容，系统会自动识别语言、按需翻译，并提供卡片视图、并排对比、矩阵视图三种可视化展示方式。</p>

                <h4>Q9: 批量专利解读最多支持多少个专利号？</h4>
                <p><strong>A:</strong> 批量专利解读功能最多支持 50 个专利号。您可以在文本框中输入多个专利号（每行一个），系统会自动从专利数据库获取详情并提供AI解读。</p>

                <h4>Q10: 本地专利库管理功能消耗API额度吗？</h4>
                <p><strong>A:</strong> 不消耗。本地专利库管理是一个纯粹的离线Excel数据处理工具，专注于专利建库过程中的同族展开和新旧库合并，<strong>完全不消耗任何API额度</strong>。</p>

                <h4>Q11: 如何保存和导出处理结果？</h4>
                <p><strong>A:</strong> 不同功能模块提供不同的导出方式：</p>
                <ul>
                    <li><strong>小批量异步：</strong> 任务完成后点击"导出为Excel"按钮</li>
                    <li><strong>大批量处理：</strong> 在"解析报告"步骤下载最终结果</li>
                    <li><strong>权利要求处理：</strong> 支持导出Excel分析结果和高清引用关系图</li>
                    <li><strong>即时对话：</strong> 对话历史会自动保存，可随时查看和继续</li>
                </ul>

                <h4>Q12: 专利附图标记功能如何使用AI辅助识别？</h4>
                <p><strong>A:</strong> 在专利附图标记功能中：</p>
                <ul>
                    <li>上传附图后，系统默认使用OCR技术自动识别标记</li>
                    <li>在AI处理控制面板中开启"AI模式"，可使用大语言模型提升识别准确性</li>
                    <li>可以自定义AI提示词来优化识别效果</li>
                    <li>支持"重新识别OCR"和"重新匹配说明书"两种快速重新处理方式</li>
                </ul>

                <h4>Q13: 对话历史会保存多久？</h4>
                <p><strong>A:</strong> 即时对话的历史记录会保存在浏览器本地存储中，您可以随时查看、继续或删除历史对话。建议定期导出重要的对话内容以备存档。</p>

                <h4>Q14: 如何修改已保存的API Key？</h4>
                <p><strong>A:</strong> 点击界面右上角的 <strong>⚙️</strong> 图标打开API Key设置面板，删除原有Key并输入新的API Key，然后点击"保存"即可。</p>

                <h4>Q15: 系统提示"IP限制"无法登录怎么办？</h4>
                <p><strong>A:</strong> 每个账户默认最多允许5个不同的IP地址登录。如果您在新设备或网络环境下登录时遇到IP限制，请联系管理员清理历史登录记录，或等待最早的登录记录自动过期。</p>

                <h4>Q16: 温度（Temperature）参数应该如何设置？</h4>
                <p><strong>A:</strong> 温度参数控制AI回复的创造性，建议根据任务类型选择：</p>
                <ul>
                    <li><strong>0.1-0.3：</strong> 适合需要精确、确定性答案的任务，如专利分类、技术提取</li>
                    <li><strong>0.4-0.6：</strong> 适合一般性分析任务，平衡准确性和创造性</li>
                    <li><strong>0.7-0.9：</strong> 适合需要创造性思维的任务，如专利撰写辅助、头脑风暴</li>
                </ul>

                <h4>Q17: 上下文条数设置有什么影响？</h4>
                <p><strong>A:</strong> 上下文条数决定AI能"记住"多少轮历史对话：</p>
                <ul>
                    <li><strong>设置较高（10-20条）：</strong> 对话更连贯，AI能更好地理解上下文，但会增加API调用成本</li>
                    <li><strong>设置较低（3-5条）：</strong> 成本更低，但AI可能遗忘较早的对话内容</li>
                    <li><strong>建议：</strong> 复杂多轮对话设10-15条，简单问答设5-8条</li>
                </ul>

                <h4>Q18: 小批量异步处理的模板中{{INPUT}}占位符如何使用？</h4>
                <p><strong>A:</strong> <code>{{INPUT}}</code> 是系统保留的占位符，用于插入源数据：</p>
                <ul>
                    <li>在用户提示模板中必须包含 <code>{{INPUT}}</code></li>
                    <li>系统会自动将每一行输入数据替换到 <code>{{INPUT}}</code> 的位置</li>
                    <li>例如模板："请将以下专利摘要翻译成英文：{{INPUT}}"</li>
                    <li>如果输入是"一种新型电池..."，实际发送给AI的是："请将以下专利摘要翻译成英文：一种新型电池..."</li>
                </ul>

                <h4>Q19: 大批量处理的Batch ID丢失了怎么办？</h4>
                <p><strong>A:</strong> 如果丢失了Batch ID，可以尝试以下方法：</p>
                <ul>
                    <li>检查浏览器历史记录或下载记录，可能保存了结果文件</li>
                    <li>联系智谱AI客服，提供API Key和大概的任务创建时间，可能能找回Batch ID</li>
                    <li>预防措施：创建Batch任务时务必复制并保存Batch ID到安全位置</li>
                </ul>

                <h4>Q20: 本地专利库管理的"同族展开"是什么意思？</h4>
                <p><strong>A:</strong> 同族展开是指将一个专利的同族专利号从合并的字段中拆分出来：</p>
                <ul>
                    <li>商业数据库中，同族专利通常以逗号、分号等分隔符合并在一个字段中</li>
                    <li>同族展开功能会将这些合并的专利号拆分成独立的行</li>
                    <li>展开后会自动去重，方便后续批量处理</li>
                    <li>例如："US123456;CN789012;JP345678" 会展开为3行独立记录</li>
                </ul>

                <h4>Q21: 权利要求对比的"耦合对比分析"是什么？</h4>
                <p><strong>A:</strong> 耦合对比分析是指对多个权利要求进行关联性分析：</p>
                <ul>
                    <li>选择多个权利要求（2-10个）进行耦合分析</li>
                    <li>系统会分析这些权利要求之间的相似度、差异点和潜在冲突</li>
                    <li>适用于分析同一申请人的多件相关专利，或竞争对手的专利组合</li>
                    <li>分析结果包括技术特征对比矩阵和相似度评分</li>
                </ul>

                <h4>Q22: 批量专利解读的字段选择器应该如何使用？</h4>
                <p><strong>A:</strong> 字段选择器用于选择需要爬取的专利信息：</p>
                <ul>
                    <li><strong>基础字段（默认勾选）：</strong> 专利号、标题、摘要、发明人、申请人等核心信息</li>
                    <li><strong>分类与领域：</strong> CPC分类号、技术领域、优先权日期等</li>
                    <li><strong>同族信息：</strong> 同族专利ID、同族申请列表、国家状态</li>
                    <li><strong>引用信息：</strong> 引用专利、被引用专利（用于分析技术演进）</li>
                    <li><strong>法律与事件：</strong> 法律状态、事件时间轴</li>
                    <li><strong>建议：</strong> 根据分析目的选择，避免勾选过多不必要字段导致处理时间延长</li>
                </ul>

                <h4>Q23: 权利要求处理的可视化图有哪些类型？</h4>
                <p><strong>A:</strong> 权利要求处理提供三种可视化图类型：</p>
                <ul>
                    <li><strong>树状图：</strong> 以层级树形展示权利要求的引用关系，支持调节散开程度（0.5x-5.0x）</li>
                    <li><strong>网络图：</strong> 以节点和连线展示权利要求之间的复杂引用网络</li>
                    <li><strong>径向图：</strong> 以圆形布局展示，适合展示权利要求的层级结构</li>
                </ul>
                <p>所有视图都支持缩放、拖拽、居中、重置等交互操作，并可导出高清PNG图片。</p>

                <h4>Q24: 专利附图标记的OCR识别不准确怎么办？</h4>
                <p><strong>A:</strong> 如果OCR识别效果不理想，可以尝试：</p>
                <ul>
                    <li><strong>开启AI模式：</strong> 使用大语言模型辅助识别，提高准确性</li>
                    <li><strong>调整图片质量：</strong> 确保附图清晰、对比度足够、无严重倾斜</li>
                    <li><strong>手动校正：</strong> 在识别结果中手动添加或删除标记</li>
                    <li><strong>优化说明书：</strong> 确保说明书中的标记说明与附图对应</li>
                    <li><strong>使用"重新识别OCR"：</strong> 如果图片有旋转，先校正再重新识别</li>
                </ul>

                <h4>Q25: 如何创建有效的自定义角色（Persona）？</h4>
                <p><strong>A:</strong> 创建自定义角色的最佳实践：</p>
                <ul>
                    <li><strong>角色名称：</strong> 使用简洁明了的名称，如"专利无效分析专家"</li>
                    <li><strong>系统提示（System Prompt）：</strong> 详细描述角色背景、专业领域、回答风格</li>
                    <li><strong>用户模板：</strong> 使用 <code>{{INPUT}}</code> 作为用户输入的占位符</li>
                    <li><strong>示例系统提示：</strong> "你是一位资深的专利无效分析专家，擅长从现有技术角度分析专利的新颖性和创造性。回答应当专业、严谨，引用相关法条。"</li>
                    <li><strong>示例用户模板：</strong> "请分析以下专利的权利要求1相对于现有技术的新颖性和创造性：\n\n{{INPUT}}"</li>
                </ul>

                <h4>Q26: API调用费用是如何计算的？</h4>
                <p><strong>A:</strong> API费用根据使用的模型和功能有所不同：</p>
                <ul>
                    <li><strong>对话模型：</strong> 按输入和输出的token数量计费，不同模型价格不同</li>
                    <li><strong>文件解析：</strong> Lite免费，Expert 0.03元/次，Prime 0.05元/次</li>
                    <li><strong>大批量处理：</strong> 使用Batch API，通常比同步调用便宜50%</li>
                    <li><strong>查看余额：</strong> 登录智谱AI开放平台查看实时余额和消费记录</li>
                </ul>

                <h4>Q27: 为什么有时候AI回复很慢或超时？</h4>
                <p><strong>A:</strong> 可能的原因和解决方法：</p>
                <ul>
                    <li><strong>模型负载高：</strong> 高峰期可能响应较慢，可尝试切换其他模型</li>
                    <li><strong>输入内容过长：</strong> 过长的文本会增加处理时间，建议适当分段</li>
                    <li><strong>复杂分析任务：</strong> 专利分析等复杂任务需要更多思考时间</li>
                    <li><strong>网络问题：</strong> 检查网络连接是否稳定</li>
                    <li><strong>上下文过长：</strong> 减少上下文条数可以提高响应速度</li>
                </ul>

                <h4>Q28: 如何确保数据安全和隐私？</h4>
                <p><strong>A:</strong> 平台采取以下措施保护您的数据：</p>
                <ul>
                    <li><strong>API Key：</strong> 仅保存在浏览器本地存储中，不会上传到服务器</li>
                    <li><strong>对话历史：</strong> 保存在本地浏览器，不会同步到云端</li>
                    <li><strong>文件处理：</strong> 上传的文件仅用于当前任务，不会永久存储</li>
                    <li><strong>建议：</strong> 不要在对话中输入敏感的商业秘密或个人隐私信息</li>
                </ul>

                <h4>Q29: 新旧库合并时如何处理冲突？</h4>
                <p><strong>A:</strong> 新旧库合并的冲突处理规则：</p>
                <ul>
                    <li><strong>新库优先：</strong> 当新旧库存在同名列时，新库的数据优先保留</li>
                    <li><strong>旧库补充：</strong> 仅在旧库中存在、新库中不存在的列会被补充到新库</li>
                    <li><strong>匹配列：</strong> 需要为两个库分别指定用于匹配的主键列（如专利号）</li>
                    <li><strong>建议：</strong> 合并前备份原始数据，合并后检查结果是否符合预期</li>
                </ul>

                <h4>Q30: 支持哪些浏览器？</h4>
                <p><strong>A:</strong> 推荐使用以下现代浏览器以获得最佳体验：</p>
                <ul>
                    <li><strong>Chrome：</strong> 推荐版本 90+</li>
                    <li><strong>Edge：</strong> 推荐版本 90+</li>
                    <li><strong>Firefox：</strong> 推荐版本 88+</li>
                    <li><strong>Safari：</strong> 推荐版本 14+</li>
                </ul>
                <p>不支持Internet Explorer浏览器。如遇到显示异常，请尝试清除浏览器缓存或更换浏览器。</p>

                <h4>Q31: PDF阅读与OCR功能支持哪些文件格式？</h4>
                <p><strong>A:</strong> 功能八支持以下文件格式：</p>
                <ul>
                    <li><strong>PDF文档：</strong> 支持标准PDF文件，包括扫描版和文字版</li>
                    <li><strong>图片格式：</strong> PNG、JPG、JPEG、BMP、WEBP</li>
                    <li><strong>文件大小限制：</strong> 单个文件最大10MB</li>
                    <li><strong>建议：</strong> 对于扫描版PDF，建议提高扫描分辨率（300DPI以上）以获得更好的识别效果</li>
                </ul>

                <h4>Q32: PDF阅读与OCR的识别范围如何选择？</h4>
                <p><strong>A:</strong> OCR解析范围有两种选择：</p>
                <ul>
                    <li><strong>当前页面：</strong> 仅解析PDF当前显示的页面，适合快速查看单页内容</li>
                    <li><strong>全部页面：</strong> 自动解析PDF所有页面，适合需要完整提取文档内容的场景</li>
                    <li><strong>注意：</strong> 全部页面解析会消耗更多API额度，建议根据实际需求选择</li>
                </ul>

                <h4>Q33: 如何使用PDF阅读与OCR的多选模式？</h4>
                <p><strong>A:</strong> 多选模式用于批量选择识别区块：</p>
                <ul>
                    <li>点击工具栏右侧的"多选模式"按钮进入多选状态</li>
                    <li>所有识别区块会在PDF查看器中显示为可点击的方框</li>
                    <li>点击区块可选中或取消选中，支持多选</li>
                    <li>选中后可进行批量复制、导出等操作</li>
                    <li>再次点击"多选模式"按钮可退出多选状态</li>
                </ul>

                <h4>Q34: PDF阅读与OCR识别表格和公式效果如何？</h4>
                <p><strong>A:</strong> 表格和公式识别说明：</p>
                <ul>
                    <li><strong>表格识别：</strong> 开启后会识别表格结构并转换为Markdown表格格式，适合结构化数据提取</li>
                    <li><strong>公式识别：</strong> 开启后会识别数学公式并转换为LaTeX格式，适合学术论文和技术文档</li>
                    <li><strong>识别效果：</strong> 清晰的表格和公式识别准确率较高，模糊或手写内容效果可能不佳</li>
                    <li><strong>建议：</strong> 对于复杂表格，建议识别后人工校验和调整</li>
                </ul>

                <h4>Q35: PDF阅读与OCR的AI对话功能如何使用？</h4>
                <p><strong>A:</strong> AI对话功能使用方法：</p>
                <ul>
                    <li>完成OCR解析后，在右侧悬浮面板点击"💬 提问"按钮</li>
                    <li>系统会自动将当前识别内容作为上下文</li>
                    <li>可以针对识别内容进行提问、总结、翻译等操作</li>
                    <li>AI会结合识别内容给出针对性回答</li>
                    <li>适合快速理解文档内容、提取关键信息等场景</li>
                </ul>

                <h4>Q36: PDF阅读与OCR导出的格式有什么区别？</h4>
                <p><strong>A:</strong> 导出格式说明：</p>
                <ul>
                    <li><strong>Markdown格式：</strong> 保留文档结构和格式，包括标题、列表、表格、公式等，适合技术文档和笔记</li>
                    <li><strong>TXT格式：</strong> 纯文本格式，仅保留文字内容，适合简单复制和编辑</li>
                    <li><strong>建议：</strong> 需要保留格式时选择Markdown，仅需文字内容时选择TXT</li>
                </ul>

                <h4>Q37: 功能五的缓存系统有什么作用？</h4>
                <p><strong>A:</strong> 缓存系统的作用和使用方法：</p>
                <ul>
                    <li><strong>自动缓存：</strong> 爬取的专利数据会自动缓存到本地，避免重复请求</li>
                    <li><strong>加速查询：</strong> 再次查询相同专利号时，直接从缓存读取，速度大幅提升</li>
                    <li><strong>节省额度：</strong> 减少对专利数据库的请求次数</li>
                    <li><strong>缓存管理：</strong> 点击"缓存统计"查看缓存数量，点击"清理缓存"清除所有缓存</li>
                    <li><strong>注意：</strong> 清理缓存后需要重新爬取专利数据</li>
                </ul>

                <h4>Q38: 功能五的历史记录功能如何使用？</h4>
                <p><strong>A:</strong> 历史记录功能说明：</p>
                <ul>
                    <li><strong>查看历史：</strong> 点击"历史记录"按钮查看所有爬取和解读历史</li>
                    <li><strong>搜索功能：</strong> 在搜索框输入专利号或标题快速定位</li>
                    <li><strong>批量操作：</strong> 勾选多条记录后可批量重新爬取或解读</li>
                    <li><strong>状态显示：</strong> 显示每条记录的缓存状态和解读状态</li>
                    <li><strong>清空历史：</strong> 点击"清空历史"可删除所有历史记录（不影响缓存）</li>
                </ul>

                <h4>Q39: 功能五的解读模板如何自定义？</h4>
                <p><strong>A:</strong> 自定义解读模板的方法：</p>
                <ul>
                    <li><strong>打开编辑器：</strong> 点击模板选择器旁边的"管理"按钮</li>
                    <li><strong>系统提示词：</strong> 定义AI的角色和分析风格，如"你是专利技术分析专家..."</li>
                    <li><strong>用户模板：</strong> 使用占位符构建提示词：
                        <ul>
                            <li><code>{{patent_number}}</code> - 专利号</li>
                            <li><code>{{title}}</code> - 标题</li>
                            <li><code>{{abstract}}</code> - 摘要</li>
                            <li><code>{{claims}}</code> - 权利要求</li>
                            <li><code>{{description}}</code> - 说明书</li>
                        </ul>
                    </li>
                    <li><strong>保存模板：</strong> 编辑完成后点击"保存模板"</li>
                    <li><strong>导入导出：</strong> 支持模板的导入和导出，方便分享</li>
                </ul>

                <h4>Q40: 智能剪贴板如何使用？</h4>
                <p><strong>A:</strong> 智能剪贴板使用方法：</p>
                <ul>
                    <li><strong>自动捕获：</strong> 在任意位置复制文本（Ctrl+C），系统自动捕获并识别类型</li>
                    <li><strong>悬浮球：</strong> 页面右侧绿色悬浮球显示剪贴板状态，有数据时会显示数量角标</li>
                    <li><strong>打开面板：</strong> 点击悬浮球打开智能剪贴板面板</li>
                    <li><strong>类型识别：</strong> 系统自动识别内容类型（专利号、权利要求、AI分析等）并显示置信度</li>
                    <li><strong>快速粘贴：</strong> 面板显示当前页面可粘贴的输入框列表，点击即可粘贴</li>
                    <li><strong>历史记录：</strong> 面板底部显示最近10条复制历史，可随时切换使用</li>
                </ul>

                <h4>Q41: 智能剪贴板支持哪些内容类型？</h4>
                <p><strong>A:</strong> 智能剪贴板支持的内容类型：</p>
                <ul>
                    <li><strong>专利号：</strong> 自动识别专利号格式（如CN123456789A），可粘贴到功能五批量查询</li>
                    <li><strong>权利要求文本：</strong> 识别权利要求格式，可粘贴到功能六权利要求处理</li>
                    <li><strong>专利表格数据：</strong> 识别Excel格式的专利数据</li>
                    <li><strong>AI分析结果：</strong> 识别AI生成的分析内容，可粘贴到即时对话继续讨论</li>
                    <li><strong>普通文本：</strong> 其他文本内容，可粘贴到任意文本输入框</li>
                </ul>

                <h4>Q42: 功能五的"解读时包含说明书"选项有什么影响？</h4>
                <p><strong>A:</strong> 该选项的影响：</p>
                <ul>
                    <li><strong>开启时：</strong> 
                        <ul>
                            <li>AI解读会参考说明书内容，分析更全面深入</li>
                            <li>适合需要详细技术分析的场景</li>
                            <li>会增加token消耗和处理时间</li>
                        </ul>
                    </li>
                    <li><strong>关闭时：</strong> 
                        <ul>
                            <li>仅基于摘要和权利要求进行解读</li>
                            <li>处理速度更快，消耗更少</li>
                            <li>适合快速了解专利概况的场景</li>
                        </ul>
                    </li>
                    <li><strong>建议：</strong> 需要深度分析时开启，快速浏览时关闭</li>
                </ul>
            </div>
        </div>
    </main>
</div>

<!-- GIF管理按钮（仅在开发模式下显示） -->
<button class="open-gif-manager-btn" id="gifManagerBtn" onclick="openGifManager()" style="display: none;">🎬 GIF管理</button>

<!-- GIF管理面板遮罩 -->
<div class="gif-manager-overlay" id="gifManagerOverlay" onclick="closeGifManager()"></div>

<!-- GIF管理面板 -->
<div class="gif-manager-panel" id="gifManagerPanel">
    <div class="gif-manager-header">
        <h3>🎬 GIF 管理工具（开发模式）</h3>
        <button class="close-btn" onclick="closeGifManager()">&times;</button>
    </div>
    
    <div style="margin-bottom: 20px;">
        <p style="margin: 0 0 10px 0; color: var(--text-color-light);">
            将GIF文件放置在 <code>frontend/help-gifs/</code> 文件夹中，然后点击下方列表快速插入。
        </p>
        <p style="margin: 0; font-size: 0.9em; color: var(--text-color-light);">
            每个占位符都有唯一的ID，GIF会自动匹配到对应位置。
        </p>
    </div>

    <div style="margin-bottom: 15px;">
        <label style="display: block; margin-bottom: 5px; font-weight: 500;">手动输入GIF路径：</label>
        <input type="text" class="gif-path-input" id="manualGifPath" placeholder="例如: help-gifs/demo.gif">
        <button class="apply-gif-btn" onclick="applyManualGif()">应用</button>
    </div>

    <div class="gif-list" id="gifList">
        <!-- GIF列表将在这里动态生成 -->
    </div>
</div>

<script>
    // GIF配置 - 定义所有占位符和对应的GIF文件名
    const gifConfig = {
        // 入门指南
        'login-demo': '登录演示.gif',
        'interface-overview': '界面概览.gif',
        'apikey-setup': 'API-Key设置.gif',
        'logout-demo': '登出系统.gif',
        'smart-clipboard-intro': '智能剪贴板-功能介绍.gif',
        
        // 智谱API Key获取指南
        'apikey-token-explain': 'Token计费说明示意图.gif',
        'apikey-step1-register': '注册账号演示.gif',
        'apikey-step2-verify': '实名认证演示.gif',
        'apikey-step3-create': '创建API Key演示.gif',
        
        // 功能一：即时对话
        'chat-basic-interaction': '即时对话-核心交互.gif',
        'chat-conversation-management': '即时对话-对话管理.gif',
        'chat-parameter-settings': '即时对话-参数设置.gif',
        'chat-persona-management': '即时对话-角色管理.gif',
        'chat-file-upload': '即时对话-文件上传.gif',
        'chat-web-search': '即时对话-联网搜索.gif',
        
        // 功能二：文本批量智能分析
        'unified-batch-intro': '文本批量分析-功能介绍.gif',
        'unified-batch-workflow': '文本批量分析-工作流程.gif',
        'unified-batch-input': '文本批量分析-输入数据.gif',
        'unified-batch-template': '文本批量分析-配置模板.gif',
        'unified-batch-mode': '文本批量分析-选择模式.gif',
        'unified-batch-results': '文本批量分析-处理结果.gif',
        
        // 功能三：本地专利库管理
        'locallib-workflow-overview': '本地专利库-工作流程概览.gif',
        'locallib-upload-expand': '本地专利库-上传与展开.gif',
        'locallib-merge-libraries': '本地专利库-合并新旧库.gif',
        
        // 功能四：权利要求对比
        'claims-compare-intro': '权利要求对比-功能介绍.gif',
        'claims-compare-workflow': '权利要求对比-工作流程.gif',
        'claims-compare-visualization': '权利要求对比-可视化视图.gif',
        
        // 功能五：批量专利解读
        'patent-batch-intro': '批量专利解读-功能介绍.gif',
        'patent-batch-config': '批量专利解读-配置选项.gif',
        'patent-batch-field-selector': '批量专利解读-字段选择器.gif',
        'patent-batch-template': '批量专利解读-模板管理.gif',
        'patent-batch-cache': '批量专利解读-缓存与历史.gif',
        'patent-batch-workflow': '批量专利解读-工作流程.gif',
        
        // 功能六：权利要求处理
        'claims-processor-intro': '权利要求处理-功能介绍.gif',
        'claims-processor-visualization': '权利要求处理-可视化控制.gif',
        
        // 功能七：专利附图标记
        'drawing-marker-intro': '专利附图标记-功能介绍.gif',
        'drawing-marker-ai-panel': '专利附图标记-AI处理控制面板.gif',
        'drawing-marker-reprocess': '专利附图标记-快速重新处理.gif',
        
        // 功能八：PDF阅读与OCR
        'pdf-ocr-intro': 'PDF阅读与OCR-功能介绍.gif',
        'pdf-ocr-interface': 'PDF阅读与OCR-界面布局.gif',
        'pdf-ocr-workflow': 'PDF阅读与OCR-工作流程.gif',
        'pdf-ocr-settings': 'PDF阅读与OCR-OCR设置.gif',
        'pdf-ocr-toolbar': 'PDF阅读与OCR-查看器工具栏.gif',
        'pdf-ocr-ai-chat': 'PDF阅读与OCR-AI对话.gif',
        'pdf-ocr-export': 'PDF阅读与OCR-导出功能.gif'
    };

    // 已使用的GIF记录
    let usedGifs = new Set();

    // 开发模式检测 - 通过URL参数或localStorage启用
    const isDevMode = () => {
        // 方式1: URL参数 ?dev=1 或 ?developer=true
        const urlParams = new URLSearchParams(window.location.search);
        if (urlParams.get('dev') === '1' || urlParams.get('developer') === 'true') {
            return true;
        }
        // 方式2: localStorage设置
        if (localStorage.getItem('help_dev_mode') === 'true') {
            return true;
        }
        return false;
    };

    // 启用开发模式的方法（在控制台执行）
    window.enableDevMode = () => {
        localStorage.setItem('help_dev_mode', 'true');
        location.reload();
    };

    // 禁用开发模式
    window.disableDevMode = () => {
        localStorage.removeItem('help_dev_mode');
        location.reload();
    };

    document.addEventListener('DOMContentLoaded', () => {
        // 检查是否为开发模式
        const devMode = isDevMode();
        
        // 开发模式下显示GIF管理按钮
        if (devMode) {
            const gifManagerBtn = document.getElementById('gifManagerBtn');
            if (gifManagerBtn) {
                gifManagerBtn.style.display = 'block';
            }
            console.log('🎬 帮助页面 - 开发模式已启用');
            console.log('💡 提示: 在控制台执行 disableDevMode() 可退出开发模式');
        }

        // 初始化 Vanta.js 背景
        VANTA.NET({
            el: "#vanta-bg",
            mouseControls: true,
            touchControls: true,
            gyroControls: false,
            minHeight: 200.00,
            minWidth: 200.00,
            scale: 1.00,
            scaleMobile: 1.00,
            color: 0x22C55E,
            backgroundColor: 0xF0FDF4,
            points: 8.00,
            maxDistance: 25.00,
            spacing: 18.00
        });

        // 导航切换功能
        const navLinks = document.querySelectorAll('.sidebar-nav a');
        const contentCards = document.querySelectorAll('.content-card');

        navLinks.forEach(link => {
            link.addEventListener('click', function(e) {
                e.preventDefault();
                
                const targetId = this.getAttribute('data-target');
                
                navLinks.forEach(l => l.classList.remove('active'));
                this.classList.add('active');
                
                contentCards.forEach(card => {
                    card.classList.remove('active');
                    if (card.id === targetId) {
                        card.classList.add('active');
                    }
                });
            });
        });

        // 搜索功能
        const searchInput = document.getElementById('search-input');
        const prevBtn = document.getElementById('prev-btn');
        const nextBtn = document.getElementById('next-btn');
        const clearBtn = document.getElementById('clear-search-btn');
        const resultsInfo = document.getElementById('search-results-info');

        let matches = [];
        let currentIndex = -1;

        function clearSearch() {
            const highlighted = document.querySelectorAll('.search-highlight');
            highlighted.forEach(span => {
                const parent = span.parentNode;
                if (span.firstChild) {
                   parent.replaceChild(span.firstChild, span);
                } else {
                   parent.removeChild(span);
                }
                parent.normalize();
            });
            matches = [];
            currentIndex = -1;
            updateUI();
        }

        function performSearch() {
            clearSearch();
            const keyword = searchInput.value.trim();
            if (keyword.length < 1) return;

            const regex = new RegExp(keyword, 'gi');
            
            contentCards.forEach(card => {
                function highlightText(node) {
                    if (node.nodeType === 3) {
                        const text = node.textContent;
                        const parent = node.parentNode;
                        if (parent.tagName === 'SCRIPT' || parent.tagName === 'STYLE') return;

                        let match;
                        let lastIndex = 0;
                        const fragment = document.createDocumentFragment();

                        while ((match = regex.exec(text)) !== null) {
                            if (match.index > lastIndex) {
                                fragment.appendChild(document.createTextNode(text.substring(lastIndex, match.index)));
                            }
                            const span = document.createElement('span');
                            span.className = 'search-highlight';
                            span.textContent = match[0];
                            fragment.appendChild(span);
                            lastIndex = regex.lastIndex;
                        }

                        if (lastIndex > 0) {
                            if (lastIndex < text.length) {
                                fragment.appendChild(document.createTextNode(text.substring(lastIndex)));
                            }
                            parent.replaceChild(fragment, node);
                        }
                    } else if (node.nodeType === 1 && node.childNodes && !/^(script|style)$/i.test(node.tagName)) {
                        Array.from(node.childNodes).forEach(child => highlightText(child));
                    }
                }
                highlightText(card);
            });

            matches = Array.from(document.querySelectorAll('.search-highlight'));
            if (matches.length > 0) {
                currentIndex = 0;
                const firstMatchCard = matches[0].closest('.content-card');
                if (firstMatchCard) {
                    const cardId = firstMatchCard.id;
                    navLinks.forEach(link => {
                        if (link.getAttribute('data-target') === cardId) {
                            link.click();
                        }
                    });
                }
            }
            updateUI();
        }

        function updateUI() {
            if (searchInput.value.trim().length > 0) {
                if (matches.length > 0) {
                    resultsInfo.textContent = `${currentIndex + 1} / ${matches.length}`;
                } else {
                    resultsInfo.textContent = '无结果';
                }
                clearBtn.style.display = 'block';
            } else {
                resultsInfo.textContent = '';
                clearBtn.style.display = 'none';
            }

            prevBtn.disabled = matches.length <= 1;
            nextBtn.disabled = matches.length <= 1;

            matches.forEach((match, index) => {
                match.classList.toggle('active-highlight', index === currentIndex);
            });

            if (currentIndex !== -1 && matches[currentIndex]) {
                matches[currentIndex].scrollIntoView({
                    behavior: 'smooth',
                    block: 'center'
                });
            }
        }

        let searchTimeout;
        searchInput.addEventListener('input', () => {
            clearTimeout(searchTimeout);
            searchTimeout = setTimeout(() => {
                performSearch();
            }, 300);
        });

        searchInput.addEventListener('keydown', (e) => {
            if (e.key === 'Enter') {
                e.preventDefault();
                performSearch();
            }
        });

        nextBtn.addEventListener('click', () => {
            if (matches.length > 0) {
                currentIndex = (currentIndex + 1) % matches.length;
                const nextMatch = matches[currentIndex];
                const targetCard = nextMatch.closest('.content-card');
                if (targetCard && !targetCard.classList.contains('active')) {
                    const cardId = targetCard.id;
                    navLinks.forEach(link => {
                        if (link.getAttribute('data-target') === cardId) {
                            link.click();
                        }
                    });
                }
                updateUI();
            }
        });

        prevBtn.addEventListener('click', () => {
            if (matches.length > 0) {
                currentIndex = (currentIndex - 1 + matches.length) % matches.length;
                const prevMatch = matches[currentIndex];
                const targetCard = prevMatch.closest('.content-card');
                if (targetCard && !targetCard.classList.contains('active')) {
                    const cardId = targetCard.id;
                    navLinks.forEach(link => {
                        if (link.getAttribute('data-target') === cardId) {
                            link.click();
                        }
                    });
                }
                updateUI();
            }
        });

        clearBtn.addEventListener('click', () => {
            searchInput.value = '';
            clearSearch();
        });

        // 初始化GIF管理器
        initGifManager();
    });

    // GIF管理器功能
    function initGifManager() {
        const gifList = document.getElementById('gifList');
        gifList.innerHTML = '';

        // 生成GIF列表
        Object.entries(gifConfig).forEach(([id, filename]) => {
            const isUsed = usedGifs.has(id);
            const item = document.createElement('div');
            item.className = 'gif-item';
            item.innerHTML = `
                <div class="gif-item-preview">
                    <span>GIF</span>
                </div>
                <div class="gif-item-info">
                    <div class="gif-item-name">${filename}</div>
                    <div class="gif-item-status ${isUsed ? 'used' : ''}">
                        ${isUsed ? '✓ 已使用' : '未使用'} | ID: ${id}
                    </div>
                </div>
            `;
            item.onclick = () => insertGif(id, filename);
            gifList.appendChild(item);
        });
    }

    function openGifManager() {
        document.getElementById('gifManagerOverlay').classList.add('active');
        document.getElementById('gifManagerPanel').classList.add('active');
        initGifManager();
    }

    function closeGifManager() {
        document.getElementById('gifManagerOverlay').classList.remove('active');
        document.getElementById('gifManagerPanel').classList.remove('active');
    }

    function insertGif(gifId, filename) {
        const placeholder = document.querySelector(`[data-gif-id="${gifId}"]`);
        if (placeholder) {
            placeholder.classList.add('has-gif');
            placeholder.innerHTML = `
                <img src="help-gifs/${filename}" alt="${filename}" onerror="this.parentElement.innerHTML='<span>GIF加载失败: ${filename}</span><span class=\\'gif-label\\'>请确保文件存在于 help-gifs/ 文件夹中</span>'">
                <span class="gif-label">${filename}</span>
            `;
            usedGifs.add(gifId);
            initGifManager(); // 刷新列表状态
        }
    }

    function applyManualGif() {
        const path = document.getElementById('manualGifPath').value.trim();
        if (!path) {
            alert('请输入GIF路径');
            return;
        }

        // 查找当前显示的卡片中的第一个空占位符
        const activeCard = document.querySelector('.content-card.active');
        if (activeCard) {
            const emptyPlaceholder = activeCard.querySelector('.gif-placeholder:not(.has-gif)');
            if (emptyPlaceholder) {
                const gifId = emptyPlaceholder.getAttribute('data-gif-id');
                emptyPlaceholder.classList.add('has-gif');
                emptyPlaceholder.innerHTML = `
                    <img src="${path}" alt="${path}" onerror="this.parentElement.innerHTML='<span>GIF加载失败: ${path}</span><span class=\\'gif-label\\'>请检查路径是否正确</span>'">
                    <span class="gif-label">${path.split('/').pop()}</span>
                `;
                usedGifs.add(gifId);
                document.getElementById('manualGifPath').value = '';
                initGifManager();
            } else {
                alert('当前页面没有空的GIF占位符');
            }
        }
    }

    // 键盘快捷键（仅在开发模式下生效）
    document.addEventListener('keydown', (e) => {
        // 只在开发模式下响应快捷键
        if (!isDevMode()) return;
        
        // Ctrl/Cmd + G 打开GIF管理器
        if ((e.ctrlKey || e.metaKey) && e.key === 'g') {
            e.preventDefault();
            openGifManager();
        }
        // ESC 关闭GIF管理器
        if (e.key === 'Escape') {
            closeGifManager();
        }
    });
</script>

</body>
</html>