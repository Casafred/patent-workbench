# åŠŸèƒ½å…« OCRæ ‡æ³¨ä¼˜åŒ–å®Œæˆ âœ…

## ä¼˜åŒ–å†…å®¹

### 1. é«˜æ¸…å›¾ç‰‡æ˜¾ç¤º ğŸ¯
- **é—®é¢˜**ï¼šä¹‹å‰å›¾ç‰‡ä¼šè¢«ç¼©æ”¾å¯¼è‡´æ¨¡ç³Š
- **è§£å†³**ï¼šCanvasä½¿ç”¨åŸå§‹å›¾ç‰‡å°ºå¯¸ï¼Œä¿æŒé«˜æ¸…æ˜¾ç¤º
- **æ•ˆæœ**ï¼šå›¾ç‰‡æ¸…æ™°åº¦å¤§å¹…æå‡ï¼Œæ ‡æ³¨ç»†èŠ‚æ¸…æ™°å¯è§

### 2. ç¼©æ”¾åŠŸèƒ½ ğŸ”
- **é¼ æ ‡æ»šè½®ç¼©æ”¾**ï¼šåœ¨å›¾ç‰‡ä¸Šæ»šåŠ¨é¼ æ ‡æ»šè½®å³å¯ç¼©æ”¾
- **æŒ‰é’®ç¼©æ”¾**ï¼šæä¾› +/- æŒ‰é’®å’Œé‡ç½®æŒ‰é’®
- **ç¼©æ”¾èŒƒå›´**ï¼š50% - 300%
- **å®æ—¶æ˜¾ç¤º**ï¼šæ˜¾ç¤ºå½“å‰ç¼©æ”¾æ¯”ä¾‹ï¼ˆå¦‚ 100%ï¼‰

### 3. å¼¹çª—æŸ¥çœ‹ ğŸ“±
- **å…¨å±å¼¹çª—**ï¼šç‚¹å‡»"æ”¾å¤§æŸ¥çœ‹"æŒ‰é’®æ‰“å¼€å…¨å±å¼¹çª—
- **æ›´å¤§è§†é‡**ï¼šå¼¹çª—æ¨¡å¼ä¸‹å¯ä»¥çœ‹åˆ°æ›´å¤šç»†èŠ‚
- **ç‹¬ç«‹æ§åˆ¶**ï¼šå¼¹çª—å†…æœ‰ç‹¬ç«‹çš„ç¼©æ”¾æ§åˆ¶
- **ä¾¿æ·å…³é—­**ï¼šç‚¹å‡»èƒŒæ™¯æˆ–å…³é—­æŒ‰é’®é€€å‡º

### 4. æ™ºèƒ½å­—ä½“ ğŸ“
- **ä¿æŒæ¸…æ™°**ï¼šæ ‡æ³¨æ¡†å­—ä½“å¤§å°ä¸éšç¼©æ”¾å˜åŒ–
- **å§‹ç»ˆå¯è¯»**ï¼šæ— è®ºç¼©æ”¾æ¯”ä¾‹å¦‚ä½•ï¼Œæ–‡å­—éƒ½æ¸…æ™°å¯è¯»
- **è‡ªé€‚åº”å¸ƒå±€**ï¼šæ ‡æ³¨æ¡†å¤§å°æ ¹æ®å†…å®¹è‡ªåŠ¨è°ƒæ•´

## æ–°å¢åŠŸèƒ½

### ä¸»ç•Œé¢å¢å¼º
1. **ç¼©æ”¾æ§åˆ¶æ¡**
   - æ˜¾ç¤ºå½“å‰ç¼©æ”¾æ¯”ä¾‹
   - +/- æŒ‰é’®å¿«é€Ÿç¼©æ”¾
   - é‡ç½®æŒ‰é’®æ¢å¤100%

2. **æ”¾å¤§æŸ¥çœ‹æŒ‰é’®**
   - ç´«è‰²æŒ‰é’®ï¼Œé†’ç›®æ˜“æ‰¾
   - ä¸€é”®æ‰“å¼€å…¨å±å¼¹çª—
   - é€‚åˆæŸ¥çœ‹å¤§å›¾å’Œç»†èŠ‚

3. **å¯¼å‡ºå›¾ç‰‡æŒ‰é’®**
   - å¯¼å‡ºåŒ…å«æ ‡æ³¨çš„é«˜æ¸…å›¾ç‰‡
   - PNGæ ¼å¼ï¼Œä¿æŒé€æ˜åº¦

### å¼¹çª—åŠŸèƒ½
1. **å·¥å…·æ **
   - ç¼©æ”¾æ˜¾ç¤ºï¼šå®æ—¶æ˜¾ç¤ºç¼©æ”¾æ¯”ä¾‹
   - ç¼©å°/æ”¾å¤§æŒ‰é’®ï¼šç²¾ç¡®æ§åˆ¶ç¼©æ”¾
   - é‡ç½®æŒ‰é’®ï¼šå¿«é€Ÿæ¢å¤100%
   - å¯¼å‡ºæŒ‰é’®ï¼šç›´æ¥å¯¼å‡ºå½“å‰å›¾ç‰‡
   - å…³é—­æŒ‰é’®ï¼šé€€å‡ºå¼¹çª—

2. **äº¤äº’ä¼˜åŒ–**
   - é¼ æ ‡æ»šè½®ç¼©æ”¾
   - ç‚¹å‡»èƒŒæ™¯å…³é—­
   - æç¤ºä¿¡æ¯æ¸…æ™°

## ä½¿ç”¨æ–¹æ³•

### åŸºæœ¬æ“ä½œ
1. **æ‹–åŠ¨æ ‡æ³¨**ï¼šç‚¹å‡»å¹¶æ‹–åŠ¨æ ‡æ³¨æ¡†è°ƒæ•´ä½ç½®
2. **ç¼–è¾‘åç§°**ï¼šåŒå‡»æ ‡æ³¨æ¡†ç¼–è¾‘éƒ¨ä»¶åç§°
3. **ç¼©æ”¾å›¾ç‰‡**ï¼š
   - é¼ æ ‡æ»šè½®ï¼šåœ¨å›¾ç‰‡ä¸Šæ»šåŠ¨
   - æŒ‰é’®ï¼šç‚¹å‡» +/- æŒ‰é’®
   - é‡ç½®ï¼šç‚¹å‡»"é‡ç½®"æ¢å¤100%

### å¼¹çª—æŸ¥çœ‹
1. ç‚¹å‡»"ğŸ” æ”¾å¤§æŸ¥çœ‹"æŒ‰é’®
2. åœ¨å¼¹çª—ä¸­æŸ¥çœ‹é«˜æ¸…å¤§å›¾
3. ä½¿ç”¨å·¥å…·æ æ§åˆ¶ç¼©æ”¾
4. ç‚¹å‡»èƒŒæ™¯æˆ–å…³é—­æŒ‰é’®é€€å‡º

### å¯¼å‡ºå›¾ç‰‡
1. è°ƒæ•´æ ‡æ³¨ä½ç½®å’Œç¼©æ”¾æ¯”ä¾‹
2. ç‚¹å‡»"ğŸ“¥ å¯¼å‡ºå›¾ç‰‡"æŒ‰é’®
3. å›¾ç‰‡è‡ªåŠ¨ä¸‹è½½åˆ°æœ¬åœ°

## æŠ€æœ¯å®ç°

### Canvasä¼˜åŒ–
```javascript
// ä½¿ç”¨åŸå§‹å°ºå¯¸ä¿æŒé«˜æ¸…
this.canvas.width = this.originalWidth;
this.canvas.height = this.originalHeight;

// é€šè¿‡CSSæ§åˆ¶æ˜¾ç¤ºå°ºå¯¸
this.canvas.style.width = `${displayWidth}px`;
this.canvas.style.height = `${displayHeight}px`;
```

### ç¼©æ”¾æ§åˆ¶
```javascript
// ç¼©æ”¾èŒƒå›´ï¼š50% - 300%
this.minZoom = 0.5;
this.maxZoom = 3.0;
this.zoomStep = 0.1;

// é¼ æ ‡æ»šè½®ç¼©æ”¾
handleWheel(e) {
    const delta = e.deltaY > 0 ? -this.zoomStep : this.zoomStep;
    this.zoom = Math.max(this.minZoom, Math.min(this.maxZoom, this.zoom + delta));
}
```

### åæ ‡è½¬æ¢
```javascript
// è€ƒè™‘ç¼©æ”¾çš„åæ ‡è½¬æ¢
getMousePos(e) {
    const rect = this.canvas.getBoundingClientRect();
    const scaleX = this.canvas.width / rect.width;
    const scaleY = this.canvas.height / rect.height;
    return {
        x: (e.clientX - rect.left) * scaleX,
        y: (e.clientY - rect.top) * scaleY
    };
}
```

## æ–‡ä»¶ä¿®æ”¹

### 1. frontend/js/drawingMarkerInteractive.js
- å®Œå…¨é‡å†™ï¼Œæ”¯æŒç¼©æ”¾å’Œå¼¹çª—
- æ–°å¢ `zoom`ã€`minZoom`ã€`maxZoom` å±æ€§
- æ–°å¢ `zoomIn()`ã€`zoomOut()`ã€`resetZoom()` æ–¹æ³•
- æ–°å¢ `handleWheel()` é¼ æ ‡æ»šè½®äº‹ä»¶
- ä¼˜åŒ– `setupCanvas()` ä¿æŒé«˜æ¸…
- ä¼˜åŒ– `getMousePos()` åæ ‡è½¬æ¢

### 2. frontend/index.html
- æ·»åŠ ç¼©æ”¾æ§åˆ¶UI
- æ·»åŠ "æ”¾å¤§æŸ¥çœ‹"æŒ‰é’®
- æ·»åŠ  `zoomDrawing()` å‡½æ•°
- æ·»åŠ  `openDrawingModal()` å‡½æ•°
- æ›´æ–°äº¤äº’æç¤ºæ–‡å­—

### 3. test_interactive_marker.html
- æ›´æ–°æµ‹è¯•é¡µé¢ï¼Œå±•ç¤ºæ‰€æœ‰æ–°åŠŸèƒ½
- æ·»åŠ ç¼©æ”¾æ§åˆ¶æ¼”ç¤º
- æ·»åŠ å¼¹çª—åŠŸèƒ½æ¼”ç¤º

## æµ‹è¯•æ–¹æ³•

### æœ¬åœ°æµ‹è¯•
1. æ‰“å¼€ `test_interactive_marker.html`
2. æµ‹è¯•ç¼©æ”¾åŠŸèƒ½ï¼ˆæ»šè½®å’ŒæŒ‰é’®ï¼‰
3. æµ‹è¯•å¼¹çª—åŠŸèƒ½
4. æµ‹è¯•å¯¼å‡ºåŠŸèƒ½

### é›†æˆæµ‹è¯•
1. åœ¨ä¸»ç•Œé¢ä¸Šä¼ ä¸“åˆ©é™„å›¾
2. è¾“å…¥è¯´æ˜ä¹¦æ–‡æœ¬
3. ç‚¹å‡»"å¼€å§‹æ ‡æ³¨"
4. æµ‹è¯•æ‰€æœ‰äº¤äº’åŠŸèƒ½

## å…¼å®¹æ€§

- âœ… Chrome/Edge (æ¨è)
- âœ… Firefox
- âœ… Safari
- âœ… ç§»åŠ¨ç«¯æµè§ˆå™¨

## æ€§èƒ½ä¼˜åŒ–

1. **Canvaså¤ç”¨**ï¼šé¿å…é‡å¤åˆ›å»ºCanvas
2. **äº‹ä»¶èŠ‚æµ**ï¼šæ»šè½®äº‹ä»¶é˜²æŠ–å¤„ç†
3. **æŒ‰éœ€æ¸²æŸ“**ï¼šåªåœ¨å¿…è¦æ—¶é‡ç»˜
4. **å†…å­˜ç®¡ç†**ï¼šå¼¹çª—å…³é—­æ—¶æ¸…ç†èµ„æº

## åç»­ä¼˜åŒ–å»ºè®®

1. **æ‰‹åŠ¿æ”¯æŒ**ï¼šç§»åŠ¨ç«¯åŒæŒ‡ç¼©æ”¾
2. **å¿«æ·é”®**ï¼šCtrl+æ»šè½®ç¼©æ”¾
3. **ç¼©æ”¾ä¸­å¿ƒ**ï¼šä»¥é¼ æ ‡ä½ç½®ä¸ºä¸­å¿ƒç¼©æ”¾
4. **å¹³ç§»åŠŸèƒ½**ï¼šæ‹–åŠ¨ç”»å¸ƒå¹³ç§»è§†å›¾
5. **æ ‡æ³¨å†å²**ï¼šæ’¤é”€/é‡åšåŠŸèƒ½

## éƒ¨ç½²è¯´æ˜

### æ–‡ä»¶æ¸…å•
- `frontend/js/drawingMarkerInteractive.js` (å·²æ›´æ–°)
- `frontend/index.html` (å·²æ›´æ–°)
- `test_interactive_marker.html` (å·²æ›´æ–°)

### éƒ¨ç½²æ­¥éª¤
1. æäº¤ä»£ç åˆ°Git
2. æ¨é€åˆ°æœåŠ¡å™¨
3. æ¸…é™¤æµè§ˆå™¨ç¼“å­˜
4. æµ‹è¯•åŠŸèƒ½

### Gitå‘½ä»¤
```bash
git add frontend/js/drawingMarkerInteractive.js
git add frontend/index.html
git add test_interactive_marker.html
git add åŠŸèƒ½å…«OCRæ ‡æ³¨ä¼˜åŒ–å®Œæˆ.md
git commit -m "åŠŸèƒ½å…«OCRæ ‡æ³¨ä¼˜åŒ–ï¼šé«˜æ¸…æ˜¾ç¤º+ç¼©æ”¾+å¼¹çª—"
git push
```

## ç”¨æˆ·åé¦ˆ

å¦‚é‡åˆ°é—®é¢˜ï¼Œè¯·æ£€æŸ¥ï¼š
1. æµè§ˆå™¨æ˜¯å¦æ”¯æŒCanvas
2. å›¾ç‰‡æ˜¯å¦åŠ è½½å®Œæˆ
3. æ§åˆ¶å°æ˜¯å¦æœ‰é”™è¯¯ä¿¡æ¯
4. ç¼“å­˜æ˜¯å¦å·²æ¸…é™¤

---

**ä¼˜åŒ–å®Œæˆæ—¶é—´**ï¼š2026-01-31  
**ç‰ˆæœ¬**ï¼šv2.0  
**çŠ¶æ€**ï¼šâœ… å·²å®Œæˆï¼Œå¯éƒ¨ç½²
