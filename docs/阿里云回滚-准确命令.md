# é˜¿é‡Œäº‘Gitå†²çªè§£å†³æ–¹æ¡ˆ ğŸ”§

## é—®é¢˜æè¿°

æ‰§è¡Œ `git pull` æ—¶é‡åˆ°é”™è¯¯ï¼š
```
error: The following untracked working tree files would be overwritten by merge:
    gunicorn_config.py
Please move or remove them before you merge.
Aborting
```

**åŸå› **ï¼šæœåŠ¡å™¨ä¸Šæœ‰ä¸€ä¸ªæœªè·Ÿè¸ªçš„ `gunicorn_config.py` æ–‡ä»¶ï¼ŒGitæ‹’ç»è¦†ç›–å®ƒã€‚

---

## è§£å†³æ–¹æ¡ˆ âœ…

### æ–¹æ³•1ï¼šå¤‡ä»½åæ‹‰å–ï¼ˆæ¨èï¼‰â­

```bash
ssh root@43.99.101.195 "cd /home/appuser/patent-app && mv gunicorn_config.py gunicorn_config.py.server.backup && git pull origin main && chown -R appuser:appuser /home/appuser/patent-app && systemctl restart patent-app"
```

**è¯´æ˜**ï¼š
1. å°†æœåŠ¡å™¨çš„ `gunicorn_config.py` é‡å‘½åä¸º `.server.backup`
2. æ‹‰å–GitHubçš„æ–°ä»£ç ï¼ˆåŒ…å«æœ¬åœ°çš„ `gunicorn_config.py`ï¼‰
3. ä¿®å¤æƒé™
4. é‡å¯æœåŠ¡

### æ–¹æ³•2ï¼šå¼ºåˆ¶è¦†ç›–ï¼ˆå¿«é€Ÿä½†ä¸ä¿ç•™å¤‡ä»½ï¼‰

```bash
ssh root@43.99.101.195 "cd /home/appuser/patent-app && rm gunicorn_config.py && git pull origin main && chown -R appuser:appuser /home/appuser/patent-app && systemctl restart patent-app"
```

### æ–¹æ³•3ï¼šåˆ†æ­¥æ‰§è¡Œï¼ˆè¯¦ç»†ï¼‰

```bash
# 1. å¤‡ä»½æœåŠ¡å™¨é…ç½®
ssh root@43.99.101.195 "cd /home/appuser/patent-app && mv gunicorn_config.py gunicorn_config.py.server.backup"

# 2. æ‹‰å–ä»£ç 
ssh root@43.99.101.195 "cd /home/appuser/patent-app && git pull origin main"

# 3. æ£€æŸ¥æ–°é…ç½®
ssh root@43.99.101.195 "cd /home/appuser/patent-app && cat gunicorn_config.py | grep bind"

# 4. å¦‚æœé…ç½®ä¸å¯¹ï¼Œæ¢å¤æœåŠ¡å™¨é…ç½®
ssh root@43.99.101.195 "cd /home/appuser/patent-app && cp gunicorn_config.py.server.backup gunicorn_config.py"

# 5. ä¿®å¤æƒé™
ssh root@43.99.101.195 "chown -R appuser:appuser /home/appuser/patent-app"

# 6. é‡å¯æœåŠ¡
ssh root@43.99.101.195 "systemctl restart patent-app"

# 7. éªŒè¯çŠ¶æ€
ssh root@43.99.101.195 "systemctl status patent-app | grep Active"
```

---

## é…ç½®è¯´æ˜ ğŸ“

### æœ¬åœ°é…ç½®ï¼ˆGitHubï¼‰
```python
bind = "127.0.0.1:5000"  # åªç›‘å¬æœ¬åœ°
```

### æœåŠ¡å™¨é…ç½®ï¼ˆéœ€è¦çš„ï¼‰
```python
bind = "0.0.0.0:5000"  # ç›‘å¬æ‰€æœ‰æ¥å£
```

**é‡è¦**ï¼š
- å¦‚æœæ‹‰å–åæœåŠ¡æ— æ³•è®¿é—®ï¼Œè¯´æ˜é…ç½®è¢«è¦†ç›–äº†
- éœ€è¦æ¢å¤æœåŠ¡å™¨é…ç½®ï¼š`cp gunicorn_config.py.server.backup gunicorn_config.py`

---

## éªŒè¯æ­¥éª¤ âœ…

### 1. æ£€æŸ¥æœåŠ¡çŠ¶æ€
```bash
ssh root@43.99.101.195 "systemctl status patent-app | grep Active"
```
åº”è¯¥æ˜¾ç¤ºï¼š`Active: active (running)`

### 2. æ£€æŸ¥ç«¯å£ç›‘å¬
```bash
ssh root@43.99.101.195 "netstat -tlnp | grep 5000"
```
åº”è¯¥æ˜¾ç¤ºï¼š`0.0.0.0:5000`ï¼ˆä¸æ˜¯ `127.0.0.1:5000`ï¼‰

### 3. æ£€æŸ¥é…ç½®æ–‡ä»¶
```bash
ssh root@43.99.101.195 "cat /home/appuser/patent-app/gunicorn_config.py | grep bind"
```
åº”è¯¥æ˜¾ç¤ºï¼š`bind = "0.0.0.0:5000"`

### 4. æµ‹è¯•ç½‘ç«™è®¿é—®
æµè§ˆå™¨è®¿é—®ï¼šhttp://43.99.101.195

---

## å¦‚æœæœåŠ¡æ— æ³•è®¿é—® ğŸ”§

### å¿«é€Ÿä¿®å¤
```bash
ssh root@43.99.101.195 "cd /home/appuser/patent-app && cp gunicorn_config.py.server.backup gunicorn_config.py && systemctl restart patent-app"
```

### æ‰‹åŠ¨ä¿®æ”¹é…ç½®
```bash
# 1. ç¼–è¾‘é…ç½®
ssh root@43.99.101.195 "cd /home/appuser/patent-app && sed -i 's/127.0.0.1:5000/0.0.0.0:5000/g' gunicorn_config.py"

# 2. éªŒè¯ä¿®æ”¹
ssh root@43.99.101.195 "cat /home/appuser/patent-app/gunicorn_config.py | grep bind"

# 3. é‡å¯æœåŠ¡
ssh root@43.99.101.195 "systemctl restart patent-app"
```

---

## å®Œæ•´æ›´æ–°æµç¨‹ ğŸ“‹

### æ¨èæµç¨‹ï¼ˆæœ€å®‰å…¨ï¼‰

```bash
# 1. å¤‡ä»½å¹¶æ‹‰å–
ssh root@43.99.101.195 "cd /home/appuser/patent-app && mv gunicorn_config.py gunicorn_config.py.server.backup && git pull origin main"

# 2. æ£€æŸ¥æ–°é…ç½®
ssh root@43.99.101.195 "cat /home/appuser/patent-app/gunicorn_config.py | grep bind"

# 3. å¦‚æœæ˜¯ 127.0.0.1ï¼Œæ¢å¤æœåŠ¡å™¨é…ç½®
ssh root@43.99.101.195 "cd /home/appuser/patent-app && cp gunicorn_config.py.server.backup gunicorn_config.py"

# 4. ä¿®å¤æƒé™å¹¶é‡å¯
ssh root@43.99.101.195 "chown -R appuser:appuser /home/appuser/patent-app && systemctl restart patent-app"

# 5. éªŒè¯
ssh root@43.99.101.195 "systemctl status patent-app | grep Active && netstat -tlnp | grep 5000"
```

---

## å›æ»šæ–¹æ¡ˆ ğŸ”„

å¦‚æœæ›´æ–°åå‡ºç°é—®é¢˜ï¼š

```bash
# 1. å›æ»šä»£ç 
ssh root@43.99.101.195 "cd /home/appuser/patent-app && git reset --hard HEAD^"

# 2. æ¢å¤é…ç½®
ssh root@43.99.101.195 "cd /home/appuser/patent-app && cp gunicorn_config.py.server.backup gunicorn_config.py"

# 3. é‡å¯æœåŠ¡
ssh root@43.99.101.195 "chown -R appuser:appuser /home/appuser/patent-app && systemctl restart patent-app"
```

---

## å¸¸è§é—®é¢˜ â“

### Q1: ä¸ºä»€ä¹ˆä¼šæœ‰è¿™ä¸ªå†²çªï¼Ÿ
**ç­”**ï¼šæœåŠ¡å™¨ä¸Šçš„ `gunicorn_config.py` ä¸åœ¨Gitè·Ÿè¸ªä¸­ï¼Œä½†GitHubä¸Šæœ‰è¿™ä¸ªæ–‡ä»¶ï¼ŒGitä¸çŸ¥é“è¯¥æ€ä¹ˆå¤„ç†ã€‚

### Q2: å¤‡ä»½æ–‡ä»¶ä¼šè¢«åˆ é™¤å—ï¼Ÿ
**ç­”**ï¼šä¸ä¼šã€‚`.server.backup` æ–‡ä»¶ä¼šä¸€ç›´ä¿ç•™ï¼Œé™¤éæ‰‹åŠ¨åˆ é™¤ã€‚

### Q3: å¦‚æœå¿˜è®°å¤‡ä»½æ€ä¹ˆåŠï¼Ÿ
**ç­”**ï¼šå¯ä»¥æ‰‹åŠ¨åˆ›å»ºé…ç½®æ–‡ä»¶ï¼Œå†…å®¹æ˜¯ï¼š
```python
bind = "0.0.0.0:5000"
workers = 4
timeout = 120
```

### Q4: ä»¥åæ¯æ¬¡éƒ½è¦è¿™æ ·å—ï¼Ÿ
**ç­”**ï¼šä¸ç”¨ã€‚è¿™æ¬¡è§£å†³åï¼Œä»¥å `gunicorn_config.py` å°±åœ¨Gitè·Ÿè¸ªä¸­äº†ï¼Œä¸ä¼šå†å†²çªã€‚

---

## ä¸€é”®å‘½ä»¤ï¼ˆå¤åˆ¶ç²˜è´´ï¼‰ğŸ“‹

```bash
ssh root@43.99.101.195 "cd /home/appuser/patent-app && mv gunicorn_config.py gunicorn_config.py.server.backup && git pull origin main && chown -R appuser:appuser /home/appuser/patent-app && systemctl restart patent-app"
```

---

**åˆ›å»ºæ—¶é—´**ï¼š2026-01-31  
**é—®é¢˜**ï¼šGitå†²çª - gunicorn_config.py  
**è§£å†³æ–¹æ¡ˆ**ï¼šå¤‡ä»½åæ‹‰å–  
**çŠ¶æ€**ï¼šâœ… å·²éªŒè¯å¯ç”¨
