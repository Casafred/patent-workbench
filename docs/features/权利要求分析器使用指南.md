# 权利要求分析器使用指南

## 功能概述

权利要求分析器是一个独立的分析工具，允许用户直接输入权利要求文本，系统将自动：
- 识别独立权利要求和从属权利要求
- 分析权利要求之间的引用关系
- 生成可视化引证关系图
- 支持多种可视化样式（树状图、网络图、径向图）

## 访问方式

### 方式一：从主页面访问
在主页面顶部导航栏中，点击 **"🔍 权利要求分析器（独立页面）"** 按钮，将在新标签页中打开分析器。

### 方式二：直接访问
直接访问URL：`/frontend/claims_analyzer.html`

## 使用步骤

### 1. 输入权利要求文本

在文本框中输入权利要求内容，支持以下格式：

**中文格式：**
```
1. 一种智能手机，其特征在于，包括：
   处理器；
   存储器；
   显示屏。

2. 根据权利要求1所述的智能手机，其特征在于，所述处理器为八核处理器。

3. 根据权利要求1或2所述的智能手机，其特征在于，所述存储器容量为8GB以上。
```

**英文格式：**
```
1. A smartphone, comprising:
   a processor;
   a memory;
   a display.

2. The smartphone according to claim 1, wherein the processor is an octa-core processor.

3. The smartphone according to claim 1 or 2, wherein the memory capacity is 8GB or more.
```

**日文格式：**
```
1. スマートフォンであって、
   プロセッサと、
   メモリと、
   ディスプレイと、を備える。

2. 請求項1に記載のスマートフォンであって、前記プロセッサは8コアプロセッサである。
```

### 2. 开始分析

点击 **"🔍 开始分析"** 按钮，系统将自动：
- 解析权利要求文本
- 识别权利要求编号
- 提取引用关系
- 分类独立权利要求和从属权利要求

### 3. 查看结果

分析完成后，页面将显示：

#### 统计信息
- 总权利要求数
- 独立权利要求数量
- 从属权利要求数量

#### 权利要求列表
- **独立权利要求**：高亮显示，蓝色标记
- **从属权利要求**：灰色显示，包含引用信息

#### 可视化引证关系图
自动生成权利要求之间的引用关系图，支持三种样式：

1. **树状图**：层次清晰，适合查看引用链
2. **网络图**：可拖拽节点，适合复杂关系
3. **径向图**：环形布局，美观大方

### 4. 可视化控制

#### 样式切换
使用下拉菜单选择不同的可视化样式。

#### 散开程度（仅树状图）
使用滑块调整树状图的节点间距，范围：0.5x - 2.5x

#### 缩放控制
- **🔍+**：放大视图
- **🔍-**：缩小视图
- **⚪**：重置缩放
- **🎯**：居中显示

#### 截图保存
点击 **📷** 按钮，将当前可视化图表保存为SVG格式。

## 功能特点

### 1. 智能识别
- 自动识别多种权利要求编号格式
- 支持中英日韩等多语言
- 智能提取引用关系

### 2. 高亮显示
- 独立权利要求：蓝色高亮
- 从属权利要求：灰色显示
- 清晰区分不同类型

### 3. 交互式可视化
- 支持鼠标拖拽
- 支持缩放和平移
- 节点悬停显示详细信息

### 4. 多种布局
- 树状图：适合层次结构
- 网络图：适合复杂关系
- 径向图：适合美观展示

## 示例数据

点击 **"📄 加载示例"** 按钮，可以加载预置的示例数据，包含：
- 2个独立权利要求
- 6个从属权利要求
- 多种引用关系

## 与功能七的区别

| 特性 | 权利要求分析器 | 功能七（Excel处理） |
|------|---------------|-------------------|
| 输入方式 | 直接文本输入 | Excel文件上传 |
| 使用场景 | 快速分析单个专利 | 批量处理多个专利 |
| 专利号 | 不需要 | 需要专利号列 |
| 数据来源 | 手动输入/复制粘贴 | Excel表格 |
| 处理速度 | 即时 | 需要后台处理 |
| 导出功能 | SVG截图 | Excel/JSON导出 |

## 技术实现

### 前端技术
- **D3.js**：可视化渲染
- **原生JavaScript**：文本解析和分析
- **CSS3**：样式和动画

### 解析算法
1. **文本分割**：按行分割，识别权利要求边界
2. **编号提取**：正则表达式匹配多种格式
3. **引用分析**：提取"根据权利要求X"等引用模式
4. **类型分类**：根据是否有引用判断独立/从属

### 可视化算法
- **树状图**：D3 Tree Layout
- **网络图**：D3 Force Simulation
- **径向图**：D3 Radial Tree Layout

## 常见问题

### Q1: 为什么有些权利要求没有被识别？
**A:** 请确保权利要求格式正确，包含明确的编号（如"1."或"权利要求1"）。

### Q2: 如何处理复杂的引用关系？
**A:** 系统支持多种引用格式，如"权利要求1或2"、"权利要求1至3"等。

### Q3: 可以保存分析结果吗？
**A:** 可以使用截图功能保存可视化图表为SVG格式。

### Q4: 支持哪些语言？
**A:** 支持中文、英文、日文、韩文等多种语言的权利要求文本。

## 最佳实践

1. **格式规范**：确保每条权利要求有明确的编号
2. **完整输入**：包含完整的权利要求文本，不要省略
3. **引用清晰**：使用标准的引用格式
4. **分批分析**：对于大量权利要求，建议分批分析

## 更新日志

### v1.0.0 (2026-01-22)
- ✨ 初始版本发布
- ✅ 支持文本输入和解析
- ✅ 独立/从属权利要求识别
- ✅ 三种可视化样式
- ✅ 交互式缩放和控制
- ✅ 示例数据加载

## 反馈与建议

如有问题或建议，请联系技术支持团队。
