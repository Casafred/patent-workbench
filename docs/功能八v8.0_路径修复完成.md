# åŠŸèƒ½å…« v8.0 - JSæ–‡ä»¶è·¯å¾„ä¿®å¤å®Œæˆ

## é—®é¢˜æè¿°
éƒ¨ç½²åˆ°æœåŠ¡å™¨åï¼Œæµè§ˆå™¨æŠ¥é”™ï¼š
```
Uncaught ReferenceError: MultiImageViewerV8 is not defined
```

## é—®é¢˜åŸå› 
JSæ–‡ä»¶è·¯å¾„é…ç½®é”™è¯¯ã€‚åŸè·¯å¾„ `js/multiImageViewer_v8.js` æ— æ³•æ­£ç¡®åŠ è½½æ–‡ä»¶ã€‚

### æ–‡ä»¶ç»“æ„è¯´æ˜
é¡¹ç›®ä¸­å­˜åœ¨ä¸¤ä¸ª `js` ç›®å½•ï¼š
- `js/` (æ ¹ç›®å½•) - åŒ…å«å¤§éƒ¨åˆ†JSæ–‡ä»¶
- `frontend/js/` - åŒ…å«v8.0æ–°å¢çš„JSæ–‡ä»¶

ç”±äº `index.html` ä½äº `frontend/` ç›®å½•ï¼Œä¸”æœåŠ¡å™¨é…ç½® `static_url_path=''`ï¼Œæ‰€ä»¥ï¼š
- ä½¿ç”¨ `../js/` è®¿é—®æ ¹ç›®å½•çš„ `js/` æ–‡ä»¶å¤¹
- ä½¿ç”¨ `frontend/js/` è®¿é—® `frontend/js/` æ–‡ä»¶å¤¹

## ä¿®å¤æ–¹æ¡ˆ
å°† `frontend/index.html` ç¬¬1591è¡Œçš„è·¯å¾„ä»ï¼š
```html
<script src="js/multiImageViewer_v8.js?v=20260201"></script>
```

ä¿®æ”¹ä¸ºï¼š
```html
<script src="frontend/js/multiImageViewer_v8.js?v=20260201"></script>
```

## å·²å®Œæˆæ“ä½œ
1. âœ… ä¿®æ”¹ `frontend/index.html` ä¸­çš„JSæ–‡ä»¶è·¯å¾„
2. âœ… æäº¤åˆ°Git (commit: 3fdbfe0)
3. âœ… æ¨é€åˆ°GitHub

## æœåŠ¡å™¨éƒ¨ç½²æ­¥éª¤

### æ–¹æ³•ä¸€ï¼šä»GitHubæ‹‰å–ï¼ˆæ¨èï¼‰
```bash
# SSHè¿æ¥åˆ°æœåŠ¡å™¨
ssh root@47.115.229.99

# è¿›å…¥é¡¹ç›®ç›®å½•
cd /root/patent-workbench

# æ‹‰å–æœ€æ–°ä»£ç 
git pull origin main

# é‡å¯æœåŠ¡
systemctl restart patent-workbench
```

### æ–¹æ³•äºŒï¼šæ‰‹åŠ¨ä¿®æ”¹
å¦‚æœGitæ‹‰å–å¤±è´¥ï¼Œå¯ä»¥ç›´æ¥åœ¨æœåŠ¡å™¨ä¸Šä¿®æ”¹ï¼š
```bash
# SSHè¿æ¥åˆ°æœåŠ¡å™¨
ssh root@47.115.229.99

# ç¼–è¾‘æ–‡ä»¶
nano /root/patent-workbench/frontend/index.html

# æ‰¾åˆ°ç¬¬1591è¡Œï¼Œå°†ï¼š
# <script src="js/multiImageViewer_v8.js?v=20260201"></script>
# æ”¹ä¸ºï¼š
# <script src="frontend/js/multiImageViewer_v8.js?v=20260201"></script>

# ä¿å­˜å¹¶é€€å‡º (Ctrl+X, Y, Enter)

# é‡å¯æœåŠ¡
systemctl restart patent-workbench
```

## éªŒè¯æ­¥éª¤
1. è®¿é—® https://ipx.asia/app
2. ç™»å½•ç³»ç»Ÿ
3. åˆ‡æ¢åˆ°"åŠŸèƒ½å…«ï¼šä¸“åˆ©é™„å›¾æ ‡è®°"
4. ä¸Šä¼ é™„å›¾å¹¶è¿›è¡ŒOCRè¯†åˆ«
5. ç‚¹å‡»"ğŸ“· å¤šå›¾æŸ¥çœ‹å™¨"æŒ‰é’®
6. ç¡®è®¤å¤šå›¾æŸ¥çœ‹å™¨æ­£å¸¸æ‰“å¼€ï¼Œæ— æ§åˆ¶å°é”™è¯¯

## é¢„æœŸç»“æœ
- âœ… å¤šå›¾æŸ¥çœ‹å™¨æ­£å¸¸æ‰“å¼€
- âœ… å¯ä»¥å·¦å³åˆ‡æ¢å›¾ç‰‡
- âœ… ä¾§è¾¹æ åŠŸèƒ½æ­£å¸¸ï¼ˆå­—ä½“ã€æ—‹è½¬ã€ç¼©æ”¾ã€æ ‡æ³¨åˆ—è¡¨ï¼‰
- âœ… åŒå‡»æ·»åŠ æ‰‹åŠ¨æ ‡æ³¨åŠŸèƒ½æ­£å¸¸
- âœ… æ— æµè§ˆå™¨æ§åˆ¶å°é”™è¯¯

## æŠ€æœ¯ç»†èŠ‚

### Flaské™æ€æ–‡ä»¶é…ç½®
```python
static_folder_path = os.path.join(os.path.dirname(os.path.abspath(__file__)), '.')
app = Flask(__name__, static_folder=static_folder_path, static_url_path='')
```

è¿™ä¸ªé…ç½®æ„å‘³ç€ï¼š
- é™æ€æ–‡ä»¶æ ¹ç›®å½•æ˜¯é¡¹ç›®æ ¹ç›®å½•
- URLè·¯å¾„ç›´æ¥æ˜ å°„åˆ°æ–‡ä»¶ç³»ç»Ÿè·¯å¾„
- `/frontend/js/file.js` å¯¹åº”æ–‡ä»¶ç³»ç»Ÿçš„ `frontend/js/file.js`

### è·¯å¾„å¯¹æ¯”
| åŸè·¯å¾„ | æ–°è·¯å¾„ | è¯´æ˜ |
|--------|--------|------|
| `js/multiImageViewer_v8.js` | `frontend/js/multiImageViewer_v8.js` | âœ… æ­£ç¡® |
| `../js/state.js` | `../js/state.js` | âœ… è®¿é—®æ ¹ç›®å½•jsæ–‡ä»¶å¤¹ |

## ç›¸å…³æ–‡ä»¶
- `frontend/index.html` - ä¸»é¡µé¢ï¼ˆå·²ä¿®å¤ï¼‰
- `frontend/js/multiImageViewer_v8.js` - å¤šå›¾æŸ¥çœ‹å™¨ç±»
- `frontend/js/drawingMarkerInteractive_v8.js` - å•å›¾æ ‡æ³¨å™¨ç±»ï¼ˆæµ‹è¯•ç”¨ï¼‰

## Gitæäº¤ä¿¡æ¯
```
commit 3fdbfe0
ä¿®å¤åŠŸèƒ½å…«v8.0 JSæ–‡ä»¶è·¯å¾„é—®é¢˜ - ä½¿ç”¨æ­£ç¡®çš„frontend/js/è·¯å¾„
```

---
**ä¿®å¤å®Œæˆæ—¶é—´**: 2026-02-01
**ä¿®å¤äººå‘˜**: Kiro AI Assistant
**çŠ¶æ€**: âœ… å·²æ¨é€åˆ°GitHubï¼Œç­‰å¾…æœåŠ¡å™¨éƒ¨ç½²
