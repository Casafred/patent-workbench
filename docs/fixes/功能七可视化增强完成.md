# åŠŸèƒ½ä¸ƒå¯è§†åŒ–å¢å¼ºå®Œæˆ

## æ›´æ–°æ—¶é—´
2026-01-21

## æ”¹è¿›å†…å®¹

### 1. âœ… æ˜¾ç¤ºExcelåŸè¡¨è¡Œå·
**é—®é¢˜**: é€‰ä¸­ä¸€ä¸ªå…¬å¼€å·æŸ¥çœ‹æ—¶ï¼Œå…¶ExcelåŸè¡¨è¡Œå·å¹¶æ²¡æœ‰æ˜¾ç¤º

**è§£å†³æ–¹æ¡ˆ**:
- åœ¨å…¬å¼€å·ä¸ç‹¬æƒåˆå¹¶è§†çª—ä¸­ï¼Œä¸ºæ¯ä¸ªä¸“åˆ©å·æ·»åŠ Excelè¡Œå·æ˜¾ç¤º
- è¡Œå·ä»¥å¾½ç« å½¢å¼æ˜¾ç¤ºåœ¨ä¸“åˆ©å·ä¸‹æ–¹
- æ ¼å¼ï¼š`Excelè¡Œå·: X`
- åªæœ‰å½“è¡Œå·æœ‰æ•ˆæ—¶æ‰æ˜¾ç¤º

**ä»£ç ä½ç½®**: 
- `js/claimsProcessorIntegrated.js` - `showClaimsPatentSummarySection()` å‡½æ•°
- `frontend/css/pages/claims.css` - `.row-index-badge` æ ·å¼

### 2. âœ… ç‹¬æƒåˆå¹¶æ˜¾ç¤ºä¼˜åŒ–
**é—®é¢˜**: ç‹¬æƒåˆå¹¶æ˜¾ç¤ºéƒ¨åˆ†ï¼Œåˆå¹¶çš„ç‹¬æƒéœ€è¦æ˜¾ç¤ºå…¶åºå·ï¼Œå¹¶ä¸”éœ€è¦æ¢è¡Œæ˜¾ç¤ºï¼Œç°åœ¨éƒ½æŒ¤åœ¨ä¸€èµ·äº†

**è§£å†³æ–¹æ¡ˆ**:
- ä¸ºæ¯ä¸ªç‹¬ç«‹æƒåˆ©è¦æ±‚æ·»åŠ åºå·ï¼ˆ1. 2. 3. ...ï¼‰
- ä½¿ç”¨æ¢è¡Œç¬¦ï¼ˆ`\n\n`ï¼‰åˆ†éš”ä¸åŒçš„ç‹¬ç«‹æƒåˆ©è¦æ±‚
- ä½¿ç”¨ `white-space: pre-wrap` ä¿æŒæ¢è¡Œæ ¼å¼
- å¢åŠ æ˜¾ç¤ºåŒºåŸŸé«˜åº¦ä»100pxåˆ°150pxï¼Œæä¾›æ›´å¥½çš„é˜…è¯»ä½“éªŒ

**ä»£ç ä½ç½®**:
- `js/claimsProcessorIntegrated.js` - `showClaimsPatentSummarySection()` å‡½æ•°
- `frontend/css/pages/claims.css` - `.merged-claims-content` æ ·å¼

**ç¤ºä¾‹è¾“å‡º**:
```
1. ä¸€ç§æ™ºèƒ½æ‰‹æœºï¼ŒåŒ…æ‹¬...

2. æ ¹æ®æƒåˆ©è¦æ±‚1æ‰€è¿°çš„æ™ºèƒ½æ‰‹æœºï¼Œå…¶ç‰¹å¾åœ¨äº...

3. ä¸€ç§ç”µå­è®¾å¤‡ï¼ŒåŒ…æ‹¬...
```

### 3. âœ… ç½‘ç»œå›¾ç®­å¤´æŒ‡å‘
**é—®é¢˜**: ç½‘ç»œå›¾çš„å¼•ç”¨çº¿æ¡æ²¡æœ‰ç®­å¤´æŒ‡å‘ï¼Œçœ‹ä¸å‡ºå¼•ç”¨çš„æœå‘

**è§£å†³æ–¹æ¡ˆ**:
- ä½¿ç”¨SVGçš„ `<marker>` å…ƒç´ å®šä¹‰ç®­å¤´æ ‡è®°
- ç®­å¤´ID: `arrowhead`
- ç®­å¤´æ ·å¼: ä¸‰è§’å½¢ï¼Œç°è‰²å¡«å……
- ç®­å¤´ä½ç½®: çº¿æ¡æœ«ç«¯ï¼ˆ`marker-end`ï¼‰
- ç®­å¤´å¤§å°: 8x8åƒç´ 
- å¼•ç”¨æ–¹å‘: ä»è¢«å¼•ç”¨çš„æƒåˆ©è¦æ±‚æŒ‡å‘å¼•ç”¨å®ƒçš„æƒåˆ©è¦æ±‚

**ä»£ç ä½ç½®**:
- `js/claimsProcessorIntegrated.js` - `renderNetwork()` æ–¹æ³•

**æŠ€æœ¯ç»†èŠ‚**:
```javascript
// å®šä¹‰ç®­å¤´æ ‡è®°
this.svg.append('defs').append('marker')
    .attr('id', 'arrowhead')
    .attr('viewBox', '-0 -5 10 10')
    .attr('refX', 25)  // ç®­å¤´ä½ç½®åç§»
    .attr('refY', 0)
    .attr('orient', 'auto')  // è‡ªåŠ¨æ—‹è½¬
    .attr('markerWidth', 8)
    .attr('markerHeight', 8)
    .append('svg:path')
    .attr('d', 'M 0,-5 L 10 ,0 L 0,5')  // ä¸‰è§’å½¢è·¯å¾„
    .attr('fill', '#999');

// åº”ç”¨ç®­å¤´åˆ°è¿çº¿
.attr('marker-end', 'url(#arrowhead)');
```

### 4. âœ… æ ‘çŠ¶å›¾æ•£å¼€ç¨‹åº¦è°ƒèŠ‚
**é—®é¢˜**: æ ‘çŠ¶å›¾ç°åœ¨éƒ½æŒ¤åœ¨ä¸€èµ·äº†ï¼Œä¸å¤ªç¾è§‚ï¼Œè¦å¯ä»¥è°ƒèŠ‚æ•£å¼€çš„ç¨‹åº¦

**è§£å†³æ–¹æ¡ˆ**:
- æ·»åŠ æ»‘åŠ¨æ¡æ§ä»¶è°ƒèŠ‚æ•£å¼€ç¨‹åº¦
- èŒƒå›´: 0.5x - 2.5xï¼ˆé»˜è®¤1.0xï¼‰
- æ­¥è¿›: 0.1x
- å®æ—¶æ˜¾ç¤ºå½“å‰å€æ•°
- åªåœ¨æ ‘çŠ¶å›¾æ¨¡å¼ä¸‹æ˜¾ç¤ºè¯¥æ§ä»¶
- è°ƒèŠ‚æ—¶å®æ—¶é‡æ–°æ¸²æŸ“æ ‘çŠ¶å›¾

**UIç»„ä»¶**:
- æ»‘åŠ¨æ¡: `<input type="range" id="claims_tree_spread_slider">`
- æ•°å€¼æ˜¾ç¤º: `<span id="claims_tree_spread_value">1.0x</span>`
- æ ‡ç­¾: "æ•£å¼€:"

**ä»£ç ä½ç½®**:
- `frontend/index.html` - å¯è§†åŒ–æ§åˆ¶åŒºåŸŸ
- `js/claimsProcessorIntegrated.js` - `initClaimsProcessor()` å’Œ `setTreeSpreadFactor()` æ–¹æ³•
- `js/claimsProcessorIntegrated.js` - `renderTree()` æ–¹æ³•åº”ç”¨æ•£å¼€å› å­

**å®ç°åŸç†**:
```javascript
// åº”ç”¨æ•£å¼€å› å­åˆ°æ ‘å¸ƒå±€
const spreadFactor = this.treeSpreadFactor || 1.0;
const treeHeight = ((this.height - 100) / treesCount) * spreadFactor;
const treeLayout = d3.tree()
    .size([treeHeight, ((this.width - 200) / 2) * spreadFactor]);
```

### 5. âœ… ç½‘ç»œå›¾é«˜æ¸…æˆªå›¾åŠŸèƒ½
**é—®é¢˜**: å¸Œæœ›åœ¨ç½‘ç»œå›¾éƒ¨åˆ†å¢åŠ ä¸€ä¸ªé«˜æ¸…æˆªå›¾å½“å‰ç½‘ç»œçš„åŠŸèƒ½

**è§£å†³æ–¹æ¡ˆ**:
- æ·»åŠ æˆªå›¾æŒ‰é’®ï¼ˆğŸ“·å›¾æ ‡ï¼‰
- å¯¼å‡ºæ ¼å¼: SVGï¼ˆçŸ¢é‡å›¾ï¼Œæ— æŸè´¨é‡ï¼‰
- æ–‡ä»¶å‘½å: `claims_visualization_TIMESTAMP.svg`
- åŒ…å«å®Œæ•´çš„SVGå‘½åç©ºé—´
- æ”¯æŒæ‰€æœ‰å¯è§†åŒ–æ ·å¼ï¼ˆæ ‘çŠ¶å›¾ã€ç½‘ç»œå›¾ã€å¾„å‘å›¾ï¼‰

**UIç»„ä»¶**:
- æŒ‰é’®: `<button id="claims_screenshot_btn">ğŸ“·</button>`
- æç¤ºæ–‡æœ¬: "é«˜æ¸…æˆªå›¾"

**ä»£ç ä½ç½®**:
- `frontend/index.html` - å¯è§†åŒ–æ§åˆ¶åŒºåŸŸ
- `js/claimsProcessorIntegrated.js` - `captureHighResScreenshot()` æ–¹æ³•

**æŠ€æœ¯å®ç°**:
```javascript
captureHighResScreenshot() {
    // 1. è·å–SVGå…ƒç´ 
    const svgElement = this.svg.node();
    
    // 2. åºåˆ—åŒ–ä¸ºå­—ç¬¦ä¸²
    const serializer = new XMLSerializer();
    let svgString = serializer.serializeToString(svgElement);
    
    // 3. æ·»åŠ å¿…è¦çš„å‘½åç©ºé—´
    svgString = svgString.replace(/^<svg/, 
        '<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"');
    
    // 4. åˆ›å»ºBlobå¹¶ä¸‹è½½
    const blob = new Blob([svgString], { type: 'image/svg+xml;charset=utf-8' });
    const url = URL.createObjectURL(blob);
    
    // 5. è§¦å‘ä¸‹è½½
    const downloadLink = document.createElement('a');
    downloadLink.href = url;
    downloadLink.download = `claims_visualization_${Date.now()}.svg`;
    downloadLink.click();
}
```

**SVGä¼˜åŠ¿**:
- çŸ¢é‡æ ¼å¼ï¼Œæ— é™æ”¾å¤§ä¸å¤±çœŸ
- æ–‡ä»¶ä½“ç§¯å°
- å¯åœ¨æµè§ˆå™¨ä¸­ç›´æ¥æŸ¥çœ‹
- å¯ç”¨Adobe Illustratorç­‰å·¥å…·ç¼–è¾‘
- å¯è½¬æ¢ä¸ºPNG/PDFç­‰æ ¼å¼

## ç”¨æˆ·ä½“éªŒæ”¹è¿›

### è§†è§‰æ”¹è¿›
1. **è¡Œå·å¾½ç« **: ç°è‰²èƒŒæ™¯ï¼Œåœ†è§’è®¾è®¡ï¼Œæ¸…æ™°æ˜“è¯»
2. **ç‹¬æƒåºå·**: è‡ªåŠ¨ç¼–å·ï¼Œæ®µè½åˆ†æ˜
3. **ç®­å¤´æŒ‡å‘**: æ¸…æ™°çš„å¼•ç”¨å…³ç³»æ–¹å‘
4. **æ•£å¼€æ§åˆ¶**: å®æ—¶é¢„è§ˆï¼Œæµç•…äº¤äº’

### äº¤äº’æ”¹è¿›
1. **æ»‘åŠ¨æ¡**: ç›´è§‚çš„æ•£å¼€ç¨‹åº¦è°ƒèŠ‚
2. **ä¸€é”®æˆªå›¾**: å¿«é€Ÿä¿å­˜é«˜è´¨é‡å›¾è¡¨
3. **æ™ºèƒ½æ˜¾ç¤º**: æ ‘çŠ¶å›¾æ¨¡å¼æ‰æ˜¾ç¤ºæ•£å¼€æ§åˆ¶
4. **å®æ—¶åé¦ˆ**: æ“ä½œåç«‹å³æ˜¾ç¤ºç»“æœ

### åŠŸèƒ½å®Œæ•´æ€§
- âœ… æ‰€æœ‰å¯è§†åŒ–æ ·å¼éƒ½æ”¯æŒæˆªå›¾
- âœ… æ ‘çŠ¶å›¾æ•£å¼€ç¨‹åº¦å¯ç²¾ç¡®æ§åˆ¶
- âœ… ç½‘ç»œå›¾å¼•ç”¨æ–¹å‘æ¸…æ™°å¯è§
- âœ… ç‹¬æƒå†…å®¹ç»“æ„åŒ–æ˜¾ç¤º
- âœ… Excelè¡Œå·å‡†ç¡®æ˜¾ç¤º

## æµ‹è¯•å»ºè®®

### åŠŸèƒ½æµ‹è¯•
1. **è¡Œå·æ˜¾ç¤ºæµ‹è¯•**
   - ä¸Šä¼ åŒ…å«å¤šè¡Œæ•°æ®çš„Excel
   - éªŒè¯æ¯ä¸ªä¸“åˆ©å·ä¸‹æ–¹æ˜¾ç¤ºæ­£ç¡®çš„è¡Œå·
   - æµ‹è¯•æ— è¡Œå·æ•°æ®çš„å¤„ç†

2. **ç‹¬æƒæ˜¾ç¤ºæµ‹è¯•**
   - æµ‹è¯•å•ä¸ªç‹¬æƒçš„æ˜¾ç¤º
   - æµ‹è¯•å¤šä¸ªç‹¬æƒçš„åºå·å’Œæ¢è¡Œ
   - éªŒè¯é•¿æ–‡æœ¬çš„æ»šåŠ¨æ˜¾ç¤º

3. **ç®­å¤´æŒ‡å‘æµ‹è¯•**
   - åˆ‡æ¢åˆ°ç½‘ç»œå›¾æ¨¡å¼
   - éªŒè¯æ‰€æœ‰è¿çº¿éƒ½æœ‰ç®­å¤´
   - æ£€æŸ¥ç®­å¤´æ–¹å‘æ˜¯å¦æ­£ç¡®

4. **æ•£å¼€ç¨‹åº¦æµ‹è¯•**
   - è°ƒèŠ‚æ»‘åŠ¨æ¡åˆ°ä¸åŒå€¼
   - éªŒè¯æ ‘çŠ¶å›¾å®æ—¶æ›´æ–°
   - æµ‹è¯•æç«¯å€¼ï¼ˆ0.5xå’Œ2.5xï¼‰

5. **æˆªå›¾åŠŸèƒ½æµ‹è¯•**
   - åœ¨ä¸åŒå¯è§†åŒ–æ ·å¼ä¸‹æˆªå›¾
   - éªŒè¯SVGæ–‡ä»¶å¯æ­£å¸¸æ‰“å¼€
   - æ£€æŸ¥æ–‡ä»¶å‘½åæ˜¯å¦æ­£ç¡®

### å…¼å®¹æ€§æµ‹è¯•
- Chromeæµè§ˆå™¨
- Firefoxæµè§ˆå™¨
- Edgeæµè§ˆå™¨
- Safariæµè§ˆå™¨ï¼ˆMacï¼‰

### æ€§èƒ½æµ‹è¯•
- å¤§é‡æƒåˆ©è¦æ±‚æ•°æ®ï¼ˆ100+ï¼‰
- å¤æ‚å¼•ç”¨å…³ç³»
- é¢‘ç¹è°ƒèŠ‚æ•£å¼€ç¨‹åº¦
- å¤šæ¬¡æˆªå›¾æ“ä½œ

## éƒ¨ç½²è¯´æ˜

### æ–‡ä»¶å˜æ›´
1. `js/claimsProcessorIntegrated.js` - ä¸»è¦é€»è¾‘æ›´æ–°
2. `frontend/index.html` - UIæ§ä»¶æ·»åŠ 
3. `frontend/css/pages/claims.css` - æ ·å¼ä¼˜åŒ–

### éƒ¨ç½²æ­¥éª¤
1. æäº¤ä»£ç åˆ°Gitä»“åº“
2. æ¨é€åˆ°è¿œç¨‹ä»“åº“
3. è§¦å‘è‡ªåŠ¨éƒ¨ç½²ï¼ˆå¦‚æœé…ç½®äº†CI/CDï¼‰
4. æˆ–æ‰‹åŠ¨éƒ¨ç½²åˆ°æœåŠ¡å™¨

### éªŒè¯æ¸…å•
- [ ] è¡Œå·æ­£ç¡®æ˜¾ç¤º
- [ ] ç‹¬æƒå¸¦åºå·å¹¶æ¢è¡Œ
- [ ] ç½‘ç»œå›¾æœ‰ç®­å¤´
- [ ] æ•£å¼€æ§åˆ¶æ­£å¸¸å·¥ä½œ
- [ ] æˆªå›¾åŠŸèƒ½å¯ç”¨
- [ ] æ‰€æœ‰æµè§ˆå™¨å…¼å®¹

## åç»­ä¼˜åŒ–å»ºè®®

### çŸ­æœŸä¼˜åŒ–
1. æ·»åŠ PNGæ ¼å¼æˆªå›¾é€‰é¡¹ï¼ˆé€‚åˆç›´æ¥æ’å…¥æ–‡æ¡£ï¼‰
2. æ”¯æŒè‡ªå®šä¹‰ç®­å¤´é¢œè‰²å’Œå¤§å°
3. æ·»åŠ æ•£å¼€ç¨‹åº¦é¢„è®¾å€¼ï¼ˆç´§å‡‘ã€æ ‡å‡†ã€å®½æ¾ï¼‰
4. ä¼˜åŒ–å¤§æ•°æ®é‡ä¸‹çš„æ¸²æŸ“æ€§èƒ½

### é•¿æœŸä¼˜åŒ–
1. æ”¯æŒå¯¼å‡ºä¸ºPDFæ ¼å¼
2. æ·»åŠ å¯è§†åŒ–ä¸»é¢˜åˆ‡æ¢
3. æ”¯æŒè‡ªå®šä¹‰èŠ‚ç‚¹é¢œè‰²å’Œæ ·å¼
4. æ·»åŠ å¯è§†åŒ–åŠ¨ç”»æ•ˆæœ
5. æ”¯æŒ3Då¯è§†åŒ–æ¨¡å¼

## ç›¸å…³æ–‡æ¡£
- [åŠŸèƒ½ä¸ƒæ•´ç†å®Œæˆ](./åŠŸèƒ½ä¸ƒæ•´ç†å®Œæˆ.md)
- [æƒåˆ©è¦æ±‚å¯è§†åŒ–UIä¿®å¤å®Œæˆ](./æƒåˆ©è¦æ±‚å¯è§†åŒ–UIä¿®å¤å®Œæˆ.md)
- [æƒåˆ©è¦æ±‚å¤„ç†å™¨ä¿®å¤æ€»ç»“](./æƒåˆ©è¦æ±‚å¤„ç†å™¨ä¿®å¤æ€»ç»“.md)

## æ›´æ–°æ—¥å¿—
- 2026-01-21: å®Œæˆæ‰€æœ‰5é¡¹å¯è§†åŒ–å¢å¼ºåŠŸèƒ½
  - Excelè¡Œå·æ˜¾ç¤º
  - ç‹¬æƒåºå·å’Œæ¢è¡Œ
  - ç½‘ç»œå›¾ç®­å¤´
  - æ ‘çŠ¶å›¾æ•£å¼€æ§åˆ¶
  - é«˜æ¸…æˆªå›¾åŠŸèƒ½
