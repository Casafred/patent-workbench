# åŠŸèƒ½å…« v8.0 - å¿«é€Ÿéƒ¨ç½²æŒ‡å—

## ğŸš€ ä¸€é”®æµ‹è¯•

### æ–¹å¼ä¸€ï¼šæœ¬åœ°æµ‹è¯•ï¼ˆæ¨èï¼‰
```bash
# ç›´æ¥ç”¨æµè§ˆå™¨æ‰“å¼€
test_multi_image_viewer_v8.html
```

### æ–¹å¼äºŒï¼šé›†æˆåˆ°ç°æœ‰ç³»ç»Ÿ
```bash
# 1. å¤åˆ¶æ–‡ä»¶åˆ°é¡¹ç›®
cp frontend/js/multiImageViewer_v8.js ä½ çš„é¡¹ç›®/js/
cp frontend/js/drawingMarkerInteractive_v8.js ä½ çš„é¡¹ç›®/js/

# 2. åœ¨ HTML ä¸­å¼•å…¥
<script src="js/multiImageViewer_v8.js"></script>
```

## ğŸ“¦ æ–‡ä»¶æ¸…å•

### æ ¸å¿ƒæ–‡ä»¶ï¼ˆå¿…éœ€ï¼‰
```
frontend/js/
â”œâ”€â”€ multiImageViewer_v8.js           # å¤šå›¾æŸ¥çœ‹å™¨ï¼ˆæ¨èï¼‰
â””â”€â”€ drawingMarkerInteractive_v8.js   # å•å›¾æ ‡æ³¨å™¨
```

### æµ‹è¯•æ–‡ä»¶ï¼ˆå¯é€‰ï¼‰
```
test_multi_image_viewer_v8.html      # å¤šå›¾æµ‹è¯•é¡µé¢
test_interactive_marker_v8.html      # å•å›¾æµ‹è¯•é¡µé¢
```

### æ–‡æ¡£æ–‡ä»¶ï¼ˆå‚è€ƒï¼‰
```
åŠŸèƒ½å…«v8.0_å®Œæ•´åŠŸèƒ½ç‰ˆ.md             # å®Œæ•´åŠŸèƒ½è¯´æ˜
åŠŸèƒ½å…«v8.0_å¿«é€Ÿéƒ¨ç½².md               # æœ¬æ–‡ä»¶
```

## ğŸ’» ä»£ç ç¤ºä¾‹

### æœ€ç®€å•çš„ä½¿ç”¨æ–¹å¼

```html
<!DOCTYPE html>
<html>
<head>
    <title>v8.0 æµ‹è¯•</title>
</head>
<body>
    <button onclick="openViewer()">æ‰“å¼€æŸ¥çœ‹å™¨</button>
    
    <script src="frontend/js/multiImageViewer_v8.js"></script>
    <script>
        function openViewer() {
            const images = [
                {
                    url: 'image1.jpg',
                    title: 'å›¾ç‰‡1',
                    detectedNumbers: [
                        { x: 100, y: 100, number: '1', name: 'éƒ¨ä»¶1' }
                    ],
                    referenceMap: { '1': 'éƒ¨ä»¶1' }
                }
            ];
            
            const viewer = new MultiImageViewerV8(images);
            viewer.open(0);
        }
    </script>
</body>
</html>
```

## ğŸ¯ é›†æˆæ­¥éª¤

### æ­¥éª¤1ï¼šå‡†å¤‡å›¾ç‰‡æ•°æ®

```javascript
const images = [
    {
        url: 'path/to/image1.jpg',        // å›¾ç‰‡URL
        title: 'ä¸“åˆ©é™„å›¾ 1',               // å›¾ç‰‡æ ‡é¢˜
        detectedNumbers: [                 // OCRè¯†åˆ«çš„æ ‡è®°
            {
                x: 150,                    // æ ‡è®°Xåæ ‡
                y: 100,                    // æ ‡è®°Yåæ ‡
                number: '1',               // æ ‡è®°åºå·
                name: 'å¤–å£³',              // æ ‡è®°åç§°
                confidence: 0.95           // ç½®ä¿¡åº¦ï¼ˆå¯é€‰ï¼‰
            }
        ],
        referenceMap: {                    // åºå·åˆ°åç§°çš„æ˜ å°„
            '1': 'å¤–å£³',
            '2': 'æ˜¾ç¤ºå±'
        }
    },
    // æ›´å¤šå›¾ç‰‡...
];
```

### æ­¥éª¤2ï¼šåˆ›å»ºæŸ¥çœ‹å™¨

```javascript
const viewer = new MultiImageViewerV8(images, {
    fontSize: 22,              // å­—ä½“å¤§å°ï¼ˆé»˜è®¤22ï¼‰
    highlightColor: '#FFD700'  // é«˜äº®é¢œè‰²ï¼ˆé»˜è®¤é‡‘é»„è‰²ï¼‰
});
```

### æ­¥éª¤3ï¼šæ‰“å¼€æŸ¥çœ‹å™¨

```javascript
viewer.open(0);  // ä»ç¬¬ä¸€å¼ å›¾ç‰‡å¼€å§‹ï¼ˆç´¢å¼•ä»0å¼€å§‹ï¼‰
```

## ğŸ”§ é…ç½®é€‰é¡¹

```javascript
const options = {
    fontSize: 22,              // åˆå§‹å­—ä½“å¤§å°ï¼ˆ12-40ï¼‰
    highlightColor: '#FFD700', // é«˜äº®é¢œè‰²ï¼ˆCSSé¢œè‰²å€¼ï¼‰
};

const viewer = new MultiImageViewerV8(images, options);
```

## ğŸ“± å“åº”å¼é€‚é…

æŸ¥çœ‹å™¨è‡ªåŠ¨é€‚é…å±å¹•å°ºå¯¸ï¼š
- æ¡Œé¢ç«¯ï¼š95% å®½åº¦ï¼Œ90% é«˜åº¦
- å¹³æ¿/æ‰‹æœºï¼šè‡ªåŠ¨è°ƒæ•´å¸ƒå±€

## ğŸ¨ è‡ªå®šä¹‰æ ·å¼

### ä¿®æ”¹é«˜äº®é¢œè‰²
```javascript
const viewer = new MultiImageViewerV8(images, {
    highlightColor: '#FF69B4'  // ç²‰è‰²
});
```

### ä¿®æ”¹åˆå§‹å­—ä½“
```javascript
const viewer = new MultiImageViewerV8(images, {
    fontSize: 28  // æ›´å¤§çš„å­—ä½“
});
```

## ğŸ› å¸¸è§é—®é¢˜

### Q1: å›¾ç‰‡ä¸æ˜¾ç¤ºï¼Ÿ
**A:** æ£€æŸ¥å›¾ç‰‡URLæ˜¯å¦æ­£ç¡®ï¼Œæ˜¯å¦å­˜åœ¨è·¨åŸŸé—®é¢˜

```javascript
// ç¡®ä¿å›¾ç‰‡URLå¯è®¿é—®
console.log('å›¾ç‰‡URL:', images[0].url);
```

### Q2: æ ‡æ³¨ä½ç½®ä¸å‡†ç¡®ï¼Ÿ
**A:** ç¡®ä¿åæ ‡æ˜¯åŸºäºåŸå§‹å›¾ç‰‡å°ºå¯¸çš„

```javascript
// åæ ‡åº”è¯¥æ˜¯åŸå§‹å›¾ç‰‡çš„åƒç´ åæ ‡
{ x: 150, y: 100 }  // æ­£ç¡®
{ x: 0.25, y: 0.25 } // é”™è¯¯ï¼ˆä¸æ˜¯ç™¾åˆ†æ¯”ï¼‰
```

### Q3: å¦‚ä½•è·å–æ ‡æ³¨æ•°æ®ï¼Ÿ
**A:** ä½¿ç”¨è°ƒè¯•é¢æ¿æŸ¥çœ‹

```javascript
// ç‚¹å‡»ä¾§è¾¹æ "ğŸ”§ è°ƒè¯•é¢æ¿"æŒ‰é’®
// æˆ–åœ¨æ§åˆ¶å°æŸ¥çœ‹
console.log(viewer.annotations);
```

### Q4: å¦‚ä½•ç¦ç”¨æŸäº›åŠŸèƒ½ï¼Ÿ
**A:** ä¿®æ”¹æºä»£ç æˆ–éšè—å¯¹åº”æŒ‰é’®

```javascript
// ä¾‹å¦‚ï¼šéšè—æ—‹è½¬æŒ‰é’®
document.querySelector('.rotate-section').style.display = 'none';
```

## ğŸ“Š æ€§èƒ½ä¼˜åŒ–å»ºè®®

### 1. å›¾ç‰‡ä¼˜åŒ–
```javascript
// ä½¿ç”¨å‹ç¼©åçš„å›¾ç‰‡
const images = [
    {
        url: 'image1_compressed.jpg',  // å»ºè®® < 2MB
        // ...
    }
];
```

### 2. æ‡’åŠ è½½
```javascript
// åªåœ¨éœ€è¦æ—¶åŠ è½½å›¾ç‰‡
function loadImageOnDemand(index) {
    const img = new Image();
    img.src = images[index].url;
    return img;
}
```

### 3. ç¼“å­˜ç­–ç•¥
```javascript
// æµè§ˆå™¨ä¼šè‡ªåŠ¨ç¼“å­˜å·²åŠ è½½çš„å›¾ç‰‡
// ç¡®ä¿æœåŠ¡å™¨è®¾ç½®äº†æ­£ç¡®çš„ç¼“å­˜å¤´
```

## ğŸ”„ ç‰ˆæœ¬å‡çº§

### ä» v7.0 å‡çº§åˆ° v8.0

```javascript
// v7.0 ä»£ç 
const marker = new InteractiveDrawingMarker(
    'canvas1', imageUrl, detectedNumbers, referenceMap
);

// v8.0 ä»£ç ï¼ˆå•å›¾æ¨¡å¼ï¼‰
const marker = new InteractiveDrawingMarkerV8(
    'canvas1', imageUrl, detectedNumbers, referenceMap
);

// v8.0 ä»£ç ï¼ˆå¤šå›¾æ¨¡å¼ï¼Œæ¨èï¼‰
const viewer = new MultiImageViewerV8([
    { url: imageUrl, detectedNumbers, referenceMap }
]);
viewer.open(0);
```

## ğŸ§ª æµ‹è¯•æ¸…å•

éƒ¨ç½²å‰è¯·æµ‹è¯•ä»¥ä¸‹åŠŸèƒ½ï¼š

- [ ] å›¾ç‰‡æ­£å¸¸æ˜¾ç¤º
- [ ] å·¦å³ç®­å¤´åˆ‡æ¢
- [ ] é”®ç›˜æ–¹å‘é”®å¯¼èˆª
- [ ] é¼ æ ‡æ»šè½®ç¼©æ”¾
- [ ] æ‹–åŠ¨æŸ¥çœ‹
- [ ] æ—‹è½¬åŠŸèƒ½
- [ ] å­—ä½“è°ƒæ•´
- [ ] æ ‡æ³¨é«˜äº®
- [ ] åŒå‡»æ·»åŠ æ ‡æ³¨
- [ ] è°ƒè¯•é¢æ¿
- [ ] ESCå…³é—­

## ğŸ“ æŠ€æœ¯æ”¯æŒ

### æŸ¥çœ‹æ—¥å¿—
```javascript
// æ‰“å¼€æµè§ˆå™¨æ§åˆ¶å°ï¼ˆF12ï¼‰
// æŸ¥çœ‹é”™è¯¯ä¿¡æ¯å’Œæ—¥å¿—
```

### è°ƒè¯•æ¨¡å¼
```javascript
// ç‚¹å‡»"ğŸ”§ è°ƒè¯•é¢æ¿"æŒ‰é’®
// æŸ¥çœ‹è¯¦ç»†çš„æ ‡æ³¨æ•°æ®å’Œå›¾ç‰‡ä¿¡æ¯
```

## ğŸ‰ å¿«é€ŸéªŒè¯

### 1åˆ†é’ŸéªŒè¯
```bash
# 1. æ‰“å¼€æµ‹è¯•é¡µé¢
test_multi_image_viewer_v8.html

# 2. ç‚¹å‡»"æ‰“å¼€å¤šå›¾æŸ¥çœ‹å™¨"æŒ‰é’®

# 3. æµ‹è¯•ä»¥ä¸‹åŠŸèƒ½ï¼š
#    - é¼ æ ‡ç§»åˆ°è¾¹ç¼˜ï¼Œçœ‹åˆ°ç®­å¤´
#    - ç‚¹å‡»ç®­å¤´åˆ‡æ¢å›¾ç‰‡
#    - æ»šè½®ç¼©æ”¾
#    - ç‚¹å‡»æ ‡æ³¨åˆ—è¡¨é«˜äº®
#    - åŒå‡»å›¾ç‰‡æ·»åŠ æ ‡æ³¨
```

## ğŸ“ éƒ¨ç½²æ£€æŸ¥è¡¨

éƒ¨ç½²åˆ°ç”Ÿäº§ç¯å¢ƒå‰ï¼š

- [ ] å·²æµ‹è¯•æ‰€æœ‰åŠŸèƒ½
- [ ] å›¾ç‰‡URLæ­£ç¡®
- [ ] è·¨åŸŸé—®é¢˜å·²è§£å†³
- [ ] æ€§èƒ½æµ‹è¯•é€šè¿‡
- [ ] æµè§ˆå™¨å…¼å®¹æ€§ç¡®è®¤
- [ ] ç§»åŠ¨ç«¯é€‚é…æµ‹è¯•
- [ ] é”™è¯¯å¤„ç†å®Œå–„
- [ ] ç”¨æˆ·æ–‡æ¡£å‡†å¤‡

## ğŸš€ ç”Ÿäº§ç¯å¢ƒéƒ¨ç½²

### Nginx é…ç½®ç¤ºä¾‹
```nginx
location /js/ {
    alias /path/to/frontend/js/;
    expires 7d;
    add_header Cache-Control "public, immutable";
}
```

### CDN åŠ é€Ÿ
```html
<!-- å¦‚æœä½¿ç”¨CDN -->
<script src="https://cdn.example.com/js/multiImageViewer_v8.js"></script>
```

## ğŸ¯ æ€»ç»“

v8.0 éƒ¨ç½²éå¸¸ç®€å•ï¼š
1. å¤åˆ¶ JS æ–‡ä»¶
2. å‡†å¤‡å›¾ç‰‡æ•°æ®
3. åˆ›å»ºæŸ¥çœ‹å™¨å®ä¾‹
4. è°ƒç”¨ open() æ–¹æ³•

æ¨èä½¿ç”¨ `test_multi_image_viewer_v8.html` å¿«é€ŸéªŒè¯åŠŸèƒ½ï¼
