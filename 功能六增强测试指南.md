# 功能六增强功能测试指南

## 快速测试步骤

### 测试1：自定义模板功能

#### 1.1 创建新模板
1. 打开网站，进入"功能六：批量专利解读"
2. 找到"解读模板"选择器
3. 点击"管理模板"按钮
4. 点击"新建模板"按钮
5. 输入模板名称：`测试模板`
6. 输入模板描述：`这是一个测试模板`
7. 点击"+ 添加字段"
8. 输入字段名称：`核心技术`
9. 输入字段描述：`该专利的核心技术要点`
10. 再添加一个字段：`应用价值` / `该专利的实际应用价值`
11. 点击"保存模板"
12. ✅ 应该看到成功提示

#### 1.2 切换模板
1. 在模板选择器中选择"技术分析模板"
2. 点击"管理模板"查看字段
3. ✅ 应该看到技术分析模板的6个字段
4. 切换回"测试模板"
5. ✅ 应该看到刚才创建的2个字段

#### 1.3 导出模板
1. 选择"测试模板"
2. 点击"导出模板"按钮
3. ✅ 应该下载一个JSON文件
4. 打开JSON文件查看内容
5. ✅ 应该包含模板名称、字段等信息

#### 1.4 导入模板
1. 点击"导入模板"按钮
2. 选择刚才导出的JSON文件
3. ✅ 应该提示导入成功（可能会重命名）
4. 在模板选择器中查看
5. ✅ 应该看到导入的模板

#### 1.5 删除模板
1. 选择"测试模板"
2. 点击"删除模板"按钮
3. 确认删除
4. ✅ 应该提示删除成功
5. ✅ 模板选择器中不再显示该模板

### 测试2：使用自定义模板解读专利

#### 2.1 准备测试数据
使用以下测试专利号：
```
CN104154208B
US10123456A1
```

#### 2.2 查询专利
1. 在"专利号列表"输入框中输入测试专利号
2. 点击"批量查询专利"
3. ✅ 应该显示查询结果
4. ✅ 每个专利卡片应该有"问一问"按钮

#### 2.3 使用自定义模板解读
1. 创建一个新模板"简化模板"，只包含3个字段：
   - `技术要点` / `核心技术要点`
   - `创新之处` / `主要创新点`
   - `应用领域` / `主要应用领域`
2. 保存模板
3. 选择"简化模板"
4. 点击"一键解读全部"
5. ✅ 应该显示解读进度
6. ✅ 解读结果应该只显示3个字段的表格
7. ✅ 表格内容应该与字段名称对应

#### 2.4 导出Excel
1. 点击"导出为Excel"按钮
2. ✅ 应该下载Excel文件
3. 打开Excel文件
4. ✅ 应该包含基本信息列（专利号、标题等）
5. ✅ 应该包含自定义字段列（技术要点、创新之处、应用领域）
6. ✅ 列宽应该合适

### 测试3：专利对话功能

#### 3.1 打开对话窗口
1. 在专利查询结果中，点击某个专利的"问一问"按钮
2. ✅ 应该弹出对话窗口
3. ✅ 窗口标题应该显示专利号
4. ✅ 窗口副标题应该显示专利标题
5. ✅ 应该显示欢迎消息和常见问题提示

#### 3.2 单轮对话
1. 在输入框中输入：`这个专利的核心创新点是什么？`
2. 点击"发送"按钮（或按Enter键）
3. ✅ 应该显示加载动画（三个点）
4. ✅ 几秒后应该显示AI回复
5. ✅ 回复内容应该与专利相关
6. ✅ 消息应该有时间戳

#### 3.3 多轮对话
1. 继续提问：`与现有技术相比有什么优势？`
2. ✅ 应该显示新的回复
3. 再提问：`这个专利的应用场景有哪些？`
4. ✅ 应该显示第三个回复
5. ✅ 对话历史应该保留所有消息

#### 3.4 对话操作
1. 点击"导出对话"按钮
2. ✅ 应该下载文本文件
3. 打开文本文件
4. ✅ 应该包含完整的对话记录
5. 点击"清空对话"按钮
6. 确认清空
7. ✅ 对话历史应该被清空
8. ✅ 应该重新显示欢迎消息

#### 3.5 关闭对话
1. 点击右上角的关闭按钮
2. ✅ 对话窗口应该关闭
3. 再次点击"问一问"按钮
4. ✅ 对话历史应该已清空（新会话）

### 测试4：边界情况

#### 4.1 空模板名称
1. 创建新模板
2. 不输入模板名称
3. 点击"保存模板"
4. ✅ 应该提示"请输入模板名称"

#### 4.2 空字段
1. 创建新模板
2. 添加字段但不填写名称或描述
3. 点击"保存模板"
4. ✅ 应该提示"请填写所有字段的名称和描述"

#### 4.3 重复模板名称
1. 创建新模板，名称为"默认模板"
2. 点击"保存模板"
3. ✅ 应该提示"模板名称已存在"

#### 4.4 无模板解读
1. 删除所有自定义模板
2. 不选择任何模板
3. 点击"一键解读全部"
4. ✅ 应该提示"请先选择解读模板"

#### 4.5 空对话
1. 打开对话窗口
2. 不输入任何内容
3. 点击"发送"
4. ✅ 应该提示"请输入您的问题"

### 测试5：响应式设计

#### 5.1 移动端测试
1. 使用Chrome开发者工具切换到移动设备视图
2. 测试模板管理界面
3. ✅ 布局应该适配移动端
4. 测试对话窗口
5. ✅ 对话窗口应该适配移动端
6. ✅ 输入框和按钮应该堆叠显示

#### 5.2 不同屏幕尺寸
1. 调整浏览器窗口大小
2. ✅ 模板管理区应该自适应
3. ✅ 对话窗口应该自适应
4. ✅ 不应该出现横向滚动条

### 测试6：性能测试

#### 6.1 大量字段
1. 创建一个包含20个字段的模板
2. 保存模板
3. ✅ 应该能正常保存
4. 使用该模板解读专利
5. ✅ 应该能正常解读
6. ✅ 表格应该能正常显示所有字段

#### 6.2 长文本
1. 在对话中输入很长的问题（500字）
2. ✅ 应该能正常发送
3. ✅ AI应该能正常回复

### 测试7：错误处理

#### 7.1 网络错误
1. 断开网络连接
2. 尝试解读专利
3. ✅ 应该显示错误提示
4. 尝试发送对话消息
5. ✅ 应该显示错误提示

#### 7.2 API错误
1. 使用无效的API Key
2. 尝试解读专利
3. ✅ 应该显示错误提示

## 预期结果总结

### 自定义模板功能
- ✅ 可以创建、编辑、删除自定义模板
- ✅ 可以导入、导出模板
- ✅ 模板持久化存储
- ✅ 解读结果动态适配模板
- ✅ Excel导出包含自定义字段

### 专利对话功能
- ✅ 可以针对单个专利提问
- ✅ 支持多轮对话
- ✅ 对话历史保留
- ✅ 可以导出对话记录
- ✅ 可以清空对话历史

### 用户体验
- ✅ 界面美观、直观
- ✅ 操作流畅、响应快
- ✅ 错误提示友好
- ✅ 移动端适配良好

## 常见问题

### Q1: 模板保存后在哪里？
A: 模板保存在浏览器的localStorage中，清除浏览器数据会丢失。建议定期导出重要模板。

### Q2: 对话历史会保存吗？
A: 对话历史在会话期间保留，关闭对话窗口后会清空。如需保存，请使用"导出对话"功能。

### Q3: 可以创建多少个模板？
A: 理论上没有限制，但受localStorage容量限制（通常5-10MB）。

### Q4: 预设模板可以修改吗？
A: 预设模板不能直接修改，但可以基于预设模板创建新的自定义模板。

### Q5: 对话功能支持哪些语言？
A: 支持中文和英文，AI会根据专利语言自动适配。

## 测试完成检查清单

- [ ] 创建自定义模板
- [ ] 编辑模板字段
- [ ] 删除模板
- [ ] 导出模板
- [ ] 导入模板
- [ ] 使用自定义模板解读
- [ ] 解读结果显示正确
- [ ] Excel导出包含自定义字段
- [ ] 打开专利对话
- [ ] 单轮对话
- [ ] 多轮对话
- [ ] 导出对话记录
- [ ] 清空对话历史
- [ ] 移动端适配
- [ ] 错误处理

## 反馈和报告

如果发现任何问题，请记录：
1. 问题描述
2. 复现步骤
3. 预期结果
4. 实际结果
5. 浏览器和版本
6. 截图（如有）

测试愉快！🎉
